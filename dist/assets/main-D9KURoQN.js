var I_=t=>{throw TypeError(t)};var bp=(t,e,n)=>e.has(t)||I_("Cannot "+n);var z=(t,e,n)=>(bp(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?I_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(bp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(bp(t,e,"access private method"),n);var qc=(t,e,n,r)=>({set _(i){Ee(t,e,i,n)},get _(){return z(t,e,r)}});function kD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function OS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MS={exports:{}},cf={},LS={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),ND=Symbol.for("react.portal"),DD=Symbol.for("react.fragment"),VD=Symbol.for("react.strict_mode"),OD=Symbol.for("react.profiler"),MD=Symbol.for("react.provider"),LD=Symbol.for("react.context"),FD=Symbol.for("react.forward_ref"),jD=Symbol.for("react.suspense"),UD=Symbol.for("react.memo"),BD=Symbol.for("react.lazy"),R_=Symbol.iterator;function $D(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jS=Object.assign,US={};function Qa(t,e,n){this.props=t,this.context=e,this.refs=US,this.updater=n||FS}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BS(){}BS.prototype=Qa.prototype;function Hy(t,e,n){this.props=t,this.context=e,this.refs=US,this.updater=n||FS}var qy=Hy.prototype=new BS;qy.constructor=Hy;jS(qy,Qa.prototype);qy.isPureReactComponent=!0;var k_=Array.isArray,$S=Object.prototype.hasOwnProperty,Ky={current:null},zS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$S.call(e,r)&&!zS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:oc,type:t,key:s,ref:o,props:i,_owner:Ky.current}}function zD(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gy(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function WD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var N_=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WD(""+t.key):e.toString(36)}function bd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oc:case ND:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ap(o,0):r,k_(i)?(n="",t!=null&&(n=t.replace(N_,"$&/")+"/"),bd(i,e,n,"",function(c){return c})):i!=null&&(Gy(i)&&(i=zD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ap(s,a);o+=bd(s,e,n,l,i)}else if(l=$D(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ap(s,a++),o+=bd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kc(t,e,n){if(t==null)return t;var r=[],i=0;return bd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Ad={transition:null},qD={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:Ky};function HS(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!Gy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Qa;Se.Fragment=DD;Se.Profiler=OD;Se.PureComponent=Hy;Se.StrictMode=VD;Se.Suspense=jD;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;Se.act=HS;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$S.call(e,l)&&!zS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:oc,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:LD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MD,_context:t},t.Consumer=t};Se.createElement=WS;Se.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:FD,render:t}};Se.isValidElement=Gy;Se.lazy=function(t){return{$$typeof:BD,_payload:{_status:-1,_result:t},_init:HD}};Se.memo=function(t,e){return{$$typeof:UD,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};Se.unstable_act=HS;Se.useCallback=function(t,e){return sn.current.useCallback(t,e)};Se.useContext=function(t){return sn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return sn.current.useEffect(t,e)};Se.useId=function(){return sn.current.useId()};Se.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return sn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Se.useRef=function(t){return sn.current.useRef(t)};Se.useState=function(t){return sn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return sn.current.useTransition()};Se.version="18.3.1";LS.exports=Se;var S=LS.exports;const W=OS(S),KD=kD({__proto__:null,default:W},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD=S,QD=Symbol.for("react.element"),YD=Symbol.for("react.fragment"),XD=Object.prototype.hasOwnProperty,JD=GD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZD={key:!0,ref:!0,__self:!0,__source:!0};function qS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XD.call(e,r)&&!ZD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QD,type:t,key:s,ref:o,props:i,_owner:JD.current}}cf.Fragment=YD;cf.jsx=qS;cf.jsxs=qS;MS.exports=cf;var b=MS.exports,KS={exports:{}},Nn={},GS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,K){var te=j.length;j.push(K);e:for(;0<te;){var ne=te-1>>>1,le=j[ne];if(0<i(le,K))j[ne]=K,j[te]=le,te=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],te=j.pop();if(te!==K){j[0]=te;e:for(var ne=0,le=j.length,ce=le>>>1;ne<ce;){var Oe=2*(ne+1)-1,rt=j[Oe],Ae=Oe+1,pt=j[Ae];if(0>i(rt,te))Ae<le&&0>i(pt,rt)?(j[ne]=pt,j[Ae]=te,ne=Ae):(j[ne]=rt,j[Oe]=te,ne=Oe);else if(Ae<le&&0>i(pt,te))j[ne]=pt,j[Ae]=te,ne=Ae;else break e}}return K}function i(j,K){var te=j.sortIndex-K.sortIndex;return te!==0?te:j.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=j)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function k(j){if(_=!1,T(j),!w)if(n(l)!==null)w=!0,ae(D);else{var K=n(c);K!==null&&ee(k,K.startTime-j)}}function D(j,K){w=!1,_&&(_=!1,y(x),x=-1),m=!0;var te=f;try{for(T(K),h=n(l);h!==null&&(!(h.expirationTime>K)||j&&!V());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var le=ne(h.expirationTime<=K);K=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(l)&&r(l),T(K)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var Oe=n(c);Oe!==null&&ee(k,Oe.startTime-K),ce=!1}return ce}finally{h=null,f=te,m=!1}}var M=!1,C=null,x=-1,P=5,I=-1;function V(){return!(t.unstable_now()-I<P)}function N(){if(C!==null){var j=t.unstable_now();I=j;var K=!0;try{K=C(!0,j)}finally{K?R():(M=!1,C=null)}}else M=!1}var R;if(typeof v=="function")R=function(){v(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,oe=q.port2;q.port1.onmessage=N,R=function(){oe.postMessage(null)}}else R=function(){E(N,0)};function ae(j){C=j,M||(M=!0,R())}function ee(j,K){x=E(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ae(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var te=f;f=K;try{return j()}finally{f=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=f;f=j;try{return K()}finally{f=te}},t.unstable_scheduleCallback=function(j,K,te){var ne=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ne+te:ne):te=ne,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=te+le,j={id:d++,callback:K,priorityLevel:j,startTime:te,expirationTime:le,sortIndex:-1},te>ne?(j.sortIndex=te,e(c,j),n(l)===null&&j===n(c)&&(_?(y(x),x=-1):_=!0,ee(k,te-ne))):(j.sortIndex=le,e(l,j),w||m||(w=!0,ae(D))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var K=f;return function(){var te=f;f=K;try{return j.apply(this,arguments)}finally{f=te}}}})(QS);GS.exports=QS;var eV=GS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tV=S,kn=eV;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YS=new Set,wu={};function _o(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(wu[t]=e,t=0;t<e.length;t++)YS.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=Object.prototype.hasOwnProperty,nV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D_={},V_={};function rV(t){return Om.call(V_,t)?!0:Om.call(D_,t)?!1:nV.test(t)?V_[t]=!0:(D_[t]=!0,!1)}function iV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sV(t,e,n,r){if(e===null||typeof e>"u"||iV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qy=/[\-:]([a-z])/g;function Yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qy,Yy);It[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qy,Yy);It[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qy,Yy);It[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xy(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sV(e,n,i,r)&&(n=null),r||i===null?rV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=tV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),ev=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),O_=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Pp;function Ll(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Ip=!1;function Rp(t,e){if(!t||Ip)return"";Ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ll(t):""}function oV(t){switch(t.tag){case 5:return Ll(t.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return t=Rp(t.type,!1),t;case 11:return t=Rp(t.type.render,!1),t;case 1:return t=Rp(t.type,!0),t;default:return""}}function jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case Uo:return"Portal";case Mm:return"Profiler";case Jy:return"StrictMode";case Lm:return"Suspense";case Fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JS:return(t.displayName||"Context")+".Consumer";case XS:return(t._context.displayName||"Context")+".Provider";case Zy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ev:return e=t.displayName||null,e!==null?e:jm(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return jm(t(e))}catch{}}return null}function aV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jm(e);case 8:return e===Jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lV(t){var e=eC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=lV(t))}function tC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Um(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nC(t,e){e=e.checked,e!=null&&Xy(t,"checked",e,!1)}function Bm(t,e){nC(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$m(t,e.type,n):e.hasOwnProperty("defaultValue")&&$m(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $m(t,e,n){(e!=="number"||th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fl=Array.isArray;function ia(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function F_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Fl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function rC(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,sC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uV=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(t){uV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jl[e]=Jl[t]})});function oC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jl.hasOwnProperty(t)&&Jl[t]?(""+e).trim():e+"px"}function aC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cV=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hm(t,e){if(e){if(cV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function qm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=null;function tv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gm=null,sa=null,oa=null;function U_(t){if(t=uc(t)){if(typeof Gm!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=mf(e),Gm(t.stateNode,t.type,e))}}function lC(t){sa?oa?oa.push(t):oa=[t]:sa=t}function uC(){if(sa){var t=sa,e=oa;if(oa=sa=null,U_(t),e)for(t=0;t<e.length;t++)U_(e[t])}}function cC(t,e){return t(e)}function dC(){}var kp=!1;function hC(t,e,n){if(kp)return t(e,n);kp=!0;try{return cC(t,e,n)}finally{kp=!1,(sa!==null||oa!==null)&&(dC(),uC())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=mf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Qm=!1;if(si)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Qm=!1}function dV(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zl=!1,nh=null,rh=!1,Ym=null,hV={onError:function(t){Zl=!0,nh=t}};function fV(t,e,n,r,i,s,o,a,l){Zl=!1,nh=null,dV.apply(hV,arguments)}function pV(t,e,n,r,i,s,o,a,l){if(fV.apply(this,arguments),Zl){if(Zl){var c=nh;Zl=!1,nh=null}else throw Error(Q(198));rh||(rh=!0,Ym=c)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function B_(t){if(Eo(t)!==t)throw Error(Q(188))}function mV(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return B_(i),t;if(s===r)return B_(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function pC(t){return t=mV(t),t!==null?mC(t):null}function mC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mC(t);if(e!==null)return e;t=t.sibling}return null}var gC=kn.unstable_scheduleCallback,$_=kn.unstable_cancelCallback,gV=kn.unstable_shouldYield,yV=kn.unstable_requestPaint,ot=kn.unstable_now,vV=kn.unstable_getCurrentPriorityLevel,nv=kn.unstable_ImmediatePriority,yC=kn.unstable_UserBlockingPriority,ih=kn.unstable_NormalPriority,wV=kn.unstable_LowPriority,vC=kn.unstable_IdlePriority,df=null,Cr=null;function _V(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(df,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:xV,EV=Math.log,TV=Math.LN2;function xV(t){return t>>>=0,t===0?32:31-(EV(t)/TV|0)|0}var Xc=64,Jc=4194304;function jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=jl(a):(s&=o,s!==0&&(r=jl(s)))}else o=n&~i,o!==0?r=jl(o):s!==0&&(r=jl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function SV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=SV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wC(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function Np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function bV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function _C(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EC,iv,TC,xC,SC,Jm=!1,Zc=[],Xi=null,Ji=null,Zi=null,Tu=new Map,xu=new Map,Vi=[],AV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z_(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function bl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uc(e),e!==null&&iv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PV(t,e,n,r,i){switch(e){case"focusin":return Xi=bl(Xi,t,e,n,r,i),!0;case"dragenter":return Ji=bl(Ji,t,e,n,r,i),!0;case"mouseover":return Zi=bl(Zi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tu.set(s,bl(Tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xu.set(s,bl(xu.get(s)||null,t,e,n,r,i)),!0}return!1}function CC(t){var e=zs(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=fC(n),e!==null){t.blockedOn=e,SC(t.priority,function(){TC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Km=r,n.target.dispatchEvent(r),Km=null}else return e=uc(n),e!==null&&iv(e),t.blockedOn=n,!1;e.shift()}return!0}function W_(t,e,n){Pd(t)&&n.delete(e)}function IV(){Jm=!1,Xi!==null&&Pd(Xi)&&(Xi=null),Ji!==null&&Pd(Ji)&&(Ji=null),Zi!==null&&Pd(Zi)&&(Zi=null),Tu.forEach(W_),xu.forEach(W_)}function Al(t,e){t.blockedOn===e&&(t.blockedOn=null,Jm||(Jm=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,IV)))}function Su(t){function e(i){return Al(i,t)}if(0<Zc.length){Al(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&Al(Xi,t),Ji!==null&&Al(Ji,t),Zi!==null&&Al(Zi,t),Tu.forEach(e),xu.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)CC(n),n.blockedOn===null&&Vi.shift()}var aa=gi.ReactCurrentBatchConfig,oh=!0;function RV(t,e,n,r){var i=Ve,s=aa.transition;aa.transition=null;try{Ve=1,sv(t,e,n,r)}finally{Ve=i,aa.transition=s}}function kV(t,e,n,r){var i=Ve,s=aa.transition;aa.transition=null;try{Ve=4,sv(t,e,n,r)}finally{Ve=i,aa.transition=s}}function sv(t,e,n,r){if(oh){var i=Zm(t,e,n,r);if(i===null)$p(t,e,r,ah,n),z_(t,r);else if(PV(i,t,e,n,r))r.stopPropagation();else if(z_(t,r),e&4&&-1<AV.indexOf(t)){for(;i!==null;){var s=uc(i);if(s!==null&&EC(s),s=Zm(t,e,n,r),s===null&&$p(t,e,r,ah,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $p(t,e,r,null,n)}}var ah=null;function Zm(t,e,n,r){if(ah=null,t=tv(r),t=zs(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ah=t,null}function bC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vV()){case nv:return 1;case yC:return 4;case ih:case wV:return 16;case vC:return 536870912;default:return 16}default:return 16}}var Ki=null,ov=null,Id=null;function AC(){if(Id)return Id;var t,e=ov,n=e.length,r,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Id=i.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ed(){return!0}function H_(){return!1}function Dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ed:H_,this.isPropagationStopped=H_,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),e}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},av=Dn(Ya),lc=Ye({},Ya,{view:0,detail:0}),NV=Dn(lc),Dp,Vp,Pl,hf=Ye({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(Dp=t.screenX-Pl.screenX,Vp=t.screenY-Pl.screenY):Vp=Dp=0,Pl=t),Dp)},movementY:function(t){return"movementY"in t?t.movementY:Vp}}),q_=Dn(hf),DV=Ye({},hf,{dataTransfer:0}),VV=Dn(DV),OV=Ye({},lc,{relatedTarget:0}),Op=Dn(OV),MV=Ye({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),LV=Dn(MV),FV=Ye({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jV=Dn(FV),UV=Ye({},Ya,{data:0}),K_=Dn(UV),BV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$V={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zV[t])?!!e[t]:!1}function lv(){return WV}var HV=Ye({},lc,{key:function(t){if(t.key){var e=BV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$V[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lv,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qV=Dn(HV),KV=Ye({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G_=Dn(KV),GV=Ye({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lv}),QV=Dn(GV),YV=Ye({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),XV=Dn(YV),JV=Ye({},hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZV=Dn(JV),eO=[9,13,27,32],uv=si&&"CompositionEvent"in window,eu=null;si&&"documentMode"in document&&(eu=document.documentMode);var tO=si&&"TextEvent"in window&&!eu,PC=si&&(!uv||eu&&8<eu&&11>=eu),Q_=" ",Y_=!1;function IC(t,e){switch(t){case"keyup":return eO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function nO(t,e){switch(t){case"compositionend":return RC(e);case"keypress":return e.which!==32?null:(Y_=!0,Q_);case"textInput":return t=e.data,t===Q_&&Y_?null:t;default:return null}}function rO(t,e){if($o)return t==="compositionend"||!uv&&IC(t,e)?(t=AC(),Id=ov=Ki=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PC&&e.locale!=="ko"?null:e.data;default:return null}}var iO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iO[t.type]:e==="textarea"}function kC(t,e,n,r){lC(r),e=lh(e,"onChange"),0<e.length&&(n=new av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tu=null,Cu=null;function sO(t){$C(t,0)}function ff(t){var e=Ho(t);if(tC(e))return t}function oO(t,e){if(t==="change")return e}var NC=!1;if(si){var Mp;if(si){var Lp="oninput"in document;if(!Lp){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),Lp=typeof J_.oninput=="function"}Mp=Lp}else Mp=!1;NC=Mp&&(!document.documentMode||9<document.documentMode)}function Z_(){tu&&(tu.detachEvent("onpropertychange",DC),Cu=tu=null)}function DC(t){if(t.propertyName==="value"&&ff(Cu)){var e=[];kC(e,Cu,t,tv(t)),hC(sO,e)}}function aO(t,e,n){t==="focusin"?(Z_(),tu=e,Cu=n,tu.attachEvent("onpropertychange",DC)):t==="focusout"&&Z_()}function lO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ff(Cu)}function uO(t,e){if(t==="click")return ff(e)}function cO(t,e){if(t==="input"||t==="change")return ff(e)}function dO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:dO;function bu(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Om.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function eE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tE(t,e){var n=eE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eE(n)}}function VC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OC(){for(var t=window,e=th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=th(t.document)}return e}function cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hO(t){var e=OC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VC(n.ownerDocument.documentElement,n)){if(r!==null&&cv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tE(n,s);var o=tE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fO=si&&"documentMode"in document&&11>=document.documentMode,zo=null,eg=null,nu=null,tg=!1;function nE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tg||zo==null||zo!==th(r)||(r=zo,"selectionStart"in r&&cv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nu&&bu(nu,r)||(nu=r,r=lh(eg,"onSelect"),0<r.length&&(e=new av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zo)))}function td(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wo={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Fp={},MC={};si&&(MC=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function pf(t){if(Fp[t])return Fp[t];if(!Wo[t])return t;var e=Wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MC)return Fp[t]=e[n];return t}var LC=pf("animationend"),FC=pf("animationiteration"),jC=pf("animationstart"),UC=pf("transitionend"),BC=new Map,rE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){BC.set(t,e),_o(e,[t])}for(var jp=0;jp<rE.length;jp++){var Up=rE[jp],pO=Up.toLowerCase(),mO=Up[0].toUpperCase()+Up.slice(1);Cs(pO,"on"+mO)}Cs(LC,"onAnimationEnd");Cs(FC,"onAnimationIteration");Cs(jC,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(UC,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function iE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pV(r,e,void 0,t),t.currentTarget=null}function $C(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;iE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;iE(i,a,c),s=l}}}if(rh)throw t=Ym,rh=!1,Ym=null,t}function ze(t,e){var n=e[og];n===void 0&&(n=e[og]=new Set);var r=t+"__bubble";n.has(r)||(zC(e,t,2,!1),n.add(r))}function Bp(t,e,n){var r=0;e&&(r|=4),zC(n,t,r,e)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[nd]){t[nd]=!0,YS.forEach(function(n){n!=="selectionchange"&&(gO.has(n)||Bp(n,!1,t),Bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nd]||(e[nd]=!0,Bp("selectionchange",!1,e))}}function zC(t,e,n,r){switch(bC(e)){case 1:var i=RV;break;case 4:i=kV;break;default:i=sv}n=i.bind(null,e,n,t),i=void 0,!Qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $p(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hC(function(){var c=s,d=tv(n),h=[];e:{var f=BC.get(t);if(f!==void 0){var m=av,w=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":m=qV;break;case"focusin":w="focus",m=Op;break;case"focusout":w="blur",m=Op;break;case"beforeblur":case"afterblur":m=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=VV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QV;break;case LC:case FC:case jC:m=LV;break;case UC:m=XV;break;case"scroll":m=NV;break;case"wheel":m=ZV;break;case"copy":case"cut":case"paste":m=jV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G_}var _=(e&4)!==0,E=!_&&t==="scroll",y=_?f!==null?f+"Capture":null:f;_=[];for(var v=c,T;v!==null;){T=v;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,y!==null&&(k=Eu(v,y),k!=null&&_.push(Pu(v,k,T)))),E)break;v=v.return}0<_.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Km&&(w=n.relatedTarget||n.fromElement)&&(zs(w)||w[oi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?zs(w):null,w!==null&&(E=Eo(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(_=q_,k="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=G_,k="onPointerLeave",y="onPointerEnter",v="pointer"),E=m==null?f:Ho(m),T=w==null?f:Ho(w),f=new _(k,v+"leave",m,n,d),f.target=E,f.relatedTarget=T,k=null,zs(d)===c&&(_=new _(y,v+"enter",w,n,d),_.target=T,_.relatedTarget=E,k=_),E=k,m&&w)t:{for(_=m,y=w,v=0,T=_;T;T=No(T))v++;for(T=0,k=y;k;k=No(k))T++;for(;0<v-T;)_=No(_),v--;for(;0<T-v;)y=No(y),T--;for(;v--;){if(_===y||y!==null&&_===y.alternate)break t;_=No(_),y=No(y)}_=null}else _=null;m!==null&&sE(h,f,m,_,!1),w!==null&&E!==null&&sE(h,E,w,_,!0)}}e:{if(f=c?Ho(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=oO;else if(X_(f))if(NC)D=cO;else{D=lO;var M=aO}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=uO);if(D&&(D=D(t,c))){kC(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&$m(f,"number",f.value)}switch(M=c?Ho(c):window,t){case"focusin":(X_(M)||M.contentEditable==="true")&&(zo=M,eg=c,nu=null);break;case"focusout":nu=eg=zo=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,nE(h,n,d);break;case"selectionchange":if(fO)break;case"keydown":case"keyup":nE(h,n,d)}var C;if(uv)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else $o?IC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(PC&&n.locale!=="ko"&&($o||x!=="onCompositionStart"?x==="onCompositionEnd"&&$o&&(C=AC()):(Ki=d,ov="value"in Ki?Ki.value:Ki.textContent,$o=!0)),M=lh(c,x),0<M.length&&(x=new K_(x,t,null,n,d),h.push({event:x,listeners:M}),C?x.data=C:(C=RC(n),C!==null&&(x.data=C)))),(C=tO?nO(t,n):rO(t,n))&&(c=lh(c,"onBeforeInput"),0<c.length&&(d=new K_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}$C(h,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,n),s!=null&&r.unshift(Pu(t,s,i)),s=Eu(t,e),s!=null&&r.push(Pu(t,s,i))),t=t.return}return r}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Eu(n,s),l!=null&&o.unshift(Pu(n,l,a))):i||(l=Eu(n,s),l!=null&&o.push(Pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yO=/\r\n?/g,vO=/\u0000|\uFFFD/g;function oE(t){return(typeof t=="string"?t:""+t).replace(yO,`
`).replace(vO,"")}function rd(t,e,n){if(e=oE(e),oE(t)!==e&&n)throw Error(Q(425))}function uh(){}var ng=null,rg=null;function ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,_O=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(t){return aE.resolve(null).then(t).catch(EO)}:sg;function EO(t){setTimeout(function(){throw t})}function zp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Su(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),xr="__reactFiber$"+Xa,Iu="__reactProps$"+Xa,oi="__reactContainer$"+Xa,og="__reactEvents$"+Xa,TO="__reactListeners$"+Xa,xO="__reactHandles$"+Xa;function zs(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lE(t);t!==null;){if(n=t[xr])return n;t=lE(t)}return e}t=n,n=t.parentNode}return null}function uc(t){return t=t[xr]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function mf(t){return t[Iu]||null}var ag=[],qo=-1;function bs(t){return{current:t}}function He(t){0>qo||(t.current=ag[qo],ag[qo]=null,qo--)}function je(t,e){qo++,ag[qo]=t.current,t.current=e}var hs={},Ht=bs(hs),yn=bs(!1),oo=hs;function ba(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function ch(){He(yn),He(Ht)}function uE(t,e,n){if(Ht.current!==hs)throw Error(Q(168));je(Ht,e),je(yn,n)}function WC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,aV(t)||"Unknown",i));return Ye({},n,r)}function dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,oo=Ht.current,je(Ht,t),je(yn,yn.current),!0}function cE(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=WC(t,e,oo),r.__reactInternalMemoizedMergedChildContext=t,He(yn),He(Ht),je(Ht,t)):He(yn),je(yn,n)}var Kr=null,gf=!1,Wp=!1;function HC(t){Kr===null?Kr=[t]:Kr.push(t)}function SO(t){gf=!0,HC(t)}function As(){if(!Wp&&Kr!==null){Wp=!0;var t=0,e=Ve;try{var n=Kr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,gf=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(t+1)),gC(nv,As),i}finally{Ve=e,Wp=!1}}return null}var Ko=[],Go=0,hh=null,fh=0,$n=[],zn=0,ao=null,Gr=1,Qr="";function js(t,e){Ko[Go++]=fh,Ko[Go++]=hh,hh=t,fh=e}function qC(t,e,n){$n[zn++]=Gr,$n[zn++]=Qr,$n[zn++]=ao,ao=t;var r=Gr;t=Qr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gr=1<<32-sr(e)+i|n<<i|r,Qr=s+t}else Gr=1<<s|n<<i|r,Qr=t}function dv(t){t.return!==null&&(js(t,1),qC(t,1,0))}function hv(t){for(;t===hh;)hh=Ko[--Go],Ko[Go]=null,fh=Ko[--Go],Ko[Go]=null;for(;t===ao;)ao=$n[--zn],$n[zn]=null,Qr=$n[--zn],$n[zn]=null,Gr=$n[--zn],$n[zn]=null}var Pn=null,bn=null,qe=!1,rr=null;function KC(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,bn=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ao!==null?{id:Gr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,bn=null,!0):!1;default:return!1}}function lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ug(t){if(qe){var e=bn;if(e){var n=e;if(!dE(t,e)){if(lg(t))throw Error(Q(418));e=es(n.nextSibling);var r=Pn;e&&dE(t,e)?KC(r,n):(t.flags=t.flags&-4097|2,qe=!1,Pn=t)}}else{if(lg(t))throw Error(Q(418));t.flags=t.flags&-4097|2,qe=!1,Pn=t}}}function hE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function id(t){if(t!==Pn)return!1;if(!qe)return hE(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ig(t.type,t.memoizedProps)),e&&(e=bn)){if(lg(t))throw GC(),Error(Q(418));for(;e;)KC(t,e),e=es(e.nextSibling)}if(hE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Pn?es(t.stateNode.nextSibling):null;return!0}function GC(){for(var t=bn;t;)t=es(t.nextSibling)}function Aa(){bn=Pn=null,qe=!1}function fv(t){rr===null?rr=[t]:rr.push(t)}var CO=gi.ReactCurrentBatchConfig;function Il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fE(t){var e=t._init;return e(t._payload)}function QC(t){function e(y,v){if(t){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=is(y,v),y.index=0,y.sibling=null,y}function s(y,v,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=2,v):T):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,T,k){return v===null||v.tag!==6?(v=Xp(T,y.mode,k),v.return=y,v):(v=i(v,T),v.return=y,v)}function l(y,v,T,k){var D=T.type;return D===Bo?d(y,v,T.props.children,k,T.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ni&&fE(D)===v.type)?(k=i(v,T.props),k.ref=Il(y,v,T),k.return=y,k):(k=Ld(T.type,T.key,T.props,null,y.mode,k),k.ref=Il(y,v,T),k.return=y,k)}function c(y,v,T,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Jp(T,y.mode,k),v.return=y,v):(v=i(v,T.children||[]),v.return=y,v)}function d(y,v,T,k,D){return v===null||v.tag!==7?(v=to(T,y.mode,k,D),v.return=y,v):(v=i(v,T),v.return=y,v)}function h(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xp(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gc:return T=Ld(v.type,v.key,v.props,null,y.mode,T),T.ref=Il(y,null,v),T.return=y,T;case Uo:return v=Jp(v,y.mode,T),v.return=y,v;case Ni:var k=v._init;return h(y,k(v._payload),T)}if(Fl(v)||Sl(v))return v=to(v,y.mode,T,null),v.return=y,v;sd(y,v)}return null}function f(y,v,T,k){var D=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(y,v,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:return T.key===D?l(y,v,T,k):null;case Uo:return T.key===D?c(y,v,T,k):null;case Ni:return D=T._init,f(y,v,D(T._payload),k)}if(Fl(T)||Sl(T))return D!==null?null:d(y,v,T,k,null);sd(y,T)}return null}function m(y,v,T,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(T)||null,a(v,y,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gc:return y=y.get(k.key===null?T:k.key)||null,l(v,y,k,D);case Uo:return y=y.get(k.key===null?T:k.key)||null,c(v,y,k,D);case Ni:var M=k._init;return m(y,v,T,M(k._payload),D)}if(Fl(k)||Sl(k))return y=y.get(T)||null,d(v,y,k,D,null);sd(v,k)}return null}function w(y,v,T,k){for(var D=null,M=null,C=v,x=v=0,P=null;C!==null&&x<T.length;x++){C.index>x?(P=C,C=null):P=C.sibling;var I=f(y,C,T[x],k);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(y,C),v=s(I,v,x),M===null?D=I:M.sibling=I,M=I,C=P}if(x===T.length)return n(y,C),qe&&js(y,x),D;if(C===null){for(;x<T.length;x++)C=h(y,T[x],k),C!==null&&(v=s(C,v,x),M===null?D=C:M.sibling=C,M=C);return qe&&js(y,x),D}for(C=r(y,C);x<T.length;x++)P=m(C,y,x,T[x],k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?x:P.key),v=s(P,v,x),M===null?D=P:M.sibling=P,M=P);return t&&C.forEach(function(V){return e(y,V)}),qe&&js(y,x),D}function _(y,v,T,k){var D=Sl(T);if(typeof D!="function")throw Error(Q(150));if(T=D.call(T),T==null)throw Error(Q(151));for(var M=D=null,C=v,x=v=0,P=null,I=T.next();C!==null&&!I.done;x++,I=T.next()){C.index>x?(P=C,C=null):P=C.sibling;var V=f(y,C,I.value,k);if(V===null){C===null&&(C=P);break}t&&C&&V.alternate===null&&e(y,C),v=s(V,v,x),M===null?D=V:M.sibling=V,M=V,C=P}if(I.done)return n(y,C),qe&&js(y,x),D;if(C===null){for(;!I.done;x++,I=T.next())I=h(y,I.value,k),I!==null&&(v=s(I,v,x),M===null?D=I:M.sibling=I,M=I);return qe&&js(y,x),D}for(C=r(y,C);!I.done;x++,I=T.next())I=m(C,y,x,I.value,k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?x:I.key),v=s(I,v,x),M===null?D=I:M.sibling=I,M=I);return t&&C.forEach(function(N){return e(y,N)}),qe&&js(y,x),D}function E(y,v,T,k){if(typeof T=="object"&&T!==null&&T.type===Bo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:e:{for(var D=T.key,M=v;M!==null;){if(M.key===D){if(D=T.type,D===Bo){if(M.tag===7){n(y,M.sibling),v=i(M,T.props.children),v.return=y,y=v;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ni&&fE(D)===M.type){n(y,M.sibling),v=i(M,T.props),v.ref=Il(y,M,T),v.return=y,y=v;break e}n(y,M);break}else e(y,M);M=M.sibling}T.type===Bo?(v=to(T.props.children,y.mode,k,T.key),v.return=y,y=v):(k=Ld(T.type,T.key,T.props,null,y.mode,k),k.ref=Il(y,v,T),k.return=y,y=k)}return o(y);case Uo:e:{for(M=T.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(y,v.sibling),v=i(v,T.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Jp(T,y.mode,k),v.return=y,y=v}return o(y);case Ni:return M=T._init,E(y,v,M(T._payload),k)}if(Fl(T))return w(y,v,T,k);if(Sl(T))return _(y,v,T,k);sd(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,T),v.return=y,y=v):(n(y,v),v=Xp(T,y.mode,k),v.return=y,y=v),o(y)):n(y,v)}return E}var Pa=QC(!0),YC=QC(!1),ph=bs(null),mh=null,Qo=null,pv=null;function mv(){pv=Qo=mh=null}function gv(t){var e=ph.current;He(ph),t._currentValue=e}function cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function la(t,e){mh=t,pv=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(mh===null)throw Error(Q(308));Qo=t,mh.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var Ws=null;function yv(t){Ws===null?Ws=[t]:Ws.push(t)}function XC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ai(t,r)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Di=!1;function vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ai(t,n)}return i=r.interleaved,i===null?(e.next=e,yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ai(t,n)}function kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rv(t,n)}}function pE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gh(t,e,n,r){var i=t.updateQueue;Di=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(f=e,m=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Ye({},h,f);break e;case 2:Di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uo|=o,t.lanes=o,t.memoizedState=h}}function mE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var cc={},br=bs(cc),Ru=bs(cc),ku=bs(cc);function Hs(t){if(t===cc)throw Error(Q(174));return t}function wv(t,e){switch(je(ku,e),je(Ru,t),je(br,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wm(e,t)}He(br),je(br,e)}function Ia(){He(br),He(Ru),He(ku)}function ZC(t){Hs(ku.current);var e=Hs(br.current),n=Wm(e,t.type);e!==n&&(je(Ru,t),je(br,n))}function _v(t){Ru.current===t&&(He(br),He(Ru))}var Ke=bs(0);function yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function Ev(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var Nd=gi.ReactCurrentDispatcher,qp=gi.ReactCurrentBatchConfig,lo=0,Qe=null,gt=null,Et=null,vh=!1,ru=!1,Nu=0,bO=0;function Mt(){throw Error(Q(321))}function Tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function xv(t,e,n,r,i,s){if(lo=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?RO:kO,t=n(r,i),ru){s=0;do{if(ru=!1,Nu=0,25<=s)throw Error(Q(301));s+=1,Et=gt=null,e.updateQueue=null,Nd.current=NO,t=n(r,i)}while(ru)}if(Nd.current=wh,e=gt!==null&&gt.next!==null,lo=0,Et=gt=Qe=null,vh=!1,e)throw Error(Q(300));return t}function Sv(){var t=Nu!==0;return Nu=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=t:Et=Et.next=t,Et}function Gn(){if(gt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Et===null?Qe.memoizedState:Et.next;if(e!==null)Et=e,gt=t;else{if(t===null)throw Error(Q(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?Qe.memoizedState=Et=t:Et=Et.next=t}return Et}function Du(t,e){return typeof e=="function"?e(t):e}function Kp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((lo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qe.lanes|=d,uo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,uo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eb(){}function tb(t,e){var n=Qe,r=Gn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,Cv(ib.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Vu(9,rb.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(Q(349));lo&30||nb(n,e,i)}return i}function nb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rb(t,e,n,r){e.value=n,e.getSnapshot=r,sb(e)&&ob(t)}function ib(t,e,n){return n(function(){sb(e)&&ob(t)})}function sb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function ob(t){var e=ai(t,1);e!==null&&or(e,t,1,-1)}function gE(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=IO.bind(null,Qe,t),[e.memoizedState,t]}function Vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ab(){return Gn().memoizedState}function Dd(t,e,n,r){var i=vr();Qe.flags|=t,i.memoizedState=Vu(1|e,n,void 0,r===void 0?null:r)}function yf(t,e,n,r){var i=Gn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&Tv(r,o.deps)){i.memoizedState=Vu(e,n,s,r);return}}Qe.flags|=t,i.memoizedState=Vu(1|e,n,s,r)}function yE(t,e){return Dd(8390656,8,t,e)}function Cv(t,e){return yf(2048,8,t,e)}function lb(t,e){return yf(4,2,t,e)}function ub(t,e){return yf(4,4,t,e)}function cb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function db(t,e,n){return n=n!=null?n.concat([t]):null,yf(4,4,cb.bind(null,e,t),n)}function bv(){}function hb(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fb(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pb(t,e,n){return lo&21?(lr(n,e)||(n=wC(),Qe.lanes|=n,uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function AO(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{Ve=n,qp.transition=r}}function mb(){return Gn().memoizedState}function PO(t,e,n){var r=rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gb(t))yb(e,n);else if(n=XC(t,e,n,r),n!==null){var i=nn();or(n,t,r,i),vb(n,e,r)}}function IO(t,e,n){var r=rs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gb(t))yb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(i.next=i,yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XC(t,e,i,r),n!==null&&(i=nn(),or(n,t,r,i),vb(n,e,r))}}function gb(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function yb(t,e){ru=vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rv(t,n)}}var wh={readContext:Kn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},RO={readContext:Kn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:yE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4194308,4,cb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dd(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PO.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:gE,useDebugValue:bv,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=gE(!1),e=t[0];return t=AO.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=vr();if(qe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Tt===null)throw Error(Q(349));lo&30||nb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,yE(ib.bind(null,r,s,t),[t]),r.flags|=2048,Vu(9,rb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vr(),e=Tt.identifierPrefix;if(qe){var n=Qr,r=Gr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kO={readContext:Kn,useCallback:hb,useContext:Kn,useEffect:Cv,useImperativeHandle:db,useInsertionEffect:lb,useLayoutEffect:ub,useMemo:fb,useReducer:Kp,useRef:ab,useState:function(){return Kp(Du)},useDebugValue:bv,useDeferredValue:function(t){var e=Gn();return pb(e,gt.memoizedState,t)},useTransition:function(){var t=Kp(Du)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:eb,useSyncExternalStore:tb,useId:mb,unstable_isNewReconciler:!1},NO={readContext:Kn,useCallback:hb,useContext:Kn,useEffect:Cv,useImperativeHandle:db,useInsertionEffect:lb,useLayoutEffect:ub,useMemo:fb,useReducer:Gp,useRef:ab,useState:function(){return Gp(Du)},useDebugValue:bv,useDeferredValue:function(t){var e=Gn();return gt===null?e.memoizedState=t:pb(e,gt.memoizedState,t)},useTransition:function(){var t=Gp(Du)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:eb,useSyncExternalStore:tb,useId:mb,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vf={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=rs(t),s=ei(r,i);s.payload=e,n!=null&&(s.callback=n),e=ts(t,s,i),e!==null&&(or(e,t,i,r),kd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=rs(t),s=ei(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ts(t,s,i),e!==null&&(or(e,t,i,r),kd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=rs(t),i=ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=ts(t,i,r),e!==null&&(or(e,t,r,n),kd(e,t,r))}};function vE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(i,s):!0}function wb(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=Kn(s):(i=vn(e)?oo:Ht.current,r=e.contextTypes,s=(r=r!=null)?ba(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function hg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kn(s):(s=vn(e)?oo:Ht.current,i.context=ba(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vf.enqueueReplaceState(i,i.state,null),gh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ra(t,e){try{var n="",r=e;do n+=oV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DO=typeof WeakMap=="function"?WeakMap:Map;function _b(t,e,n){n=ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eh||(Eh=!0,xg=r),fg(t,e)},n}function Eb(t,e,n){n=ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fg(t,e),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _E(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KO.bind(null,t,e,n),e.then(t,t))}function EE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ei(-1,1),e.tag=2,ts(n,e,1))),n.lanes|=1),t)}var VO=gi.ReactCurrentOwner,gn=!1;function Jt(t,e,n,r){e.child=t===null?YC(e,null,n,r):Pa(e,t.child,n,r)}function xE(t,e,n,r,i){n=n.render;var s=e.ref;return la(e,i),r=xv(t,e,n,r,s,i),n=Sv(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(qe&&n&&dv(e),e.flags|=1,Jt(t,e,r,i),e.child)}function SE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Tb(t,e,s,r,i)):(t=Ld(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(o,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=is(s,r),t.ref=e.ref,t.return=e,e.child=t}function Tb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bu(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,li(t,e,i)}return pg(t,e,n,r,i)}function xb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Xo,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Xo,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(Xo,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(Xo,Sn),Sn|=r;return Jt(t,e,i,n),e.child}function Sb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pg(t,e,n,r,i){var s=vn(n)?oo:Ht.current;return s=ba(e,s),la(e,i),n=xv(t,e,n,r,s,i),r=Sv(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(qe&&r&&dv(e),e.flags|=1,Jt(t,e,n,i),e.child)}function CE(t,e,n,r,i){if(vn(n)){var s=!0;dh(e)}else s=!1;if(la(e,i),e.stateNode===null)Vd(t,e),wb(e,n,r),hg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=vn(n)?oo:Ht.current,c=ba(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&wE(e,o,r,c),Di=!1;var f=e.memoizedState;o.state=f,gh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yn.current||Di?(typeof d=="function"&&(dg(e,n,d,r),l=e.memoizedState),(a=Di||vE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=vn(n)?oo:Ht.current,l=ba(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&wE(e,o,r,l),Di=!1,f=e.memoizedState,o.state=f,gh(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||yn.current||Di?(typeof m=="function"&&(dg(e,n,m,r),w=e.memoizedState),(c=Di||vE(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mg(t,e,n,r,s,i)}function mg(t,e,n,r,i,s){Sb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cE(e,n,!1),li(t,e,s);r=e.stateNode,VO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pa(e,t.child,null,s),e.child=Pa(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&cE(e,n,!0),e.child}function Cb(t){var e=t.stateNode;e.pendingContext?uE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uE(t,e.context,!1),wv(t,e.containerInfo)}function bE(t,e,n,r,i){return Aa(),fv(i),e.flags|=256,Jt(t,e,n,r),e.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function bb(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ke,i&1),t===null)return ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ef(o,r,0,null),t=to(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yg(n),e.memoizedState=gg,t):Av(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=is(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=is(a,s):(s=to(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gg,r}return s=t.child,t=s.sibling,r=is(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Av(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function od(t,e,n,r){return r!==null&&fv(r),Pa(e,t.child,null,n),t=Av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qp(Error(Q(422))),od(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ef({mode:"visible",children:r.children},i,0,null),s=to(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pa(e,t.child,null,o),e.child.memoizedState=yg(o),e.memoizedState=gg,s);if(!(e.mode&1))return od(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=Qp(s,r,void 0),od(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ai(t,i),or(r,t,i,-1))}return Dv(),r=Qp(Error(Q(421))),od(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bn=es(i.nextSibling),Pn=e,qe=!0,rr=null,t!==null&&($n[zn++]=Gr,$n[zn++]=Qr,$n[zn++]=ao,Gr=t.id,Qr=t.overflow,ao=e),e=Av(e,r.children),e.flags|=4096,e)}function AE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cg(t.return,e,n)}function Yp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ab(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AE(t,n,e);else if(t.tag===19)AE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yp(e,!0,n,null,s);break;case"together":Yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MO(t,e,n){switch(e.tag){case 3:Cb(e),Aa();break;case 5:ZC(e);break;case 1:vn(e.type)&&dh(e);break;case 4:wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(ph,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?bb(t,e,n):(je(Ke,Ke.current&1),t=li(t,e,n),t!==null?t.sibling:null);je(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ab(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,xb(t,e,n)}return li(t,e,n)}var Pb,vg,Ib,Rb;Pb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vg=function(){};Ib=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hs(br.current);var s=null;switch(n){case"input":i=Um(t,i),r=Um(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=zm(t,i),r=zm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uh)}Hm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Rb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rl(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LO(t,e,n){var r=e.pendingProps;switch(hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return vn(e.type)&&ch(),Lt(e),null;case 3:return r=e.stateNode,Ia(),He(yn),He(Ht),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(bg(rr),rr=null))),vg(t,e),Lt(e),null;case 5:_v(e);var i=Hs(ku.current);if(n=e.type,t!==null&&e.stateNode!=null)Ib(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Lt(e),null}if(t=Hs(br.current),id(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xr]=e,r[Iu]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Ul.length;i++)ze(Ul[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":M_(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":F_(r,s),ze("invalid",r)}Hm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",""+a]):wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Qc(r),L_(r,s,!0);break;case"textarea":Qc(r),j_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xr]=e,t[Iu]=r,Pb(t,e,!1,!1),e.stateNode=t;e:{switch(o=qm(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ul.length;i++)ze(Ul[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":M_(t,r),i=Um(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),ze("invalid",t);break;case"textarea":F_(t,r),i=zm(t,r),ze("invalid",t);break;default:i=r}Hm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?aC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_u(t,l):typeof l=="number"&&_u(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&Xy(t,s,l,o))}switch(n){case"input":Qc(t),L_(t,r,!1);break;case"textarea":Qc(t),j_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ia(t,!!r.multiple,s,!1):r.defaultValue!=null&&ia(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Rb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Hs(ku.current),Hs(br.current),id(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(s=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return Lt(e),null;case 13:if(He(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&bn!==null&&e.mode&1&&!(e.flags&128))GC(),Aa(),e.flags|=98560,s=!1;else if(s=id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[xr]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else rr!==null&&(bg(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?vt===0&&(vt=3):Dv())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Ia(),vg(t,e),t===null&&Au(e.stateNode.containerInfo),Lt(e),null;case 10:return gv(e.type._context),Lt(e),null;case 17:return vn(e.type)&&ch(),Lt(e),null;case 19:if(He(Ke),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Rl(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yh(t),o!==null){for(e.flags|=128,Rl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>ka&&(e.flags|=128,r=!0,Rl(s,!1),e.lanes=4194304)}else{if(!r)if(t=yh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Lt(e),null}else 2*ot()-s.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,r=!0,Rl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Ke.current,je(Ke,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function FO(t,e){switch(hv(e),e.tag){case 1:return vn(e.type)&&ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),He(yn),He(Ht),Ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _v(e),null;case 13:if(He(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ke),null;case 4:return Ia(),null;case 10:return gv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var ad=!1,$t=!1,jO=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function wg(t,e,n){try{n()}catch(r){tt(t,e,r)}}var PE=!1;function UO(t,e){if(ng=oh,t=OC(),cv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rg={focusedElem:t,selectionRange:n},oh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,E=w.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:Zn(e.type,_),E);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){tt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return w=PE,PE=!1,w}function iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wg(e,n,s)}i=i.next}while(i!==r)}}function wf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kb(t){var e=t.alternate;e!==null&&(t.alternate=null,kb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Iu],delete e[og],delete e[TO],delete e[xO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nb(t){return t.tag===5||t.tag===3||t.tag===4}function IE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(r!==4&&(t=t.child,t!==null))for(Eg(t,e,n),t=t.sibling;t!==null;)Eg(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}var St=null,nr=!1;function Ci(t,e,n){for(n=n.child;n!==null;)Db(t,e,n),n=n.sibling}function Db(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(df,n)}catch{}switch(n.tag){case 5:$t||Yo(n,e);case 6:var r=St,i=nr;St=null,Ci(t,e,n),St=r,nr=i,St!==null&&(nr?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(nr?(t=St,n=n.stateNode,t.nodeType===8?zp(t.parentNode,n):t.nodeType===1&&zp(t,n),Su(t)):zp(St,n.stateNode));break;case 4:r=St,i=nr,St=n.stateNode.containerInfo,nr=!0,Ci(t,e,n),St=r,nr=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wg(n,e,o),i=i.next}while(i!==r)}Ci(t,e,n);break;case 1:if(!$t&&(Yo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Ci(t,e,n),$t=r):Ci(t,e,n);break;default:Ci(t,e,n)}}function RE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jO),e.forEach(function(r){var i=QO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,nr=!1;break e;case 3:St=a.stateNode.containerInfo,nr=!0;break e;case 4:St=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(St===null)throw Error(Q(160));Db(s,o,i),St=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vb(e,t),e=e.sibling}function Vb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),yr(t),r&4){try{iu(3,t,t.return),wf(3,t)}catch(_){tt(t,t.return,_)}try{iu(5,t,t.return)}catch(_){tt(t,t.return,_)}}break;case 1:Xn(e,t),yr(t),r&512&&n!==null&&Yo(n,n.return);break;case 5:if(Xn(e,t),yr(t),r&512&&n!==null&&Yo(n,n.return),t.flags&32){var i=t.stateNode;try{_u(i,"")}catch(_){tt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nC(i,s),qm(a,o);var c=qm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?aC(i,h):d==="dangerouslySetInnerHTML"?sC(i,h):d==="children"?_u(i,h):Xy(i,d,h,c)}switch(a){case"input":Bm(i,s);break;case"textarea":rC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ia(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?ia(i,!!s.multiple,s.defaultValue,!0):ia(i,!!s.multiple,s.multiple?[]:"",!1))}i[Iu]=s}catch(_){tt(t,t.return,_)}}break;case 6:if(Xn(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){tt(t,t.return,_)}}break;case 3:if(Xn(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(_){tt(t,t.return,_)}break;case 4:Xn(e,t),yr(t);break;case 13:Xn(e,t),yr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rv=ot())),r&4&&RE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||d,Xn(e,t),$t=c):Xn(e,t),yr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(h=ie=d;ie!==null;){switch(f=ie,m=f.child,f.tag){case 0:case 11:case 14:case 15:iu(4,f,f.return);break;case 1:Yo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){tt(r,n,_)}}break;case 5:Yo(f,f.return);break;case 22:if(f.memoizedState!==null){NE(h);continue}}m!==null?(m.return=f,ie=m):NE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oC("display",o))}catch(_){tt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){tt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(e,t),yr(t),r&4&&RE(t);break;case 21:break;default:Xn(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nb(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_u(i,""),r.flags&=-33);var s=IE(t);Tg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=IE(t);Eg(t,a,o);break;default:throw Error(Q(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BO(t,e,n){ie=t,Ob(t)}function Ob(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ad;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=ad;var c=$t;if(ad=o,($t=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?DE(i):l!==null?(l.return=o,ie=l):DE(i);for(;s!==null;)ie=s,Ob(s),s=s.sibling;ie=i,ad=a,$t=c}kE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):kE(t)}}function kE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||wf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Su(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}$t||e.flags&512&&_g(e)}catch(f){tt(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function NE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function DE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wf(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{_g(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{_g(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var $O=Math.ceil,_h=gi.ReactCurrentDispatcher,Pv=gi.ReactCurrentOwner,qn=gi.ReactCurrentBatchConfig,Ie=0,Tt=null,ct=null,Pt=0,Sn=0,Xo=bs(0),vt=0,Ou=null,uo=0,_f=0,Iv=0,su=null,pn=null,Rv=0,ka=1/0,qr=null,Eh=!1,xg=null,ns=null,ld=!1,Gi=null,Th=0,ou=0,Sg=null,Od=-1,Md=0;function nn(){return Ie&6?ot():Od!==-1?Od:Od=ot()}function rs(t){return t.mode&1?Ie&2&&Pt!==0?Pt&-Pt:CO.transition!==null?(Md===0&&(Md=wC()),Md):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:bC(t.type)),t):1}function or(t,e,n,r){if(50<ou)throw ou=0,Sg=null,Error(Q(185));ac(t,n,r),(!(Ie&2)||t!==Tt)&&(t===Tt&&(!(Ie&2)&&(_f|=n),vt===4&&Oi(t,Pt)),wn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(ka=ot()+500,gf&&As()))}function wn(t,e){var n=t.callbackNode;CV(t,e);var r=sh(t,t===Tt?Pt:0);if(r===0)n!==null&&$_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$_(n),e===1)t.tag===0?SO(VE.bind(null,t)):HC(VE.bind(null,t)),_O(function(){!(Ie&6)&&As()}),n=null;else{switch(_C(r)){case 1:n=nv;break;case 4:n=yC;break;case 16:n=ih;break;case 536870912:n=vC;break;default:n=ih}n=zb(n,Mb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mb(t,e){if(Od=-1,Md=0,Ie&6)throw Error(Q(327));var n=t.callbackNode;if(ua()&&t.callbackNode!==n)return null;var r=sh(t,t===Tt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xh(t,r);else{e=r;var i=Ie;Ie|=2;var s=Fb();(Tt!==t||Pt!==e)&&(qr=null,ka=ot()+500,eo(t,e));do try{HO();break}catch(a){Lb(t,a)}while(!0);mv(),_h.current=s,Ie=i,ct!==null?e=0:(Tt=null,Pt=0,e=vt)}if(e!==0){if(e===2&&(i=Xm(t),i!==0&&(r=i,e=Cg(t,i))),e===1)throw n=Ou,eo(t,0),Oi(t,r),wn(t,ot()),n;if(e===6)Oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!zO(i)&&(e=xh(t,r),e===2&&(s=Xm(t),s!==0&&(r=s,e=Cg(t,s))),e===1))throw n=Ou,eo(t,0),Oi(t,r),wn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Us(t,pn,qr);break;case 3:if(Oi(t,r),(r&130023424)===r&&(e=Rv+500-ot(),10<e)){if(sh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sg(Us.bind(null,t,pn,qr),e);break}Us(t,pn,qr);break;case 4:if(Oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$O(r/1960))-r,10<r){t.timeoutHandle=sg(Us.bind(null,t,pn,qr),r);break}Us(t,pn,qr);break;case 5:Us(t,pn,qr);break;default:throw Error(Q(329))}}}return wn(t,ot()),t.callbackNode===n?Mb.bind(null,t):null}function Cg(t,e){var n=su;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=xh(t,e),t!==2&&(e=pn,pn=n,e!==null&&bg(e)),t}function bg(t){pn===null?pn=t:pn.push.apply(pn,t)}function zO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~Iv,e&=~_f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function VE(t){if(Ie&6)throw Error(Q(327));ua();var e=sh(t,0);if(!(e&1))return wn(t,ot()),null;var n=xh(t,e);if(t.tag!==0&&n===2){var r=Xm(t);r!==0&&(e=r,n=Cg(t,r))}if(n===1)throw n=Ou,eo(t,0),Oi(t,e),wn(t,ot()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,pn,qr),wn(t,ot()),null}function kv(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(ka=ot()+500,gf&&As())}}function co(t){Gi!==null&&Gi.tag===0&&!(Ie&6)&&ua();var e=Ie;Ie|=1;var n=qn.transition,r=Ve;try{if(qn.transition=null,Ve=1,t)return t()}finally{Ve=r,qn.transition=n,Ie=e,!(Ie&6)&&As()}}function Nv(){Sn=Xo.current,He(Xo)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wO(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(hv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ch();break;case 3:Ia(),He(yn),He(Ht),Ev();break;case 5:_v(r);break;case 4:Ia();break;case 13:He(Ke);break;case 19:He(Ke);break;case 10:gv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(Tt=t,ct=t=is(t.current,null),Pt=Sn=e,vt=0,Ou=null,Iv=_f=uo=0,pn=su=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function Lb(t,e){do{var n=ct;try{if(mv(),Nd.current=wh,vh){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vh=!1}if(lo=0,Et=gt=Qe=null,ru=!1,Nu=0,Pv.current=null,n===null||n.return===null){vt=1,Ou=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=EE(o);if(m!==null){m.flags&=-257,TE(m,o,a,s,e),m.mode&1&&_E(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){_E(s,c,e),Dv();break e}l=Error(Q(426))}}else if(qe&&a.mode&1){var E=EE(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),TE(E,o,a,s,e),fv(Ra(l,a));break e}}s=l=Ra(l,a),vt!==4&&(vt=2),su===null?su=[s]:su.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=_b(s,l,e);pE(s,y);break e;case 1:a=l;var v=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ns===null||!ns.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Eb(s,a,e);pE(s,k);break e}}s=s.return}while(s!==null)}Ub(n)}catch(D){e=D,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function Fb(){var t=_h.current;return _h.current=wh,t===null?wh:t}function Dv(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(uo&268435455)&&!(_f&268435455)||Oi(Tt,Pt)}function xh(t,e){var n=Ie;Ie|=2;var r=Fb();(Tt!==t||Pt!==e)&&(qr=null,eo(t,e));do try{WO();break}catch(i){Lb(t,i)}while(!0);if(mv(),Ie=n,_h.current=r,ct!==null)throw Error(Q(261));return Tt=null,Pt=0,vt}function WO(){for(;ct!==null;)jb(ct)}function HO(){for(;ct!==null&&!gV();)jb(ct)}function jb(t){var e=$b(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?Ub(t):ct=e,Pv.current=null}function Ub(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FO(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ct=null;return}}else if(n=LO(n,e,Sn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);vt===0&&(vt=5)}function Us(t,e,n){var r=Ve,i=qn.transition;try{qn.transition=null,Ve=1,qO(t,e,n,r)}finally{qn.transition=i,Ve=r}return null}function qO(t,e,n,r){do ua();while(Gi!==null);if(Ie&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bV(t,s),t===Tt&&(ct=Tt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ld||(ld=!0,zb(ih,function(){return ua(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var o=Ve;Ve=1;var a=Ie;Ie|=4,Pv.current=null,UO(t,n),Vb(n,t),hO(rg),oh=!!ng,rg=ng=null,t.current=n,BO(n),yV(),Ie=a,Ve=o,qn.transition=s}else t.current=n;if(ld&&(ld=!1,Gi=t,Th=i),s=t.pendingLanes,s===0&&(ns=null),_V(n.stateNode),wn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eh)throw Eh=!1,t=xg,xg=null,t;return Th&1&&t.tag!==0&&ua(),s=t.pendingLanes,s&1?t===Sg?ou++:(ou=0,Sg=t):ou=0,As(),null}function ua(){if(Gi!==null){var t=_C(Th),e=qn.transition,n=Ve;try{if(qn.transition=null,Ve=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,Th=0,Ie&6)throw Error(Q(331));var i=Ie;for(Ie|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:iu(8,d,s)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var f=d.sibling,m=d.return;if(kb(d),d===c){ie=null;break}if(f!==null){f.return=m,ie=f;break}ie=m}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:iu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ie=T;else e:for(o=v;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wf(9,a)}}catch(D){tt(a,a.return,D)}if(a===o){ie=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ie=k;break e}ie=a.return}}if(Ie=i,As(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(df,t)}catch{}r=!0}return r}finally{Ve=n,qn.transition=e}}return!1}function OE(t,e,n){e=Ra(n,e),e=_b(t,e,1),t=ts(t,e,1),e=nn(),t!==null&&(ac(t,1,e),wn(t,e))}function tt(t,e,n){if(t.tag===3)OE(t,t,n);else for(;e!==null;){if(e.tag===3){OE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){t=Ra(n,t),t=Eb(e,t,1),e=ts(e,t,1),t=nn(),e!==null&&(ac(e,1,t),wn(e,t));break}}e=e.return}}function KO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Pt&n)===n&&(vt===4||vt===3&&(Pt&130023424)===Pt&&500>ot()-Rv?eo(t,0):Iv|=n),wn(t,e)}function Bb(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=nn();t=ai(t,e),t!==null&&(ac(t,e,n),wn(t,n))}function GO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bb(t,n)}function QO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),Bb(t,n)}var $b;$b=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,MO(t,e,n);gn=!!(t.flags&131072)}else gn=!1,qe&&e.flags&1048576&&qC(e,fh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vd(t,e),t=e.pendingProps;var i=ba(e,Ht.current);la(e,n),i=xv(null,e,r,t,i,n);var s=Sv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(s=!0,dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vv(e),i.updater=vf,e.stateNode=i,i._reactInternals=e,hg(e,r,t,n),e=mg(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&dv(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XO(r),t=Zn(r,t),i){case 0:e=pg(null,e,r,t,n);break e;case 1:e=CE(null,e,r,t,n);break e;case 11:e=xE(null,e,r,t,n);break e;case 14:e=SE(null,e,r,Zn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),pg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),CE(t,e,r,i,n);case 3:e:{if(Cb(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,JC(t,e),gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ra(Error(Q(423)),e),e=bE(t,e,r,n,i);break e}else if(r!==i){i=Ra(Error(Q(424)),e),e=bE(t,e,r,n,i);break e}else for(bn=es(e.stateNode.containerInfo.firstChild),Pn=e,qe=!0,rr=null,n=YC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),r===i){e=li(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return ZC(e),t===null&&ug(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ig(r,i)?o=null:s!==null&&ig(r,s)&&(e.flags|=32),Sb(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&ug(e),null;case 13:return bb(t,e,n);case 4:return wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pa(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),xE(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(ph,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!yn.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ei(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,la(e,n),i=Kn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),SE(t,e,r,i,n);case 15:return Tb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Vd(t,e),e.tag=1,vn(r)?(t=!0,dh(e)):t=!1,la(e,n),wb(e,r,i),hg(e,r,i,n),mg(null,e,r,!0,t,n);case 19:return Ab(t,e,n);case 22:return xb(t,e,n)}throw Error(Q(156,e.tag))};function zb(t,e){return gC(t,e)}function YO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new YO(t,e,n,r)}function Vv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XO(t){if(typeof t=="function")return Vv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zy)return 11;if(t===ev)return 14}return 2}function is(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ld(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bo:return to(n.children,i,s,e);case Jy:o=8,i|=8;break;case Mm:return t=Hn(12,n,e,i|2),t.elementType=Mm,t.lanes=s,t;case Lm:return t=Hn(13,n,e,i),t.elementType=Lm,t.lanes=s,t;case Fm:return t=Hn(19,n,e,i),t.elementType=Fm,t.lanes=s,t;case ZS:return Ef(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XS:o=10;break e;case JS:o=9;break e;case Zy:o=11;break e;case ev:o=14;break e;case Ni:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function to(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Ef(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=ZS,t.lanes=n,t.stateNode={isHidden:!1},t}function Xp(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Jp(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ov(t,e,n,r,i,s,o,a,l){return t=new JO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vv(s),t}function ZO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wb(t){if(!t)return hs;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(vn(n))return WC(t,n,e)}return e}function Hb(t,e,n,r,i,s,o,a,l){return t=Ov(n,r,!0,t,i,s,o,a,l),t.context=Wb(null),n=t.current,r=nn(),i=rs(n),s=ei(r,i),s.callback=e??null,ts(n,s,i),t.current.lanes=i,ac(t,i,r),wn(t,r),t}function Tf(t,e,n,r){var i=e.current,s=nn(),o=rs(i);return n=Wb(n),e.context===null?e.context=n:e.pendingContext=n,e=ei(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ts(i,e,o),t!==null&&(or(t,i,o,s),kd(t,i,o)),o}function Sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ME(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mv(t,e){ME(t,e),(t=t.alternate)&&ME(t,e)}function e2(){return null}var qb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lv(t){this._internalRoot=t}xf.prototype.render=Lv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Tf(t,e,null,null)};xf.prototype.unmount=Lv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){Tf(null,t,null,null)}),e[oi]=null}};function xf(t){this._internalRoot=t}xf.prototype.unstable_scheduleHydration=function(t){if(t){var e=xC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&CC(t)}};function Fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LE(){}function t2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sh(o);s.call(c)}}var o=Hb(e,r,t,0,null,!1,!1,"",LE);return t._reactRootContainer=o,t[oi]=o.current,Au(t.nodeType===8?t.parentNode:t),co(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sh(l);a.call(c)}}var l=Ov(t,0,!1,null,null,!1,!1,"",LE);return t._reactRootContainer=l,t[oi]=l.current,Au(t.nodeType===8?t.parentNode:t),co(function(){Tf(e,l,n,r)}),l}function Cf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sh(o);a.call(l)}}Tf(e,o,t,i)}else o=t2(n,e,t,i,r);return Sh(o)}EC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jl(e.pendingLanes);n!==0&&(rv(e,n|1),wn(e,ot()),!(Ie&6)&&(ka=ot()+500,As()))}break;case 13:co(function(){var r=ai(t,1);if(r!==null){var i=nn();or(r,t,1,i)}}),Mv(t,1)}};iv=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=nn();or(e,t,134217728,n)}Mv(t,134217728)}};TC=function(t){if(t.tag===13){var e=rs(t),n=ai(t,e);if(n!==null){var r=nn();or(n,t,e,r)}Mv(t,e)}};xC=function(){return Ve};SC=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Gm=function(t,e,n){switch(e){case"input":if(Bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mf(r);if(!i)throw Error(Q(90));tC(r),Bm(r,i)}}}break;case"textarea":rC(t,n);break;case"select":e=n.value,e!=null&&ia(t,!!n.multiple,e,!1)}};cC=kv;dC=co;var n2={usingClientEntryPoint:!1,Events:[uc,Ho,mf,lC,uC,kv]},kl={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r2={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pC(t),t===null?null:t.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||e2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{df=ud.inject(r2),Cr=ud}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n2;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(e))throw Error(Q(200));return ZO(t,e,null,n)};Nn.createRoot=function(t,e){if(!Fv(t))throw Error(Q(299));var n=!1,r="",i=qb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ov(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,Au(t.nodeType===8?t.parentNode:t),new Lv(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=pC(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return co(t)};Nn.hydrate=function(t,e,n){if(!Sf(e))throw Error(Q(200));return Cf(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Fv(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hb(e,null,t,1,n??null,i,!1,s,o),t[oi]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xf(e)};Nn.render=function(t,e,n){if(!Sf(e))throw Error(Q(200));return Cf(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Sf(t))throw Error(Q(40));return t._reactRootContainer?(co(function(){Cf(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Nn.unstable_batchedUpdates=kv;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Cf(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function Kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kb)}catch(t){console.error(t)}}Kb(),KS.exports=Nn;var dc=KS.exports;const Gb=OS(dc);var Qb,FE=dc;Qb=FE.createRoot,FE.hydrateRoot;const i2=1,s2=1e6;let Zp=0;function o2(){return Zp=(Zp+1)%Number.MAX_SAFE_INTEGER,Zp.toString()}const em=new Map,jE=t=>{if(em.has(t))return;const e=setTimeout(()=>{em.delete(t),au({type:"REMOVE_TOAST",toastId:t})},s2);em.set(t,e)},a2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,i2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?jE(n):t.toasts.forEach(r=>{jE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fd=[];let jd={toasts:[]};function au(t){jd=a2(jd,t),Fd.forEach(e=>{e(jd)})}function l2({...t}){const e=o2(),n=i=>au({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>au({type:"DISMISS_TOAST",toastId:e});return t.duration!==0&&setTimeout(()=>{r()},t.duration||8e3),au({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function bf(){const[t,e]=S.useState(jd);return S.useEffect(()=>(Fd.push(e),()=>{const n=Fd.indexOf(e);n>-1&&Fd.splice(n,1)}),[t]),{...t,toast:l2,dismiss:n=>au({type:"DISMISS_TOAST",toastId:n})}}function yt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function u2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Yb(...t){return e=>t.forEach(n=>u2(n,e))}function ur(...t){return S.useCallback(Yb(...t),t)}function c2(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,_=(f==null?void 0:f[t][l])||a,E=S.useMemo(()=>w,Object.values(w));return b.jsx(_.Provider,{value:E,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=S.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,d2(i,...e)]}function d2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Na=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),s=i.find(h2);if(s){const o=s.props.children,a=i.map(l=>l===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return b.jsx(Ag,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return b.jsx(Ag,{...r,ref:e,children:n})});Na.displayName="Slot";var Ag=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=p2(n);return S.cloneElement(n,{...f2(r,n.props),ref:e?Yb(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});Ag.displayName="SlotClone";var Xb=({children:t})=>b.jsx(b.Fragment,{children:t});function h2(t){return S.isValidElement(t)&&t.type===Xb}function f2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function p2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function m2(t){const e=t+"CollectionProvider",[n,r]=c2(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:_}=m,E=W.useRef(null),y=W.useRef(new Map).current;return b.jsx(i,{scope:w,itemMap:y,collectionRef:E,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((m,w)=>{const{scope:_,children:E}=m,y=s(a,_),v=ur(w,y.collectionRef);return b.jsx(Na,{ref:v,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=W.forwardRef((m,w)=>{const{scope:_,children:E,...y}=m,v=W.useRef(null),T=ur(w,v),k=s(c,_);return W.useEffect(()=>(k.itemMap.set(v,{ref:v,...y}),()=>void k.itemMap.delete(v))),b.jsx(Na,{[d]:"",ref:T,children:E})});h.displayName=c;function f(m){const w=s(t+"CollectionConsumer",m);return W.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const y=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((k,D)=>y.indexOf(k.ref.current)-y.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function Jb(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=h=>{var y;const{scope:f,children:m,...w}=h,_=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,E=S.useMemo(()=>w,Object.values(w));return b.jsx(_.Provider,{value:E,children:m})};c.displayName=s+"Provider";function d(h,f){var _;const m=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,w=S.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,g2(i,...e)]}function g2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var y2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],an=y2.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Na:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Zb(t,e){t&&dc.flushSync(()=>t.dispatchEvent(e))}function Dr(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function v2(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var w2="DismissableLayer",Pg="dismissableLayer.update",_2="dismissableLayer.pointerDownOutside",E2="dismissableLayer.focusOutside",UE,eA=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jv=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(eA),[d,h]=S.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),w=ur(e,C=>h(C)),_=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=_.indexOf(E),v=d?_.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,k=v>=y,D=x2(C=>{const x=C.target,P=[...c.branches].some(I=>I.contains(x));!k||P||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),M=S2(C=>{const x=C.target;[...c.branches].some(I=>I.contains(x))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return v2(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(UE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),BE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=UE)}},[d,f,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),BE())},[d,c]),S.useEffect(()=>{const C=()=>m({});return document.addEventListener(Pg,C),()=>document.removeEventListener(Pg,C)},[]),b.jsx(an.div,{...l,ref:w,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:yt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:yt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:yt(t.onPointerDownCapture,D.onPointerDownCapture)})});jv.displayName=w2;var T2="DismissableLayerBranch",tA=S.forwardRef((t,e)=>{const n=S.useContext(eA),r=S.useRef(null),i=ur(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),b.jsx(an.div,{...t,ref:i})});tA.displayName=T2;function x2(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){nA(_2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function S2(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&nA(E2,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BE(){const t=new CustomEvent(Pg);document.dispatchEvent(t)}function nA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Zb(i,s):i.dispatchEvent(s)}var C2=jv,b2=tA,ho=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},A2="Portal",rA=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);ho(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Gb.createPortal(b.jsx(an.div,{...r,ref:e}),o):null});rA.displayName=A2;function P2(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Uv=t=>{const{present:e,children:n}=t,r=I2(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=ur(r.ref,R2(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Uv.displayName="Presence";function I2(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=P2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=cd(r.current);s.current=a==="mounted"?c:"none"},[a]),ho(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,m=cd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ho(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const _=cd(r.current).includes(m.animationName);if(m.target===e&&_&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=m=>{m.target===e&&(s.current=cd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function cd(t){return(t==null?void 0:t.animationName)||"none"}function R2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function k2({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=N2({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Dr(n),l=S.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function N2({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),s=Dr(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var D2="VisuallyHidden",Af=S.forwardRef((t,e)=>b.jsx(an.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Af.displayName=D2;var V2=Af,Bv="ToastProvider",[$v,O2,M2]=m2("Toast"),[iA,uq]=Jb("Toast",[M2]),[L2,Pf]=iA(Bv),sA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=S.useState(null),[c,d]=S.useState(0),h=S.useRef(!1),f=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bv}\`. Expected non-empty \`string\`.`),b.jsx($v.Provider,{scope:e,children:b.jsx(L2,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};sA.displayName=Bv;var oA="ToastViewport",F2=["F8"],Ig="toast.viewportPause",Rg="toast.viewportResume",aA=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=F2,label:i="Notifications ({hotkey})",...s}=t,o=Pf(oA,n),a=O2(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),h=S.useRef(null),f=ur(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;S.useEffect(()=>{const E=y=>{var T;r.length!==0&&r.every(k=>y[k]||y.code===k)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),S.useEffect(()=>{const E=l.current,y=h.current;if(w&&E&&y){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Ig);y.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Rg);y.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!E.contains(M.relatedTarget)&&T()},D=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",v),E.addEventListener("focusout",k),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[w,o.isClosePausedRef]);const _=S.useCallback(({tabbingDirection:E})=>{const v=a().map(T=>{const k=T.ref.current,D=[k,...X2(k)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return S.useEffect(()=>{const E=h.current;if(E){const y=v=>{var D,M,C;const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const x=document.activeElement,P=v.shiftKey;if(v.target===E&&P){(D=c.current)==null||D.focus();return}const N=_({tabbingDirection:P?"backwards":"forwards"}),R=N.findIndex(q=>q===x);tm(N.slice(R+1))?v.preventDefault():P?(M=c.current)==null||M.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",y),()=>E.removeEventListener("keydown",y)}},[a,_]),b.jsxs(b2,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&b.jsx(kg,{ref:c,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});tm(E)}}),b.jsx($v.Slot,{scope:n,children:b.jsx(an.ol,{tabIndex:-1,...s,ref:f})}),w&&b.jsx(kg,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});tm(E)}})]})});aA.displayName=oA;var lA="ToastFocusProxy",kg=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Pf(lA,n);return b.jsx(Af,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});kg.displayName=lA;var If="Toast",j2="toast.swipeStart",U2="toast.swipeMove",B2="toast.swipeCancel",$2="toast.swipeEnd",uA=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=k2({prop:r,defaultProp:i,onChange:s});return b.jsx(Uv,{present:n||a,children:b.jsx(H2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Dr(t.onPause),onResume:Dr(t.onResume),onSwipeStart:yt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:yt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});uA.displayName=If;var[z2,W2]=iA(If,{onClose(){}}),H2=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=t,_=Pf(If,n),[E,y]=S.useState(null),v=ur(e,q=>y(q)),T=S.useRef(null),k=S.useRef(null),D=i||_.duration,M=S.useRef(0),C=S.useRef(D),x=S.useRef(0),{onToastAdd:P,onToastRemove:I}=_,V=Dr(()=>{var oe;(E==null?void 0:E.contains(document.activeElement))&&((oe=_.viewport)==null||oe.focus()),o()}),N=S.useCallback(q=>{!q||q===1/0||(window.clearTimeout(x.current),M.current=new Date().getTime(),x.current=window.setTimeout(V,q))},[V]);S.useEffect(()=>{const q=_.viewport;if(q){const oe=()=>{N(C.current),c==null||c()},ae=()=>{const ee=new Date().getTime()-M.current;C.current=C.current-ee,window.clearTimeout(x.current),l==null||l()};return q.addEventListener(Ig,ae),q.addEventListener(Rg,oe),()=>{q.removeEventListener(Ig,ae),q.removeEventListener(Rg,oe)}}},[_.viewport,D,l,c,N]),S.useEffect(()=>{s&&!_.isClosePausedRef.current&&N(D)},[s,D,_.isClosePausedRef,N]),S.useEffect(()=>(P(),()=>I()),[P,I]);const R=S.useMemo(()=>E?gA(E):null,[E]);return _.viewport?b.jsxs(b.Fragment,{children:[R&&b.jsx(q2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),b.jsx(z2,{scope:n,onClose:V,children:dc.createPortal(b.jsx($v.ItemSlot,{scope:n,children:b.jsx(C2,{asChild:!0,onEscapeKeyDown:yt(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||V(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(an.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:yt(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:yt(t.onPointerDown,q=>{q.button===0&&(T.current={x:q.clientX,y:q.clientY})}),onPointerMove:yt(t.onPointerMove,q=>{if(!T.current)return;const oe=q.clientX-T.current.x,ae=q.clientY-T.current.y,ee=!!k.current,j=["left","right"].includes(_.swipeDirection),K=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,te=j?K(0,oe):0,ne=j?0:K(0,ae),le=q.pointerType==="touch"?10:2,ce={x:te,y:ne},Oe={originalEvent:q,delta:ce};ee?(k.current=ce,dd(U2,h,Oe,{discrete:!1})):$E(ce,_.swipeDirection,le)?(k.current=ce,dd(j2,d,Oe,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(oe)>le||Math.abs(ae)>le)&&(T.current=null)}),onPointerUp:yt(t.onPointerUp,q=>{const oe=k.current,ae=q.target;if(ae.hasPointerCapture(q.pointerId)&&ae.releasePointerCapture(q.pointerId),k.current=null,T.current=null,oe){const ee=q.currentTarget,j={originalEvent:q,delta:oe};$E(oe,_.swipeDirection,_.swipeThreshold)?dd($2,m,j,{discrete:!0}):dd(B2,f,j,{discrete:!0}),ee.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),q2=t=>{const{__scopeToast:e,children:n,...r}=t,i=Pf(If,e),[s,o]=S.useState(!1),[a,l]=S.useState(!1);return Q2(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:b.jsx(rA,{asChild:!0,children:b.jsx(Af,{...r,children:s&&b.jsxs(b.Fragment,{children:[i.label," ",n]})})})},K2="ToastTitle",cA=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return b.jsx(an.div,{...r,ref:e})});cA.displayName=K2;var G2="ToastDescription",dA=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return b.jsx(an.div,{...r,ref:e})});dA.displayName=G2;var hA="ToastAction",fA=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?b.jsx(mA,{altText:n,asChild:!0,children:b.jsx(zv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hA}\`. Expected non-empty \`string\`.`),null)});fA.displayName=hA;var pA="ToastClose",zv=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=W2(pA,n);return b.jsx(mA,{asChild:!0,children:b.jsx(an.button,{type:"button",...r,ref:e,onClick:yt(t.onClick,i.onClose)})})});zv.displayName=pA;var mA=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return b.jsx(an.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function gA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Y2(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...gA(r))}}),e}function dd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Zb(i,s):i.dispatchEvent(s)}var $E=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Q2(t=()=>{}){const e=Dr(t);ho(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Y2(t){return t.nodeType===t.ELEMENT_NODE}function X2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var J2=sA,yA=aA,vA=uA,wA=cA,_A=dA,EA=fA,TA=zv;function xA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SA(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xA(t))&&(r&&(r+=" "),r+=e);return r}const zE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,WE=SA,Wv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return WE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const f=zE(d)||zE(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[_,E]=w;return Array.isArray(E)?E.includes({...s,...a}[_]):{...s,...a}[_]===E})?[...c,h,f]:c},[]);return WE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...eM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CA("lucide",i),...a},[...o.map(([c,d])=>S.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(tM,{ref:s,iconNode:e,className:CA(`lucide-${Z2(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Kt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Kt("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Kt("EyeClosed",[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=Kt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Kt("FolderCog",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v3.3",key:"1k8050"}],["path",{d:"m21.7 19.4-.9-.3",key:"1qgwi9"}],["path",{d:"m15.2 16.9-.9-.3",key:"1t7mvx"}],["path",{d:"m16.6 21.7.3-.9",key:"1j67ps"}],["path",{d:"m19.1 15.2.3-.9",key:"18r7jp"}],["path",{d:"m19.6 21.7-.4-1",key:"z2vh2"}],["path",{d:"m16.8 15.3-.4-1",key:"1ei7r6"}],["path",{d:"m14.3 19.6 1-.4",key:"11sv9r"}],["path",{d:"m20.7 16.8 1-.4",key:"19m87a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Kt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qv="-",dM=t=>{const e=fM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qv);return a[0]===""&&a.length!==1&&a.shift(),PA(a,e)||hM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},PA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?PA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},qE=/^\[(.+)\]$/,hM=t=>{if(qE.test(t)){const e=qE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},fM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mM(Object.entries(t.classGroups),n).forEach(([s,o])=>{Og(o,r,s,e)}),r},Og=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:KE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(pM(i)){Og(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Og(o,KE(e,s),n,r)})})},KE=(t,e)=>{let n=t;return e.split(qv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pM=t=>t.isThemeGetter,mM=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,gM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},IA="!",yM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let E=0;E<a.length;E++){let y=a[E];if(c===0){if(y===i&&(r||a.slice(E,E+s)===e)){l.push(a.slice(d,E)),d=E+s;continue}if(y==="/"){h=E;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(IA),w=m?f.substring(1):f,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},vM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},wM=t=>({cache:gM(t.cacheSize),parseClassName:yM(t),...dM(t)}),_M=/\s+/,EM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(_M);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,_=r(w?f.substring(0,m):f);if(!_){if(!w){a=c+(a.length>0?" "+a:a);continue}if(_=r(f),!_){a=c+(a.length>0?" "+a:a);continue}w=!1}const E=vM(d).join(":"),y=h?E+IA:E,v=y+_;if(s.includes(v))continue;s.push(v);const T=i(_,w);for(let k=0;k<T.length;++k){const D=T[k];s.push(y+D)}a=c+(a.length>0?" "+a:a)}return a};function TM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RA(e))&&(r&&(r+=" "),r+=n);return r}const RA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=RA(t[r]))&&(n&&(n+=" "),n+=e);return n};function xM(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=wM(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=EM(l,n);return i(l,d),d}return function(){return s(TM.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kA=/^\[(?:([a-z-]+):)?(.+)\]$/i,SM=/^\d+\/\d+$/,CM=new Set(["px","full","screen"]),bM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=t=>ca(t)||CM.has(t)||SM.test(t),bi=t=>Ja(t,"length",FM),ca=t=>!!t&&!Number.isNaN(Number(t)),nm=t=>Ja(t,"number",ca),Nl=t=>!!t&&Number.isInteger(Number(t)),kM=t=>t.endsWith("%")&&ca(t.slice(0,-1)),_e=t=>kA.test(t),Ai=t=>bM.test(t),NM=new Set(["length","size","percentage"]),DM=t=>Ja(t,NM,NA),VM=t=>Ja(t,"position",NA),OM=new Set(["image","url"]),MM=t=>Ja(t,OM,UM),LM=t=>Ja(t,"",jM),Dl=()=>!0,Ja=(t,e,n)=>{const r=kA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},FM=t=>AM.test(t)&&!PM.test(t),NA=()=>!1,jM=t=>IM.test(t),UM=t=>RM.test(t),BM=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),i=$e("borderColor"),s=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),c=$e("grayscale"),d=$e("hueRotate"),h=$e("invert"),f=$e("gap"),m=$e("gradientColorStops"),w=$e("gradientColorStopPositions"),_=$e("inset"),E=$e("margin"),y=$e("opacity"),v=$e("padding"),T=$e("saturate"),k=$e("scale"),D=$e("sepia"),M=$e("skew"),C=$e("space"),x=$e("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",_e,e],N=()=>[_e,e],R=()=>["",zr,bi],q=()=>["auto",ca,_e],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",_e],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ca,_e];return{cacheSize:500,separator:":",theme:{colors:[Dl],spacing:[zr,bi],blur:["none","",Ai,_e],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Ai,_e],borderSpacing:N(),borderWidth:R(),contrast:ne(),grayscale:K(),hueRotate:ne(),invert:K(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[kM,bi],inset:V(),margin:V(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:K(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ai]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),_e]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nl,_e]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Nl,_e]}],"grid-cols":[{"grid-cols":[Dl]}],"col-start-end":[{col:["auto",{span:["full",Nl,_e]},_e]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Dl]}],"row-start-end":[{row:["auto",{span:[Nl,_e]},_e]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Ai]},Ai]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ai,bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nm]}],"font-family":[{font:[Dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",ca,nm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,bi]}],"underline-offset":[{"underline-offset":["auto",zr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),VM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[zr,_e]}],"outline-w":[{outline:[zr,bi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[zr,bi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ai,LM]}],"shadow-color":[{shadow:[Dl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ai,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Nl,_e]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zr,bi,nm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$M=xM(BM);function ft(...t){return $M(SA(t))}const zM=J2,DA=S.forwardRef(({className:t,...e},n)=>b.jsx(yA,{ref:n,className:ft("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));DA.displayName=yA.displayName;const WM=Wv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VA=S.forwardRef(({className:t,variant:e,...n},r)=>b.jsx(vA,{ref:r,className:ft(WM({variant:e}),t),...n}));VA.displayName=vA.displayName;const HM=S.forwardRef(({className:t,...e},n)=>b.jsx(EA,{ref:n,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));HM.displayName=EA.displayName;const OA=S.forwardRef(({className:t,...e},n)=>b.jsx(TA,{ref:n,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(AA,{className:"h-4 w-4"})}));OA.displayName=TA.displayName;const MA=S.forwardRef(({className:t,...e},n)=>b.jsx(wA,{ref:n,className:ft("text-sm font-semibold",t),...e}));MA.displayName=wA.displayName;const LA=S.forwardRef(({className:t,...e},n)=>b.jsx(_A,{ref:n,className:ft("text-sm opacity-90",t),...e}));LA.displayName=_A.displayName;function qM(){const{toasts:t}=bf();return b.jsxs(zM,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return b.jsxs(VA,{...s,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(MA,{children:n}),r&&b.jsx(LA,{children:r})]}),i,b.jsx(OA,{})]},e)}),b.jsx(DA,{})]})}var GE=["light","dark"],KM="(prefers-color-scheme: dark)",GM=S.createContext(void 0),QM={setTheme:t=>{},themes:[]},YM=()=>{var t;return(t=S.useContext(GM))!=null?t:QM};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?GE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,_=!1,E=!0)=>{let y=o?o[w]:w,v=_?w+"|| ''":`'${y}'`,T="";return i&&E&&!_&&GE.includes(w)&&(T+=`d.style.colorScheme = '${w}';`),n==="class"?_||y?T+=`c.add(${v})`:T+="null":y&&(T+=`d[s](n,${v})`),T},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${KM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var XM=t=>{switch(t){case"success":return eL;case"info":return nL;case"warning":return tL;case"error":return rL;default:return null}},JM=Array(12).fill(0),ZM=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},JM.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),eL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iL=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Mg=1,sL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Mg++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(aL(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Mg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},xn=new sL,oL=(t,e)=>{let n=(e==null?void 0:e.id)||Mg++;return xn.addToast({title:t,...e,id:n}),n},aL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lL=oL,uL=()=>xn.toasts;Object.assign(lL,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:uL});function cL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}cL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hd(t){return t.label!==void 0}var dL=3,hL="32px",fL=4e3,pL=356,mL=14,gL=20,yL=200;function vL(...t){return t.filter(Boolean).join(" ")}var wL=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:h,toast:f,unstyled:m,interacting:w,setHeights:_,visibleToasts:E,heights:y,index:v,toasts:T,expanded:k,removeToast:D,defaultRichColors:M,closeButton:C,style:x,cancelButtonStyle:P,actionButtonStyle:I,className:V="",descriptionClassName:N="",duration:R,position:q,gap:oe,loadingIcon:ae,expandByDefault:ee,classNames:j,icons:K,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ne,cn:le}=t,[ce,Oe]=W.useState(!1),[rt,Ae]=W.useState(!1),[pt,ln]=W.useState(!1),[_n,Gt]=W.useState(!1),[Vn,On]=W.useState(0),[un,Mn]=W.useState(0),Fr=W.useRef(null),Ln=W.useRef(null),bo=v===0,O=v+1<=E,L=f.type,B=f.dismissible!==!1,Z=f.className||"",Y=f.descriptionClassName||"",G=W.useMemo(()=>y.findIndex(me=>me.toastId===f.id)||0,[y,f.id]),ue=W.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:C},[f.closeButton,C]),ye=W.useMemo(()=>f.duration||R||fL,[f.duration,R]),Te=W.useRef(0),we=W.useRef(0),Qt=W.useRef(0),Qn=W.useRef(null),[jr,Vs]=q.split("-"),pr=W.useMemo(()=>y.reduce((me,Me,De)=>De>=G?me:me+Me.height,0),[y,G]),_i=iL(),Ao=f.invert||h,mr=L==="loading";we.current=W.useMemo(()=>G*oe+pr,[G,pr]),W.useEffect(()=>{Oe(!0)},[]),W.useLayoutEffect(()=>{if(!ce)return;let me=Ln.current,Me=me.style.height;me.style.height="auto";let De=me.getBoundingClientRect().height;me.style.height=Me,Mn(De),_(Nt=>Nt.find(cn=>cn.toastId===f.id)?Nt.map(cn=>cn.toastId===f.id?{...cn,height:De}:cn):[{toastId:f.id,height:De,position:f.position},...Nt])},[ce,f.title,f.description,_,f.id]);let gr=W.useCallback(()=>{Ae(!0),On(we.current),_(me=>me.filter(Me=>Me.toastId!==f.id)),setTimeout(()=>{D(f)},yL)},[f,D,_,we]);W.useEffect(()=>{if(f.promise&&L==="loading"||f.duration===1/0||f.type==="loading")return;let me,Me=ye;return k||w||ne&&_i?(()=>{if(Qt.current<Te.current){let De=new Date().getTime()-Te.current;Me=Me-De}Qt.current=new Date().getTime()})():Me!==1/0&&(Te.current=new Date().getTime(),me=setTimeout(()=>{var De;(De=f.onAutoClose)==null||De.call(f,f),gr()},Me)),()=>clearTimeout(me)},[k,w,ee,f,ye,gr,f.promise,L,ne,_i]),W.useEffect(()=>{let me=Ln.current;if(me){let Me=me.getBoundingClientRect().height;return Mn(Me),_(De=>[{toastId:f.id,height:Me,position:f.position},...De]),()=>_(De=>De.filter(Nt=>Nt.toastId!==f.id))}},[_,f.id]),W.useEffect(()=>{f.delete&&gr()},[gr,f.delete]);function fp(){return K!=null&&K.loading?W.createElement("div",{className:"sonner-loader","data-visible":L==="loading"},K.loading):ae?W.createElement("div",{className:"sonner-loader","data-visible":L==="loading"},ae):W.createElement(ZM,{visible:L==="loading"})}return W.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ln,className:le(V,Z,j==null?void 0:j.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[L],(n=f==null?void 0:f.classNames)==null?void 0:n[L]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ce,"data-promise":!!f.promise,"data-removed":rt,"data-visible":O,"data-y-position":jr,"data-x-position":Vs,"data-index":v,"data-front":bo,"data-swiping":pt,"data-dismissible":B,"data-type":L,"data-invert":Ao,"data-swipe-out":_n,"data-expanded":!!(k||ee&&ce),style:{"--index":v,"--toasts-before":v,"--z-index":T.length-v,"--offset":`${rt?Vn:we.current}px`,"--initial-height":ee?"auto":`${un}px`,...x,...f.style},onPointerDown:me=>{mr||!B||(Fr.current=new Date,On(we.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(ln(!0),Qn.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Me,De,Nt;if(_n||!B)return;Qn.current=null;let cn=Number(((me=Ln.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ei=new Date().getTime()-((Me=Fr.current)==null?void 0:Me.getTime()),Ur=Math.abs(cn)/Ei;if(Math.abs(cn)>=gL||Ur>.11){On(we.current),(De=f.onDismiss)==null||De.call(f,f),gr(),Gt(!0);return}(Nt=Ln.current)==null||Nt.style.setProperty("--swipe-amount","0px"),ln(!1)},onPointerMove:me=>{var Me;if(!Qn.current||!B)return;let De=me.clientY-Qn.current.y,Nt=me.clientX-Qn.current.x,cn=(jr==="top"?Math.min:Math.max)(0,De),Ei=me.pointerType==="touch"?10:2;Math.abs(cn)>Ei?(Me=Ln.current)==null||Me.style.setProperty("--swipe-amount",`${De}px`):Math.abs(Nt)>Ei&&(Qn.current=null)}},ue&&!f.jsx?W.createElement("button",{"aria-label":te,"data-disabled":mr,"data-close-button":!0,onClick:mr||!B?()=>{}:()=>{var me;gr(),(me=f.onDismiss)==null||me.call(f,f)},className:le(j==null?void 0:j.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||W.isValidElement(f.title)?f.jsx||f.title:W.createElement(W.Fragment,null,L||f.icon||f.promise?W.createElement("div",{"data-icon":"",className:le(j==null?void 0:j.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fp():null,f.type!=="loading"?f.icon||(K==null?void 0:K[L])||XM(L):null):null,W.createElement("div",{"data-content":"",className:le(j==null?void 0:j.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:le(j==null?void 0:j.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?W.createElement("div",{"data-description":"",className:le(N,Y,j==null?void 0:j.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),W.isValidElement(f.cancel)?f.cancel:f.cancel&&hd(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:me=>{var Me,De;hd(f.cancel)&&B&&((De=(Me=f.cancel).onClick)==null||De.call(Me,me),gr())},className:le(j==null?void 0:j.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,W.isValidElement(f.action)?f.action:f.action&&hd(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:me=>{var Me,De;hd(f.action)&&(me.defaultPrevented||((De=(Me=f.action).onClick)==null||De.call(Me,me),gr()))},className:le(j==null?void 0:j.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function QE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var _L=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=dL,toastOptions:m,dir:w=QE(),gap:_=mL,loadingIcon:E,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:T,cn:k=vL}=t,[D,M]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(ne=>ne.position).map(ne=>ne.position)))),[D,n]),[x,P]=W.useState([]),[I,V]=W.useState(!1),[N,R]=W.useState(!1),[q,oe]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=W.useRef(null),ee=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=W.useRef(null),K=W.useRef(!1),te=W.useCallback(ne=>{var le;(le=D.find(ce=>ce.id===ne.id))!=null&&le.delete||xn.dismiss(ne.id),M(ce=>ce.filter(({id:Oe})=>Oe!==ne.id))},[D]);return W.useEffect(()=>xn.subscribe(ne=>{if(ne.dismiss){M(le=>le.map(ce=>ce.id===ne.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{Gb.flushSync(()=>{M(le=>{let ce=le.findIndex(Oe=>Oe.id===ne.id);return ce!==-1?[...le.slice(0,ce),{...le[ce],...ne},...le.slice(ce+1)]:[ne,...le]})})})}),[]),W.useEffect(()=>{if(l!=="system"){oe(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{oe(ne?"dark":"light")})},[l]),W.useEffect(()=>{D.length<=1&&V(!1)},[D]),W.useEffect(()=>{let ne=le=>{var ce,Oe;r.every(rt=>le[rt]||le.code===rt)&&(V(!0),(ce=ae.current)==null||ce.focus()),le.code==="Escape"&&(document.activeElement===ae.current||(Oe=ae.current)!=null&&Oe.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[r]),W.useEffect(()=>{if(ae.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,K.current=!1)}},[ae.current]),D.length?W.createElement("section",{"aria-label":`${v} ${ee}`,tabIndex:-1},C.map((ne,le)=>{var ce;let[Oe,rt]=ne.split("-");return W.createElement("ol",{key:ne,dir:w==="auto"?QE():w,tabIndex:-1,ref:ae,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Oe,"data-x-position":rt,style:{"--front-toast-height":`${((ce=x[0])==null?void 0:ce.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||hL,"--width":`${pL}px`,"--gap":`${_}px`,...h},onBlur:Ae=>{K.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(K.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||K.current||(K.current=!0,j.current=Ae.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{N||V(!1)},onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},D.filter(Ae=>!Ae.position&&le===0||Ae.position===ne).map((Ae,pt)=>{var ln,_n;return W.createElement(wL,{key:Ae.id,icons:y,index:pt,toast:Ae,defaultRichColors:c,duration:(ln=m==null?void 0:m.duration)!=null?ln:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(_n=m==null?void 0:m.closeButton)!=null?_n:s,interacting:N,position:ne,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:te,toasts:D.filter(Gt=>Gt.position==Ae.position),heights:x.filter(Gt=>Gt.position==Ae.position),setHeights:P,expandByDefault:i,gap:_,loadingIcon:E,expanded:I,pauseWhenPageIsHidden:T,cn:k})}))})):null};const EL=({...t})=>{const{theme:e="system"}=YM();return b.jsx(_L,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},TL=["top","right","bottom","left"],fs=Math.min,Cn=Math.max,Ch=Math.round,fd=Math.floor,ps=t=>({x:t,y:t}),xL={left:"right",right:"left",bottom:"top",top:"bottom"},SL={start:"end",end:"start"};function Lg(t,e,n){return Cn(t,fs(e,n))}function ui(t,e){return typeof t=="function"?t(e):t}function ci(t){return t.split("-")[0]}function Za(t){return t.split("-")[1]}function Kv(t){return t==="x"?"y":"x"}function Gv(t){return t==="y"?"height":"width"}function ms(t){return["top","bottom"].includes(ci(t))?"y":"x"}function Qv(t){return Kv(ms(t))}function CL(t,e,n){n===void 0&&(n=!1);const r=Za(t),i=Qv(t),s=Gv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=bh(o)),[o,bh(o)]}function bL(t){const e=bh(t);return[Fg(t),e,Fg(e)]}function Fg(t){return t.replace(/start|end/g,e=>SL[e])}function AL(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function PL(t,e,n,r){const i=Za(t);let s=AL(ci(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Fg)))),s}function bh(t){return t.replace(/left|right|bottom|top/g,e=>xL[e])}function IL(t){return{top:0,right:0,bottom:0,left:0,...t}}function FA(t){return typeof t!="number"?IL(t):{top:t,right:t,bottom:t,left:t}}function Ah(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function YE(t,e,n){let{reference:r,floating:i}=t;const s=ms(e),o=Qv(e),a=Gv(o),l=ci(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Za(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const RL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=YE(c,r,l),f=r,m={},w=0;for(let _=0;_<a.length;_++){const{name:E,fn:y}=a[_],{x:v,y:T,data:k,reset:D}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,h=T??h,m={...m,[E]:{...m[E],...k}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:h}=YE(c,f,l)),_=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function Mu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=ui(e,t),w=FA(m),E=a[f?h==="floating"?"reference":"floating":h],y=Ah(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Ah(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(y.top-D.top+w.top)/k.y,bottom:(D.bottom-y.bottom+w.bottom)/k.y,left:(y.left-D.left+w.left)/k.x,right:(D.right-y.right+w.right)/k.x}}const kL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=ui(t,e)||{};if(c==null)return{};const h=FA(d),f={x:n,y:r},m=Qv(i),w=Gv(m),_=await o.getDimensions(c),E=m==="y",y=E?"top":"left",v=E?"bottom":"right",T=E?"clientHeight":"clientWidth",k=s.reference[w]+s.reference[m]-f[m]-s.floating[w],D=f[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||s.floating[w]);const x=k/2-D/2,P=C/2-_[w]/2-1,I=fs(h[y],P),V=fs(h[v],P),N=I,R=C-_[w]-V,q=C/2-_[w]/2+x,oe=Lg(N,q,R),ae=!l.arrow&&Za(i)!=null&&q!==oe&&s.reference[w]/2-(q<N?I:V)-_[w]/2<0,ee=ae?q<N?q-N:q-R:0;return{[m]:f[m]+ee,data:{[m]:oe,centerOffset:q-oe-ee,...ae&&{alignmentOffset:ee}},reset:ae}}}),NL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...E}=ui(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=ci(i),v=ms(a),T=ci(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=f||(T||!_?[bh(a)]:bL(a)),M=w!=="none";!f&&M&&D.push(...PL(a,_,w,k));const C=[a,...D],x=await Mu(e,E),P=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(x[y]),h){const q=CL(i,o,k);P.push(x[q[0]],x[q[1]])}if(I=[...I,{placement:i,overflows:P}],!P.every(q=>q<=0)){var V,N;const q=(((V=s.flip)==null?void 0:V.index)||0)+1,oe=C[q];if(oe)return{data:{index:q,overflows:I},reset:{placement:oe}};let ae=(N=I.filter(ee=>ee.overflows[0]<=0).sort((ee,j)=>ee.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!ae)switch(m){case"bestFit":{var R;const ee=(R=I.filter(j=>{if(M){const K=ms(j.placement);return K===v||K==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(K=>K>0).reduce((K,te)=>K+te,0)]).sort((j,K)=>j[1]-K[1])[0])==null?void 0:R[0];ee&&(ae=ee);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function XE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function JE(t){return TL.some(e=>t[e]>=0)}const DL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ui(t,e);switch(r){case"referenceHidden":{const s=await Mu(e,{...i,elementContext:"reference"}),o=XE(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JE(o)}}}case"escaped":{const s=await Mu(e,{...i,altBoundary:!0}),o=XE(s,n.floating);return{data:{escapedOffsets:o,escaped:JE(o)}}}default:return{}}}}};async function VL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ci(n),a=Za(n),l=ms(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=ui(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const OL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await VL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},ML=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:y,y:v}=E;return{x:y,y:v}}},...l}=ui(t,e),c={x:n,y:r},d=await Mu(e,l),h=ms(ci(i)),f=Kv(h);let m=c[f],w=c[h];if(s){const E=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+d[E],T=m-d[y];m=Lg(v,m,T)}if(o){const E=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=w+d[E],T=w-d[y];w=Lg(v,w,T)}const _=a.fn({...e,[f]:m,[h]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[f]:s,[h]:o}}}}}},LL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ui(t,e),d={x:n,y:r},h=ms(i),f=Kv(h);let m=d[f],w=d[h];const _=ui(a,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=f==="y"?"height":"width",k=s.reference[f]-s.floating[T]+E.mainAxis,D=s.reference[f]+s.reference[T]-E.mainAxis;m<k?m=k:m>D&&(m=D)}if(c){var y,v;const T=f==="y"?"width":"height",k=["top","left"].includes(ci(i)),D=s.reference[h]-s.floating[T]+(k&&((y=o.offset)==null?void 0:y[h])||0)+(k?0:E.crossAxis),M=s.reference[h]+s.reference[T]+(k?0:((v=o.offset)==null?void 0:v[h])||0)-(k?E.crossAxis:0);w<D?w=D:w>M&&(w=M)}return{[f]:m,[h]:w}}}},FL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ui(t,e),d=await Mu(e,c),h=ci(i),f=Za(i),m=ms(i)==="y",{width:w,height:_}=s.floating;let E,y;h==="top"||h==="bottom"?(E=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,E=f==="end"?"top":"bottom");const v=_-d.top-d.bottom,T=w-d.left-d.right,k=fs(_-d[E],v),D=fs(w-d[y],T),M=!e.middlewareData.shift;let C=k,x=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),M&&!f){const I=Cn(d.left,0),V=Cn(d.right,0),N=Cn(d.top,0),R=Cn(d.bottom,0);m?x=w-2*(I!==0||V!==0?I+V:Cn(d.left,d.right)):C=_-2*(N!==0||R!==0?N+R:Cn(d.top,d.bottom))}await l({...e,availableWidth:x,availableHeight:C});const P=await o.getDimensions(a.floating);return w!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function el(t){return jA(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lr(t){var e;return(e=(jA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jA(t){return Rf()?t instanceof Node||t instanceof In(t).Node:!1}function cr(t){return Rf()?t instanceof Element||t instanceof In(t).Element:!1}function Vr(t){return Rf()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function ZE(t){return!Rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}function hc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function jL(t){return["table","td","th"].includes(el(t))}function kf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Yv(t){const e=Xv(),n=cr(t)?dr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function UL(t){let e=gs(t);for(;Vr(e)&&!Da(e);){if(Yv(e))return e;if(kf(e))return null;e=gs(e)}return null}function Xv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Da(t){return["html","body","#document"].includes(el(t))}function dr(t){return In(t).getComputedStyle(t)}function Nf(t){return cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gs(t){if(el(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZE(t)&&t.host||Lr(t);return ZE(e)?e.host:e}function UA(t){const e=gs(t);return Da(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&hc(e)?e:UA(e)}function Lu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=UA(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=In(i);if(s){const a=jg(o);return e.concat(o,o.visualViewport||[],hc(i)?i:[],a&&n?Lu(a):[])}return e.concat(i,Lu(i,[],n))}function jg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BA(t){const e=dr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ch(n)!==s||Ch(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Jv(t){return cr(t)?t:t.contextElement}function da(t){const e=Jv(t);if(!Vr(e))return ps(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=BA(e);let o=(s?Ch(n.width):n.width)/r,a=(s?Ch(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const BL=ps(0);function $A(t){const e=In(t);return!Xv()||!e.visualViewport?BL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $L(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==In(t)?!1:e}function fo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Jv(t);let o=ps(1);e&&(r?cr(r)&&(o=da(r)):o=da(t));const a=$L(s,n,r)?$A(s):ps(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=In(s),m=r&&cr(r)?In(r):r;let w=f,_=jg(w);for(;_&&r&&m!==w;){const E=da(_),y=_.getBoundingClientRect(),v=dr(_),T=y.left+(_.clientLeft+parseFloat(v.paddingLeft))*E.x,k=y.top+(_.clientTop+parseFloat(v.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,h*=E.y,l+=T,c+=k,w=In(_),_=jg(w)}}return Ah({width:d,height:h,x:l,y:c})}function zL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Lr(r),a=e?kf(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ps(1);const d=ps(0),h=Vr(r);if((h||!h&&!s)&&((el(r)!=="body"||hc(o))&&(l=Nf(r)),Vr(r))){const f=fo(r);c=da(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function WL(t){return Array.from(t.getClientRects())}function Ug(t,e){const n=Nf(t).scrollLeft;return e?e.left+n:fo(Lr(t)).left+n}function HL(t){const e=Lr(t),n=Nf(t),r=t.ownerDocument.body,i=Cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ug(t);const a=-n.scrollTop;return dr(r).direction==="rtl"&&(o+=Cn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function qL(t,e){const n=In(t),r=Lr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Xv();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function KL(t,e){const n=fo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Vr(t)?da(t):ps(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function eT(t,e,n){let r;if(e==="viewport")r=qL(t,n);else if(e==="document")r=HL(Lr(t));else if(cr(e))r=KL(e,n);else{const i=$A(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ah(r)}function zA(t,e){const n=gs(t);return n===e||!cr(n)||Da(n)?!1:dr(n).position==="fixed"||zA(n,e)}function GL(t,e){const n=e.get(t);if(n)return n;let r=Lu(t,[],!1).filter(a=>cr(a)&&el(a)!=="body"),i=null;const s=dr(t).position==="fixed";let o=s?gs(t):t;for(;cr(o)&&!Da(o);){const a=dr(o),l=Yv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||hc(o)&&!l&&zA(t,o))?r=r.filter(d=>d!==o):i=a,o=gs(o)}return e.set(t,r),r}function QL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?kf(e)?[]:GL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=eT(e,d,i);return c.top=Cn(h.top,c.top),c.right=fs(h.right,c.right),c.bottom=fs(h.bottom,c.bottom),c.left=Cn(h.left,c.left),c},eT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function YL(t){const{width:e,height:n}=BA(t);return{width:e,height:n}}function XL(t,e,n){const r=Vr(e),i=Lr(e),s=n==="fixed",o=fo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ps(0);if(r||!r&&!s)if((el(e)!=="body"||hc(i))&&(a=Nf(e)),r){const m=fo(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=Ug(i));let c=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-Ug(i,m)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function rm(t){return dr(t).position==="static"}function tT(t,e){if(!Vr(t)||dr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Lr(t)===n&&(n=n.ownerDocument.body),n}function WA(t,e){const n=In(t);if(kf(t))return n;if(!Vr(t)){let i=gs(t);for(;i&&!Da(i);){if(cr(i)&&!rm(i))return i;i=gs(i)}return n}let r=tT(t,e);for(;r&&jL(r)&&rm(r);)r=tT(r,e);return r&&Da(r)&&rm(r)&&!Yv(r)?n:r||UL(t)||n}const JL=async function(t){const e=this.getOffsetParent||WA,n=this.getDimensions,r=await n(t.floating);return{reference:XL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZL(t){return dr(t).direction==="rtl"}const eF={convertOffsetParentRelativeRectToViewportRelativeRect:zL,getDocumentElement:Lr,getClippingRect:QL,getOffsetParent:WA,getElementRects:JL,getClientRects:WL,getDimensions:YL,getScale:da,isElement:cr,isRTL:ZL};function tF(t,e){let n=null,r;const i=Lr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=fd(d),w=fd(i.clientWidth-(c+h)),_=fd(i.clientHeight-(d+f)),E=fd(c),v={rootMargin:-m+"px "+-w+"px "+-_+"px "+-E+"px",threshold:Cn(0,fs(1,l))||1};let T=!0;function k(D){const M=D[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(k,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(t)}return o(!0),s}function nF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Jv(t),d=i||s?[...c?Lu(c):[],...Lu(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=c&&a?tF(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,_=l?fo(t):null;l&&E();function E(){const y=fo(t);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,w=requestAnimationFrame(E)}return n(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const rF=OL,iF=ML,sF=NL,oF=FL,aF=DL,nT=kL,lF=LL,uF=(t,e,n)=>{const r=new Map,i={platform:eF,...n},s={...i.platform,_c:r};return RL(t,e,{...i,platform:s})};var Ud=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Ph(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ph(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ph(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function HA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rT(t,e){const n=HA(t);return Math.round(e*n)/n}function im(t){const e=S.useRef(t);return Ud(()=>{e.current=t}),e}function cF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=S.useState(r);Ph(f,r)||m(r);const[w,_]=S.useState(null),[E,y]=S.useState(null),v=S.useCallback(j=>{j!==M.current&&(M.current=j,_(j))},[]),T=S.useCallback(j=>{j!==C.current&&(C.current=j,y(j))},[]),k=s||w,D=o||E,M=S.useRef(null),C=S.useRef(null),x=S.useRef(d),P=l!=null,I=im(l),V=im(i),N=im(c),R=S.useCallback(()=>{if(!M.current||!C.current)return;const j={placement:e,strategy:n,middleware:f};V.current&&(j.platform=V.current),uF(M.current,C.current,j).then(K=>{const te={...K,isPositioned:N.current!==!1};q.current&&!Ph(x.current,te)&&(x.current=te,dc.flushSync(()=>{h(te)}))})},[f,e,n,V,N]);Ud(()=>{c===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const q=S.useRef(!1);Ud(()=>(q.current=!0,()=>{q.current=!1}),[]),Ud(()=>{if(k&&(M.current=k),D&&(C.current=D),k&&D){if(I.current)return I.current(k,D,R);R()}},[k,D,R,I,P]);const oe=S.useMemo(()=>({reference:M,floating:C,setReference:v,setFloating:T}),[v,T]),ae=S.useMemo(()=>({reference:k,floating:D}),[k,D]),ee=S.useMemo(()=>{const j={position:n,left:0,top:0};if(!ae.floating)return j;const K=rT(ae.floating,d.x),te=rT(ae.floating,d.y);return a?{...j,transform:"translate("+K+"px, "+te+"px)",...HA(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:te}},[n,a,ae.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:R,refs:oe,elements:ae,floatingStyles:ee}),[d,R,oe,ae,ee])}const dF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?nT({element:r.current,padding:i}).fn(n):{}:r?nT({element:r,padding:i}).fn(n):{}}}},hF=(t,e)=>({...rF(t),options:[t,e]}),fF=(t,e)=>({...iF(t),options:[t,e]}),pF=(t,e)=>({...lF(t),options:[t,e]}),mF=(t,e)=>({...sF(t),options:[t,e]}),gF=(t,e)=>({...oF(t),options:[t,e]}),yF=(t,e)=>({...aF(t),options:[t,e]}),vF=(t,e)=>({...dF(t),options:[t,e]});var wF="Arrow",qA=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return b.jsx(an.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});qA.displayName=wF;var _F=qA;function EF(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,_=(f==null?void 0:f[t][l])||a,E=S.useMemo(()=>w,Object.values(w));return b.jsx(_.Provider,{value:E,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=S.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,TF(i,...e)]}function TF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function xF(t){const[e,n]=S.useState(void 0);return ho(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var KA="Popper",[GA,QA]=EF(KA),[cq,YA]=GA(KA),XA="PopperAnchor",JA=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=YA(XA,n),o=S.useRef(null),a=ur(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:b.jsx(an.div,{...i,ref:a})});JA.displayName=XA;var Zv="PopperContent",[SF,CF]=GA(Zv),ZA=S.forwardRef((t,e)=>{var pt,ln,_n,Gt,Vn,On;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,..._}=t,E=YA(Zv,n),[y,v]=S.useState(null),T=ur(e,un=>v(un)),[k,D]=S.useState(null),M=xF(k),C=(M==null?void 0:M.width)??0,x=(M==null?void 0:M.height)??0,P=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],N=V.length>0,R={padding:I,boundary:V.filter(AF),altBoundary:N},{refs:q,floatingStyles:oe,placement:ae,isPositioned:ee,middlewareData:j}=cF({strategy:"fixed",placement:P,whileElementsMounted:(...un)=>nF(...un,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[hF({mainAxis:i+x,alignmentAxis:o}),l&&fF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pF():void 0,...R}),l&&mF({...R}),gF({...R,apply:({elements:un,rects:Mn,availableWidth:Fr,availableHeight:Ln})=>{const{width:bo,height:O}=Mn.reference,L=un.floating.style;L.setProperty("--radix-popper-available-width",`${Fr}px`),L.setProperty("--radix-popper-available-height",`${Ln}px`),L.setProperty("--radix-popper-anchor-width",`${bo}px`),L.setProperty("--radix-popper-anchor-height",`${O}px`)}}),k&&vF({element:k,padding:a}),PF({arrowWidth:C,arrowHeight:x}),f&&yF({strategy:"referenceHidden",...R})]}),[K,te]=nP(ae),ne=Dr(w);ho(()=>{ee&&(ne==null||ne())},[ee,ne]);const le=(pt=j.arrow)==null?void 0:pt.x,ce=(ln=j.arrow)==null?void 0:ln.y,Oe=((_n=j.arrow)==null?void 0:_n.centerOffset)!==0,[rt,Ae]=S.useState();return ho(()=>{y&&Ae(window.getComputedStyle(y).zIndex)},[y]),b.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ee?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[(Gt=j.transformOrigin)==null?void 0:Gt.x,(Vn=j.transformOrigin)==null?void 0:Vn.y].join(" "),...((On=j.hide)==null?void 0:On.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(SF,{scope:n,placedSide:K,onArrowChange:D,arrowX:le,arrowY:ce,shouldHideArrow:Oe,children:b.jsx(an.div,{"data-side":K,"data-align":te,..._,ref:T,style:{..._.style,animation:ee?void 0:"none"}})})})});ZA.displayName=Zv;var eP="PopperArrow",bF={top:"bottom",right:"left",bottom:"top",left:"right"},tP=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=CF(eP,r),o=bF[s.placedSide];return b.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:b.jsx(_F,{...i,ref:n,style:{...i.style,display:"block"}})})});tP.displayName=eP;function AF(t){return t!==null}var PF=t=>({name:"transformOrigin",options:t,fn(e){var E,y,v;const{placement:n,rects:r,middlewareData:i}=e,o=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=nP(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let w="",_="";return c==="bottom"?(w=o?h:`${f}px`,_=`${-l}px`):c==="top"?(w=o?h:`${f}px`,_=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,_=o?h:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:w,y:_}}}});function nP(t){const[e,n="center"]=t.split("-");return[e,n]}var IF=JA,RF=ZA,kF=tP,[Df,dq]=Jb("Tooltip",[QA]),e0=QA(),rP="TooltipProvider",NF=700,iT="tooltip.open",[DF,iP]=Df(rP),sP=t=>{const{__scopeTooltip:e,delayDuration:n=NF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=S.useState(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),b.jsx(DF,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};sP.displayName=rP;var oP="Tooltip",[hq,Vf]=Df(oP),Bg="TooltipTrigger",VF=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Vf(Bg,n),s=iP(Bg,n),o=e0(n),a=S.useRef(null),l=ur(e,a,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),h=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),b.jsx(IF,{asChild:!0,...o,children:b.jsx(an.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:yt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:yt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:yt(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:yt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:yt(t.onBlur,i.onClose),onClick:yt(t.onClick,i.onClose)})})});VF.displayName=Bg;var OF="TooltipPortal",[fq,MF]=Df(OF,{forceMount:void 0}),Va="TooltipContent",aP=S.forwardRef((t,e)=>{const n=MF(Va,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Vf(Va,t.__scopeTooltip);return b.jsx(Uv,{present:r||o.open,children:o.disableHoverableContent?b.jsx(lP,{side:i,...s,ref:e}):b.jsx(LF,{side:i,...s,ref:e})})}),LF=S.forwardRef((t,e)=>{const n=Vf(Va,t.__scopeTooltip),r=iP(Va,t.__scopeTooltip),i=S.useRef(null),s=ur(e,i),[o,a]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,f=S.useCallback(()=>{a(null),h(!1)},[h]),m=S.useCallback((w,_)=>{const E=w.currentTarget,y={x:w.clientX,y:w.clientY},v=BF(y,E.getBoundingClientRect()),T=$F(y,v),k=zF(_.getBoundingClientRect()),D=HF([...T,...k]);a(D),h(!0)},[h]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(l&&d){const w=E=>m(E,d),_=E=>m(E,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",_)}}},[l,d,m,f]),S.useEffect(()=>{if(o){const w=_=>{const E=_.target,y={x:_.clientX,y:_.clientY},v=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!WF(y,o);v?f():T&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),b.jsx(lP,{...t,ref:s})}),[FF,jF]=Df(oP,{isInside:!1}),lP=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Vf(Va,n),c=e0(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(iT,d),()=>document.removeEventListener(iT,d)),[d]),S.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),b.jsx(jv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:b.jsxs(RF,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(Xb,{children:r}),b.jsx(FF,{scope:n,isInside:!0,children:b.jsx(V2,{id:l.contentId,role:"tooltip",children:i||r})})]})})});aP.displayName=Va;var uP="TooltipArrow",UF=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=e0(n);return jF(uP,n).isInside?null:b.jsx(kF,{...i,...r,ref:e})});UF.displayName=uP;function BF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $F(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zF(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function WF(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function HF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qF(e)}function qF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var KF=sP,cP=aP;const GF=KF,QF=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>b.jsx(cP,{ref:r,sideOffset:e,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));QF.displayName=cP.displayName;var Of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mf=typeof window>"u"||"Deno"in globalThis;function er(){}function YF(t,e){return typeof t=="function"?t(e):t}function XF(t){return typeof t=="number"&&t>=0&&t!==1/0}function JF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sT(t,e){return typeof t=="function"?t(e):t}function ZF(t,e){return typeof t=="function"?t(e):t}function oT(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==t0(o,e.options))return!1}else if(!ju(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function aT(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Fu(e.options.mutationKey)!==Fu(s))return!1}else if(!ju(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function t0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fu)(t)}function Fu(t){return JSON.stringify(t,(e,n)=>$g(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ju(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ju(t[n],e[n])):!1}function dP(t,e){if(t===e)return t;const n=lT(t)&&lT(e);if(n||$g(t)&&$g(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=dP(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function lT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $g(t){if(!uT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!uT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uT(t){return Object.prototype.toString.call(t)==="[object Object]"}function ej(t){return new Promise(e=>{setTimeout(e,t)})}function tj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?dP(t,e):e}function nj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function rj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var n0=Symbol();function hP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===n0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ys,$i,ga,AS,ij=(AS=class extends Of{constructor(){super();ke(this,Ys);ke(this,$i);ke(this,ga);Ee(this,ga,e=>{if(!Mf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,$i)||this.setEventListener(z(this,ga))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,$i))==null||e.call(this),Ee(this,$i,void 0))}setEventListener(e){var n;Ee(this,ga,e),(n=z(this,$i))==null||n.call(this),Ee(this,$i,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Ys)!==e&&(Ee(this,Ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Ys)=="boolean"?z(this,Ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ys=new WeakMap,$i=new WeakMap,ga=new WeakMap,AS),fP=new ij,ya,zi,va,PS,sj=(PS=class extends Of{constructor(){super();ke(this,ya,!0);ke(this,zi);ke(this,va);Ee(this,va,e=>{if(!Mf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,zi)||this.setEventListener(z(this,va))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,zi))==null||e.call(this),Ee(this,zi,void 0))}setEventListener(e){var n;Ee(this,va,e),(n=z(this,zi))==null||n.call(this),Ee(this,zi,e(this.setOnline.bind(this)))}setOnline(e){z(this,ya)!==e&&(Ee(this,ya,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,ya)}},ya=new WeakMap,zi=new WeakMap,va=new WeakMap,PS),Ih=new sj;function oj(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function aj(t){return Math.min(1e3*2**t,3e4)}function pP(t){return(t??"online")==="online"?Ih.isOnline():!0}var mP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sm(t){return t instanceof mP}function gP(t){let e=!1,n=0,r=!1,i;const s=oj(),o=_=>{var E;r||(f(new mP(_)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>fP.isFocused()&&(t.networkMode==="always"||Ih.isOnline())&&t.canRun(),d=()=>pP(t.networkMode)&&t.canRun(),h=_=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,_),i==null||i(),s.resolve(_))},f=_=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,_),i==null||i(),s.reject(_))},m=()=>new Promise(_=>{var E;i=y=>{(r||c())&&_(y)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),w=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(y){_=Promise.reject(y)}Promise.resolve(_).then(h).catch(y=>{var M;if(r)return;const v=t.retry??(Mf?0:3),T=t.retryDelay??aj,k=typeof T=="function"?T(n,y):T,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!D){f(y);return}n++,(M=t.onFail)==null||M.call(t,n,y),ej(k).then(()=>c()?void 0:m()).then(()=>{e?f(y):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():m().then(w),s)}}function lj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var en=lj(),Xs,IS,yP=(IS=class{constructor(){ke(this,Xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XF(this.gcTime)&&Ee(this,Xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mf?1/0:5*60*1e3))}clearGcTimeout(){z(this,Xs)&&(clearTimeout(z(this,Xs)),Ee(this,Xs,void 0))}},Xs=new WeakMap,IS),wa,_a,Un,jt,ic,Js,tr,Hr,RS,uj=(RS=class extends yP{constructor(n){super();ke(this,tr);ke(this,wa);ke(this,_a);ke(this,Un);ke(this,jt);ke(this,ic);ke(this,Js);Ee(this,Js,!1),Ee(this,ic,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,Un,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,wa,dj(this.options)),this.state=n.state??z(this,wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,jt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,ic),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Un).remove(this)}setData(n,r){const i=tj(this.state.data,n,this.options);return Ot(this,tr,Hr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ot(this,tr,Hr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,jt))==null?void 0:i.promise;return(s=z(this,jt))==null||s.cancel(n),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,wa))}isActive(){return this.observers.some(n=>ZF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!JF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,jt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,jt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Un).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,jt)&&(z(this,Js)?z(this,jt).cancel({revert:!0}):z(this,jt).cancelRetry()),this.scheduleGc()),z(this,Un).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,tr,Hr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,jt))return z(this,jt).continueRetry(),z(this,jt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ee(this,Js,!0),i.signal)})},o=()=>{const f=hP(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),Ee(this,Js,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ee(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ot(this,tr,Hr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,w,_,E;sm(f)&&f.silent||Ot(this,tr,Hr).call(this,{type:"error",error:f}),sm(f)||((w=(m=z(this,Un).config).onError)==null||w.call(m,f,this),(E=(_=z(this,Un).config).onSettled)==null||E.call(_,this.state.data,f,this)),this.scheduleGc()};return Ee(this,jt,gP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,w,_,E;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(w=(m=z(this,Un).config).onSuccess)==null||w.call(m,f,this),(E=(_=z(this,Un).config).onSettled)==null||E.call(_,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Ot(this,tr,Hr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Ot(this,tr,Hr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,tr,Hr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,jt).start()}},wa=new WeakMap,_a=new WeakMap,Un=new WeakMap,jt=new WeakMap,ic=new WeakMap,Js=new WeakMap,tr=new WeakSet,Hr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...cj(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return sm(s)&&s.revert&&z(this,_a)?{...z(this,_a),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),en.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,Un).notify({query:this,type:"updated",action:n})})},RS);function cj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _r,kS,hj=(kS=class extends Of{constructor(e={}){super();ke(this,_r);this.config=e,Ee(this,_r,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??t0(i,n);let o=this.get(s);return o||(o=new uj({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,_r).has(e.queryHash)||(z(this,_r).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,_r).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,_r).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,_r).get(e)}getAll(){return[...z(this,_r).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oT(e,r)):n}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_r=new WeakMap,kS),Er,Xt,Zs,Tr,Ii,NS,fj=(NS=class extends yP{constructor(n){super();ke(this,Tr);ke(this,Er);ke(this,Xt);ke(this,Zs);this.mutationId=n.mutationId,Ee(this,Xt,n.mutationCache),Ee(this,Er,[]),this.state=n.state||pj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Er).includes(n)||(z(this,Er).push(n),this.clearGcTimeout(),z(this,Xt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,Er,z(this,Er).filter(r=>r!==n)),this.scheduleGc(),z(this,Xt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Er).length||(this.state.status==="pending"?this.scheduleGc():z(this,Xt).remove(this))}continue(){var n;return((n=z(this,Zs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,d,h,f,m,w,_,E,y,v,T,k,D,M,C,x;Ee(this,Zs,gP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{Ot(this,Tr,Ii).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Ot(this,Tr,Ii).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Tr,Ii).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Xt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,Zs).canStart();try{if(!r){Ot(this,Tr,Ii).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,Xt).config).onMutate)==null?void 0:o.call(s,n,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));I!==this.state.context&&Ot(this,Tr,Ii).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const P=await z(this,Zs).start();return await((d=(c=z(this,Xt).config).onSuccess)==null?void 0:d.call(c,P,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,P,n,this.state.context)),await((w=(m=z(this,Xt).config).onSettled)==null?void 0:w.call(m,P,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,P,null,n,this.state.context)),Ot(this,Tr,Ii).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(y=z(this,Xt).config).onError)==null?void 0:v.call(y,P,n,this.state.context,this)),await((k=(T=this.options).onError)==null?void 0:k.call(T,P,n,this.state.context)),await((M=(D=z(this,Xt).config).onSettled)==null?void 0:M.call(D,void 0,P,this.state.variables,this.state.context,this)),await((x=(C=this.options).onSettled)==null?void 0:x.call(C,void 0,P,n,this.state.context)),P}finally{Ot(this,Tr,Ii).call(this,{type:"error",error:P})}}finally{z(this,Xt).runNext(this)}}},Er=new WeakMap,Xt=new WeakMap,Zs=new WeakMap,Tr=new WeakSet,Ii=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),en.batch(()=>{z(this,Er).forEach(i=>{i.onMutationUpdate(n)}),z(this,Xt).notify({mutation:this,type:"updated",action:n})})},NS);function pj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tn,sc,DS,mj=(DS=class extends Of{constructor(e={}){super();ke(this,Tn);ke(this,sc);this.config=e,Ee(this,Tn,new Map),Ee(this,sc,Date.now())}build(e,n,r){const i=new fj({mutationCache:this,mutationId:++qc(this,sc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=pd(e),r=z(this,Tn).get(n)??[];r.push(e),z(this,Tn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=pd(e);if(z(this,Tn).has(n)){const i=(r=z(this,Tn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,Tn).delete(n):z(this,Tn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Tn).get(pd(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Tn).get(pd(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Tn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aT(n,r))}findAll(e={}){return this.getAll().filter(n=>aT(e,n))}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(e.map(n=>n.continue().catch(er))))}},Tn=new WeakMap,sc=new WeakMap,DS);function pd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function cT(t){return{onFetch:(e,n)=>{var d,h,f,m,w;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},y=hP(e.options,e.fetchOptions),v=async(T,k,D)=>{if(_)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const M={queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};E(M);const C=await y(M),{maxPages:x}=e.options,P=D?rj:nj;return{pages:P(T.pages,C,x),pageParams:P(T.pageParams,k,x)}};if(i&&s.length){const T=i==="backward",k=T?gj:dT,D={pages:s,pageParams:o},M=k(r,D);a=await v(D,M,T)}else{const T=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:dT(r,a);if(l>0&&k==null)break;a=await v(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function dT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function gj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ze,Wi,Hi,Ea,Ta,qi,xa,Sa,VS,yj=(VS=class{constructor(t={}){ke(this,Ze);ke(this,Wi);ke(this,Hi);ke(this,Ea);ke(this,Ta);ke(this,qi);ke(this,xa);ke(this,Sa);Ee(this,Ze,t.queryCache||new hj),Ee(this,Wi,t.mutationCache||new mj),Ee(this,Hi,t.defaultOptions||{}),Ee(this,Ea,new Map),Ee(this,Ta,new Map),Ee(this,qi,0)}mount(){qc(this,qi)._++,z(this,qi)===1&&(Ee(this,xa,fP.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ze).onFocus())})),Ee(this,Sa,Ih.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ze).onOnline())})))}unmount(){var t,e;qc(this,qi)._--,z(this,qi)===0&&((t=z(this,xa))==null||t.call(this),Ee(this,xa,void 0),(e=z(this,Sa))==null||e.call(this),Ee(this,Sa,void 0))}isFetching(t){return z(this,Ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Wi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(sT(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=YF(e,s);if(o!==void 0)return z(this,Ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>z(this,Ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Ze);en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Ze),r={type:"active",...t};return en.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=en.batch(()=>z(this,Ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t={},e={}){return en.batch(()=>{if(z(this,Ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=en.batch(()=>z(this,Ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(er)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Ze).build(this,e);return n.isStaleByTime(sT(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=cT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=cT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ih.isOnline()?z(this,Wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ze)}getMutationCache(){return z(this,Wi)}getDefaultOptions(){return z(this,Hi)}setDefaultOptions(t){Ee(this,Hi,t)}setQueryDefaults(t,e){z(this,Ea).set(Fu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Ea).values()];let n={};return e.forEach(r=>{ju(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Ta).set(Fu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ta).values()];let n={};return e.forEach(r=>{ju(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Hi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=t0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===n0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Hi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Ze).clear(),z(this,Wi).clear()}},Ze=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,qi=new WeakMap,xa=new WeakMap,Sa=new WeakMap,VS),vj=S.createContext(void 0),wj=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(vj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const hT="popstate";function _j(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return zg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rh(i)}return Tj(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ej(){return Math.random().toString(36).substr(2,8)}function fT(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n,r){return n===void 0&&(n=null),Uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tl(e):e,{state:n,key:e&&e.key||r||Ej()})}function Rh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Tj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Uu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Qi.Pop;let E=d(),y=E==null?null:E-c;c=E,l&&l({action:a,location:_.location,delta:y})}function f(E,y){a=Qi.Push;let v=zg(_.location,E,y);c=d()+1;let T=fT(v,c),k=_.createHref(v);try{o.pushState(T,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}s&&l&&l({action:a,location:_.location,delta:1})}function m(E,y){a=Qi.Replace;let v=zg(_.location,E,y);c=d();let T=fT(v,c),k=_.createHref(v);o.replaceState(T,"",k),s&&l&&l({action:a,location:_.location,delta:0})}function w(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:Rh(E);return v=v.replace(/ $/,"%20"),at(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hT,h),l=E,()=>{i.removeEventListener(hT,h),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let y=w(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(E){return o.go(E)}};return _}var pT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pT||(pT={}));function xj(t,e,n){return n===void 0&&(n="/"),Sj(t,e,n,!1)}function Sj(t,e,n,r){let i=typeof e=="string"?tl(e):e,s=r0(i.pathname||"/",n);if(s==null)return null;let o=wP(t);Cj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Mj(s);a=Vj(o[l],c,r)}return a}function wP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ss([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wP(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Nj(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _P(s.path))i(s,o,l)}),e}function _P(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_P(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Cj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bj=/^:[\w-]+$/,Aj=3,Pj=2,Ij=1,Rj=10,kj=-2,mT=t=>t==="*";function Nj(t,e){let n=t.split("/"),r=n.length;return n.some(mT)&&(r+=kj),e&&(r+=Pj),n.filter(i=>!mT(i)).reduce((i,s)=>i+(bj.test(s)?Aj:s===""?Ij:Rj),r)}function Dj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vj(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=gT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=gT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ss([s,h.pathname]),pathnameBase:Uj(ss([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ss([s,h.pathnameBase]))}return o}function gT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Oj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Oj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Mj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Lj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tl(t):t;return{pathname:n?n.startsWith("/")?n:Fj(n,e):e,search:Bj(r),hash:$j(i)}}function Fj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function om(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function i0(t,e){let n=jj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function s0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tl(t):(i=Uu({},t),at(!i.pathname||!i.pathname.includes("?"),om("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),om("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),om("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Lj(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),Uj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$j=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EP=["post","put","patch","delete"];new Set(EP);const Wj=["get",...EP];new Set(Wj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(this,arguments)}const o0=S.createContext(null),Hj=S.createContext(null),Ps=S.createContext(null),Lf=S.createContext(null),Is=S.createContext({outlet:null,matches:[],isDataRoute:!1}),TP=S.createContext(null);function qj(t,e){let{relative:n}=e===void 0?{}:e;nl()||at(!1);let{basename:r,navigator:i}=S.useContext(Ps),{hash:s,pathname:o,search:a}=SP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ss([r,o])),i.createHref({pathname:l,search:a,hash:s})}function nl(){return S.useContext(Lf)!=null}function To(){return nl()||at(!1),S.useContext(Lf).location}function xP(t){S.useContext(Ps).static||S.useLayoutEffect(t)}function fc(){let{isDataRoute:t}=S.useContext(Is);return t?sU():Kj()}function Kj(){nl()||at(!1);let t=S.useContext(o0),{basename:e,future:n,navigator:r}=S.useContext(Ps),{matches:i}=S.useContext(Is),{pathname:s}=To(),o=JSON.stringify(i0(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return xP(()=>{a.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=s0(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ss([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function SP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Ps),{matches:i}=S.useContext(Is),{pathname:s}=To(),o=JSON.stringify(i0(i,r.v7_relativeSplatPath));return S.useMemo(()=>s0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Gj(t,e){return Qj(t,e)}function Qj(t,e,n,r){nl()||at(!1);let{navigator:i}=S.useContext(Ps),{matches:s}=S.useContext(Is),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=To(),d;if(e){var h;let E=typeof e=="string"?tl(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||at(!1),d=E}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=xj(t,{pathname:m}),_=eU(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ss([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ss([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?S.createElement(Lf.Provider,{value:{location:Bu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qi.Pop}},_):_}function Yj(){let t=iU(),e=zj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const Xj=S.createElement(Yj,null);class Jj extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Is.Provider,{value:this.props.routeContext},S.createElement(TP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zj(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(o0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Is.Provider,{value:e},r)}function eU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,_=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||Xj,l&&(c<0&&f===0?(w=!0,E=null):c===f&&(w=!0,E=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),v=()=>{let T;return m?T=_:w?T=E:h.route.Component?T=S.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,S.createElement(Zj,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(Jj,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var CP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CP||{}),kh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kh||{});function tU(t){let e=S.useContext(o0);return e||at(!1),e}function nU(t){let e=S.useContext(Hj);return e||at(!1),e}function rU(t){let e=S.useContext(Is);return e||at(!1),e}function bP(t){let e=rU(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function iU(){var t;let e=S.useContext(TP),n=nU(kh.UseRouteError),r=bP(kh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sU(){let{router:t}=tU(CP.UseNavigateStable),e=bP(kh.UseNavigateStable),n=S.useRef(!1);return xP(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bu({fromRouteId:e},s)))},[t,e])}function oU(t){let{to:e,replace:n,state:r,relative:i}=t;nl()||at(!1);let{future:s,static:o}=S.useContext(Ps),{matches:a}=S.useContext(Is),{pathname:l}=To(),c=fc(),d=s0(e,i0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Ri(t){at(!1)}function aU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:s,static:o=!1,future:a}=t;nl()&&at(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Bu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=tl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,_=S.useMemo(()=>{let E=r0(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:w},navigationType:i}},[l,d,h,f,m,w,i]);return _==null?null:S.createElement(Ps.Provider,{value:c},S.createElement(Lf.Provider,{children:n,value:_}))}function lU(t){let{children:e,location:n}=t;return Gj(Wg(e),n)}new Promise(()=>{});function Wg(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Wg(r.props.children,s));return}r.type!==Ri&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function uU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dU(t,e){return t.button===0&&(!e||e==="_self")&&!cU(t)}const hU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fU="6";try{window.__reactRouterVersion=fU}catch{}const pU="startTransition",yT=KD[pU];function mU(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=_j({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=S.useCallback(h=>{c&&yT?yT(()=>l(h)):l(h)},[l,c]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(aU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const gU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a0=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=uU(e,hU),{basename:m}=S.useContext(Ps),w,_=!1;if(typeof c=="string"&&yU.test(c)&&(w=c,gU))try{let T=new URL(window.location.href),k=c.startsWith("//")?new URL(T.protocol+c):new URL(c),D=r0(k.pathname,m);k.origin===T.origin&&D!=null?c=D+k.search+k.hash:_=!0}catch{}let E=qj(c,{relative:i}),y=vU(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(T){r&&r(T),T.defaultPrevented||y(T)}return S.createElement("a",Hg({},f,{href:w||E,onClick:_||s?r:v,ref:n,target:l}))});var vT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vT||(vT={}));var wT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wT||(wT={}));function vU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=fc(),c=To(),d=SP(t,{relative:o});return S.useCallback(h=>{if(dU(h,n)){h.preventDefault();let f=r!==void 0?r:Rh(c)===Rh(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const wU=()=>{};var _T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_U=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_U(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new EU;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TU=function(t){const e=AP(t);return PP.encodeByteArray(e,!0)},Nh=function(t){return TU(t).replace(/\./g,"")},IP=function(t){try{return PP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=()=>xU().__FIREBASE_DEFAULTS__,CU=()=>{if(typeof process>"u"||typeof _T>"u")return;const t=_T.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IP(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return wU()||SU()||CU()||bU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RP=t=>{var e,n;return(n=(e=Ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AU=t=>{const e=RP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kP=()=>{var t;return(t=Ff())===null||t===void 0?void 0:t.config},NP=t=>{var e;return(e=Ff())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nh(JSON.stringify(n)),Nh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function kU(){var t;const e=(t=Ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OU(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MU(){return!kU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LU(){try{return typeof indexedDB=="object"}catch{return!1}}function FU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jU,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function UU(t,e){return t.replace(BU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BU=/\{\$([^}]+)}/g;function $U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function po(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ET(s)&&ET(o)){if(!po(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ET(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zU(t,e){const n=new WU(t,e);return n.subscribe.bind(n)}class WU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=am),i.error===void 0&&(i.error=am),i.complete===void 0&&(i.complete=am);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}let mo=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GU(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KU(t){return t===Bs?void 0:t}function GU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const YU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},XU=Ce.INFO,JU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},ZU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l0{constructor(e){this.name=e,this._logLevel=XU,this._logHandler=ZU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const e4=(t,e)=>e.some(n=>t instanceof n);let TT,xT;function t4(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n4(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DP=new WeakMap,qg=new WeakMap,VP=new WeakMap,lm=new WeakMap,u0=new WeakMap;function r4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(os(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DP.set(n,t)}).catch(()=>{}),u0.set(e,t),e}function i4(t){if(qg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qg.set(t,e)}let Kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s4(t){Kg=t(Kg)}function o4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(um(this),e,...n);return VP.set(r,e.sort?e.sort():[e]),os(r)}:n4().includes(t)?function(...e){return t.apply(um(this),e),os(DP.get(this))}:function(...e){return os(t.apply(um(this),e))}}function a4(t){return typeof t=="function"?o4(t):(t instanceof IDBTransaction&&i4(t),e4(t,t4())?new Proxy(t,Kg):t)}function os(t){if(t instanceof IDBRequest)return r4(t);if(lm.has(t))return lm.get(t);const e=a4(t);return e!==t&&(lm.set(t,e),u0.set(e,t)),e}const um=t=>u0.get(t);function l4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=os(o);return r&&o.addEventListener("upgradeneeded",l=>{r(os(o.result),l.oldVersion,l.newVersion,os(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const u4=["get","getKey","getAll","getAllKeys","count"],c4=["put","add","delete","clear"],cm=new Map;function ST(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=c4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return cm.set(e,s),s}s4(t=>({...t,get:(e,n,r)=>ST(e,n)||t.get(e,n,r),has:(e,n)=>!!ST(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gg="@firebase/app",CT="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new l0("@firebase/app"),f4="@firebase/app-compat",p4="@firebase/analytics-compat",m4="@firebase/analytics",g4="@firebase/app-check-compat",y4="@firebase/app-check",v4="@firebase/auth",w4="@firebase/auth-compat",_4="@firebase/database",E4="@firebase/data-connect",T4="@firebase/database-compat",x4="@firebase/functions",S4="@firebase/functions-compat",C4="@firebase/installations",b4="@firebase/installations-compat",A4="@firebase/messaging",P4="@firebase/messaging-compat",I4="@firebase/performance",R4="@firebase/performance-compat",k4="@firebase/remote-config",N4="@firebase/remote-config-compat",D4="@firebase/storage",V4="@firebase/storage-compat",O4="@firebase/firestore",M4="@firebase/vertexai",L4="@firebase/firestore-compat",F4="firebase",j4="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="[DEFAULT]",U4={[Gg]:"fire-core",[f4]:"fire-core-compat",[m4]:"fire-analytics",[p4]:"fire-analytics-compat",[y4]:"fire-app-check",[g4]:"fire-app-check-compat",[v4]:"fire-auth",[w4]:"fire-auth-compat",[_4]:"fire-rtdb",[E4]:"fire-data-connect",[T4]:"fire-rtdb-compat",[x4]:"fire-fn",[S4]:"fire-fn-compat",[C4]:"fire-iid",[b4]:"fire-iid-compat",[A4]:"fire-fcm",[P4]:"fire-fcm-compat",[I4]:"fire-perf",[R4]:"fire-perf-compat",[k4]:"fire-rc",[N4]:"fire-rc-compat",[D4]:"fire-gcs",[V4]:"fire-gcs-compat",[O4]:"fire-fst",[L4]:"fire-fst-compat",[M4]:"fire-vertex","fire-js":"fire-js",[F4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,B4=new Map,Yg=new Map;function bT(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(Yg.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(const n of Dh.values())bT(n,t);for(const n of B4.values())bT(n,t);return!0}function c0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new pc("app","Firebase",$4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=j4;function OP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw as.create("bad-app-name",{appName:String(i)});if(n||(n=kP()),!n)throw as.create("no-options");const s=Dh.get(i);if(s){if(po(n,s.options)&&po(r,s.config))return s;throw as.create("duplicate-app",{appName:i})}const o=new QU(i);for(const l of Yg.values())o.addComponent(l);const a=new z4(n,r,o);return Dh.set(i,a),a}function MP(t=Qg){const e=Dh.get(t);if(!e&&t===Qg&&kP())return OP();if(!e)throw as.create("no-app",{appName:t});return e}function ls(t,e,n){var r;let i=(r=U4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(a.join(" "));return}Oa(new mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firebase-heartbeat-database",H4=1,$u="firebase-heartbeat-store";let dm=null;function LP(){return dm||(dm=l4(W4,H4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),dm}async function q4(t){try{const n=(await LP()).transaction($u),r=await n.objectStore($u).get(FP(t));return await n.done,r}catch(e){if(e instanceof yi)di.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function AT(t,e){try{const r=(await LP()).transaction($u,"readwrite");await r.objectStore($u).put(e,FP(t)),await r.done}catch(n){if(n instanceof yi)di.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function FP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=1024,G4=30;class Q4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>G4){const o=J4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PT(),{heartbeatsToSend:r,unsentEntries:i}=Y4(this._heartbeatsCache.heartbeats),s=Nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return di.warn(n),""}}}function PT(){return new Date().toISOString().substring(0,10)}function Y4(t,e=K4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LU()?FU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IT(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}function J4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){Oa(new mo("platform-logger",e=>new d4(e),"PRIVATE")),Oa(new mo("heartbeat",e=>new Q4(e),"PRIVATE")),ls(Gg,CT,t),ls(Gg,CT,"esm2017"),ls("fire-js","")}Z4("");var e5="firebase",t5="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(e5,t5,"app");function d0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n5=jP,UP=new pc("auth","Firebase",jP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new l0("@firebase/auth");function r5(t,...e){Vh.logLevel<=Ce.WARN&&Vh.warn(`Auth (${rl}): ${t}`,...e)}function Bd(t,...e){Vh.logLevel<=Ce.ERROR&&Vh.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw h0(t,...e)}function Ar(t,...e){return h0(t,...e)}function BP(t,e,n){const r=Object.assign(Object.assign({},n5()),{[e]:n});return new pc("auth","Firebase",r).create(e,{appName:t.name})}function ti(t){return BP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UP.create(t,...e)}function fe(t,e,...n){if(!t)throw h0(e,...n)}function Yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function hi(t,e){t||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function i5(){return RT()==="http:"||RT()==="https:"}function RT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i5()||DU()||"connection"in navigator)?navigator.onLine:!0}function o5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=RU()||VU()}get(){return s5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=new gc(3e4,6e4);function vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wi(t,e,n,r,i={}){return zP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return NU()||(c.referrerPolicy="no-referrer"),$P.fetch()(WP(t,t.config.apiHost,n,a),c)})}async function zP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},a5),e);try{const i=new c5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw md(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw md(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw md(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw BP(t,d,c);hr(t,d)}}catch(i){if(i instanceof yi)throw i;hr(t,"network-request-failed",{message:String(i)})}}async function yc(t,e,n,r,i={}){const s=await wi(t,e,n,r,i);return"mfaPendingCredential"in s&&hr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function WP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?f0(t.config,i):`${t.config.apiScheme}://${i}`}function u5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),l5.get())})}}function md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ar(t,e,r);return i.customData._tokenResponse=n,i}function kT(t){return t!==void 0&&t.enterprise!==void 0}class d5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return u5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function h5(t,e){return wi(t,"GET","/v2/recaptchaConfig",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function HP(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p5(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=p0(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lu(hm(i.auth_time)),issuedAtTime:lu(hm(i.iat)),expirationTime:lu(hm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hm(t){return Number(t)*1e3}function p0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=IP(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NT(t){const e=p0(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&m5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zu(t,HP(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qP(s.providerUserInfo):[],a=v5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function y5(t){const e=Rt(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qP(t){return t.map(e=>{var{providerId:n}=e,r=d0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e){const n=await zP(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$P.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _5(t,e){return wi(t,"POST","/v2/accounts:revokeToken",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=NT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await w5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ha;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=d0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zu(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return p5(this,e)}reload(){return y5(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await zu(this,f5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:D,providerData:M,stsTokenManager:C}=n;fe(T&&C,e,"internal-error");const x=ha.fromJSON(this.name,C);fe(typeof T=="string",e,"internal-error"),Pi(h,e.name),Pi(f,e.name),fe(typeof k=="boolean",e,"internal-error"),fe(typeof D=="boolean",e,"internal-error"),Pi(m,e.name),Pi(w,e.name),Pi(_,e.name),Pi(E,e.name),Pi(y,e.name),Pi(v,e.name);const P=new Xr({uid:T,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:D,photoURL:w,phoneNumber:m,tenantId:_,stsTokenManager:x,createdAt:y,lastLoginAt:v});return M&&Array.isArray(M)&&(P.providerData=M.map(I=>Object.assign({},I))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new ha;i.updateFromServerResponse(n);const s=new Xr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ha;a.updateFromIdToken(r);const l=new Xr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;function Jr(t){hi(t instanceof Function,"Expected a class definition");let e=DT.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KP.type="NONE";const VT=KP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t,e,n){return`firebase:${t}:${e}:${n}`}class fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$d(this.userKey,i.apiKey,s),this.fullPersistenceKey=$d("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fa(Jr(VT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Jr(VT);const o=$d(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Xr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new fa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZP(e))return"Blackberry";if(eI(e))return"Webos";if(QP(e))return"Safari";if((e.includes("chrome/")||YP(e))&&!e.includes("edge/"))return"Chrome";if(JP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GP(t=qt()){return/firefox\//i.test(t)}function QP(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YP(t=qt()){return/crios\//i.test(t)}function XP(t=qt()){return/iemobile/i.test(t)}function JP(t=qt()){return/android/i.test(t)}function ZP(t=qt()){return/blackberry/i.test(t)}function eI(t=qt()){return/webos/i.test(t)}function m0(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E5(t=qt()){var e;return m0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T5(){return OU()&&document.documentMode===10}function tI(t=qt()){return m0(t)||JP(t)||eI(t)||ZP(t)||/windows phone/i.test(t)||XP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e=[]){let n;switch(t){case"Browser":n=OT(qt());break;case"Worker":n=`${OT(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e={}){return wi(t,"GET","/v2/passwordPolicy",vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=6;class b5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:C5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MT(this),this.idTokenSubscription=new MT(this),this.beforeStateQueue=new x5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HP(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ti(this));const n=e?Rt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S5(this),n=new b5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jr(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&r5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rs(t){return Rt(t)}class MT{constructor(e){this.auth=e,this.observer=null,this.addObserver=zU(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P5(t){jf=t}function rI(t){return jf.loadJS(t)}function I5(){return jf.recaptchaEnterpriseScript}function R5(){return jf.gapiScript}function k5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class N5{constructor(){this.enterprise=new D5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class D5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const V5="recaptcha-enterprise",iI="NO_RECAPTCHA";class O5{constructor(e){this.type=V5,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{h5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new d5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(iI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=I5();l.length!==0&&(l+=a),rI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function LT(t,e,n,r=!1,i=!1){const s=new O5(t);let o;if(i)o=iI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Mh(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await LT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){const n=c0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(po(s,e??{}))return i;hr(i,"already-initialized")}return n.initialize({options:e})}function L5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F5(t,e,n){const r=Rs(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sI(e),{host:o,port:a}=j5(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(po(c,r.config.emulator)&&po(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,U5()}function sI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j5(t){const e=sI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:FT(o)}}}function FT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function B5(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return yc(t,"POST","/v1/accounts:signInWithPassword",vi(t,e))}async function z5(t,e){return wi(t,"POST","/v1/accounts:sendOobCode",vi(t,e))}async function W5(t,e){return z5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))}async function q5(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends g0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,n,"signInWithPassword",$5);case"emailLink":return H5(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,r,"signUpPassword",B5);case"emailLink":return q5(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e){return yc(t,"POST","/v1/accounts:signInWithIdp",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="http://localhost";class go extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=d0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new go(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pa(e,n)}buildRequest(){const e={requestUri:K5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q5(t){const e=Bl($l(t)).link,n=e?Bl($l(e)).deep_link_id:null,r=Bl($l(t)).deep_link_id;return(r?Bl($l(r)).link:null)||r||n||e||t}class y0{constructor(e){var n,r,i,s,o,a;const l=Bl($l(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=G5((i=l.mode)!==null&&i!==void 0?i:null);fe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Q5(e);try{return new y0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return Wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y0.parseLink(n);return fe(r,"argument-error"),Wu._fromEmailAndCode(e,r.code,r.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends oI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends vc{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends vc{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends vc{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e){return yc(t,"POST","/v1/accounts:signUp",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xr._fromIdTokenResponse(e,r,i),o=jT(r);return new yo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jT(r);return new yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lh(e,n,r,i)}}function aI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,s,e,r):s})}async function X5(t,e,n=!1){const r=await zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(ti(r));const i="reauthenticate";try{const s=await zu(t,aI(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=p0(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),yo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t,e,n=!1){if(Wn(t.app))return Promise.reject(ti(t));const r="signIn",i=await aI(t,r,e),s=await yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Z5(t,e){return lI(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cI(t,e,n){const r=Rs(t);await Mh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",W5)}async function eB(t,e,n){if(Wn(t.app))return Promise.reject(ti(t));const r=Rs(t),o=await Mh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uI(t),l}),a=await yo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function UT(t,e,n){return Wn(t.app)?Promise.reject(ti(t)):Z5(Rt(t),il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uI(t),r})}function tB(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function nB(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function rB(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=1e3,sB=10;class hI extends dI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);T5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const oB=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends dI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fI.type="SESSION";const pI=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await aB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=v0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function uB(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function cB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hB(){return mI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",fB=1,jh="firebaseLocalStorage",yI="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function pB(){const t=indexedDB.deleteDatabase(gI);return new wc(t).toPromise()}function Zg(){const t=indexedDB.open(gI,fB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jh,{keyPath:yI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await pB(),e(await Zg()))})})}async function BT(t,e,n){const r=Bf(t,!0).put({[yI]:e,value:n});return new wc(r).toPromise()}async function mB(t,e){const n=Bf(t,!1).get(e),r=await new wc(n).toPromise();return r===void 0?null:r.value}function $T(t,e){const n=Bf(t,!0).delete(e);return new wc(n).toPromise()}const gB=800,yB=3;class vI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(hB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cB(),!this.activeServiceWorker)return;this.sender=new lB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await BT(e,Fh,"1"),await $T(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bf(i,!1).getAll();return new wc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vI.type="LOCAL";const vB=vI;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e){return e?Jr(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _B(t){return lI(t.auth,new w0(t),t.bypassAuthState)}function EB(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),J5(n,new w0(t),t.bypassAuthState)}async function TB(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),X5(n,new w0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _B;case"linkViaPopup":case"linkViaRedirect":return TB;case"reauthViaPopup":case"reauthViaRedirect":return EB;default:hr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new gc(2e3,1e4);class Jo extends wI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xB.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="pendingRedirect",zd=new Map;class CB extends wI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await bB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bB(t,e){const n=IB(e),r=PB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AB(t,e){zd.set(t._key(),e)}function PB(t){return Jr(t._redirectPersistence)}function IB(t){return $d(SB,t.config.apiKey,t.name)}async function RB(t,e,n=!1){if(Wn(t.app))return Promise.reject(ti(t));const r=Rs(t),i=wB(r,e),o=await new CB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=10*60*1e3;class NB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_I(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kB&&this.cachedEventUids.clear(),this.cachedEventUids.has(zT(e))}saveEventToCache(e){this.cachedEventUids.add(zT(e)),this.lastProcessedEventTime=Date.now()}}function zT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _I({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MB=/^https?/;async function LB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VB(t);for(const n of e)try{if(FB(n))return}catch{}hr(t,"unauthorized-domain")}function FB(t){const e=Xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MB.test(n))return!1;if(OB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new gc(3e4,6e4);function WT(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UB(t){return new Promise((e,n)=>{var r,i,s;function o(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Ar(t,"network-request-failed"))},timeout:jB.get()})}if(!((i=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Pr().gapi)===null||s===void 0)&&s.load)o();else{const a=k5("iframefcb");return Pr()[a]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},rI(`${R5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function BB(t){return Wd=Wd||UB(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=new gc(5e3,15e3),zB="__/auth/iframe",WB="emulator/auth/iframe",HB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KB(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f0(e,WB):`https://${t.config.authDomain}/${zB}`,r={apiKey:e.apiKey,appName:t.name,v:rl},i=qB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mc(r).slice(1)}`}async function GB(t){const e=await BB(t),n=Pr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:KB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),a=Pr().setTimeout(()=>{s(o)},$B.get());function l(){Pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YB=500,XB=600,JB="_blank",ZB="http://localhost";class HT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e3(t,e,n,r=YB,i=XB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},QB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=qt().toLowerCase();n&&(a=YP(c)?JB:n),GP(c)&&(e=e||ZB,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(E5(c)&&a!=="_self")return t3(e||"",a),new HT(null);const h=window.open(e||"",a,d);fe(h,t,"popup-blocked");try{h.focus()}catch{}return new HT(h)}function t3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="__/auth/handler",r3="emulator/auth/handler",i3=encodeURIComponent("fac");async function qT(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:i};if(e instanceof oI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$U(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof vc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${i3}=${encodeURIComponent(l)}`:"";return`${s3(t)}?${mc(a).slice(1)}${c}`}function s3({config:t}){return t.emulator?f0(t,r3):`https://${t.authDomain}/${n3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class o3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pI,this._completeRedirectFn=RB,this._overrideRedirectResult=AB}async _openPopup(e,n,r,i){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await qT(e,n,r,Xg(),i);return e3(e,o,v0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qT(e,n,r,Xg(),i);return uB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GB(e),r=new NB(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fm];o!==void 0&&n(!!o),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tI()||QP()||m0()}}const a3=o3;var KT="@firebase/auth",GT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c3(t){Oa(new mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nI(t)},c=new A5(r,i,s,l);return L5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new mo("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new l3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(KT,GT,u3(t)),ls(KT,GT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=5*60,h3=NP("authIdTokenMaxAge")||d3;let QT=null;const f3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h3)return;const i=n==null?void 0:n.token;QT!==i&&(QT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ey(t=MP()){const e=c0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M5(t,{popupRedirectResolver:a3,persistence:[vB,oB,pI]}),r=NP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=f3(s.toString());nB(n,o,()=>o(n.currentUser)),tB(n,a=>o(a))}}const i=RP("auth");return i&&F5(n,`http://${i}`),n}function p3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}P5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",p3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c3("Browser");var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,EI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function P(){}P.prototype=x.prototype,C.D=x.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(I,V,N){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return x.prototype[V].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,x,P){P||(P=0);var I=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)I[V]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(V=0;16>V;++V)I[V]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=C.g[0],P=C.g[1],V=C.g[2];var N=C.g[3],R=x+(N^P&(V^N))+I[0]+3614090360&4294967295;x=P+(R<<7&4294967295|R>>>25),R=N+(V^x&(P^V))+I[1]+3905402710&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(P^N&(x^P))+I[2]+606105819&4294967295,V=N+(R<<17&4294967295|R>>>15),R=P+(x^V&(N^x))+I[3]+3250441966&4294967295,P=V+(R<<22&4294967295|R>>>10),R=x+(N^P&(V^N))+I[4]+4118548399&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(V^x&(P^V))+I[5]+1200080426&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(P^N&(x^P))+I[6]+2821735955&4294967295,V=N+(R<<17&4294967295|R>>>15),R=P+(x^V&(N^x))+I[7]+4249261313&4294967295,P=V+(R<<22&4294967295|R>>>10),R=x+(N^P&(V^N))+I[8]+1770035416&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(V^x&(P^V))+I[9]+2336552879&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(P^N&(x^P))+I[10]+4294925233&4294967295,V=N+(R<<17&4294967295|R>>>15),R=P+(x^V&(N^x))+I[11]+2304563134&4294967295,P=V+(R<<22&4294967295|R>>>10),R=x+(N^P&(V^N))+I[12]+1804603682&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(V^x&(P^V))+I[13]+4254626195&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(P^N&(x^P))+I[14]+2792965006&4294967295,V=N+(R<<17&4294967295|R>>>15),R=P+(x^V&(N^x))+I[15]+1236535329&4294967295,P=V+(R<<22&4294967295|R>>>10),R=x+(V^N&(P^V))+I[1]+4129170786&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^V&(x^P))+I[6]+3225465664&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^P&(N^x))+I[11]+643717713&4294967295,V=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(V^N))+I[0]+3921069994&4294967295,P=V+(R<<20&4294967295|R>>>12),R=x+(V^N&(P^V))+I[5]+3593408605&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^V&(x^P))+I[10]+38016083&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^P&(N^x))+I[15]+3634488961&4294967295,V=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(V^N))+I[4]+3889429448&4294967295,P=V+(R<<20&4294967295|R>>>12),R=x+(V^N&(P^V))+I[9]+568446438&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^V&(x^P))+I[14]+3275163606&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^P&(N^x))+I[3]+4107603335&4294967295,V=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(V^N))+I[8]+1163531501&4294967295,P=V+(R<<20&4294967295|R>>>12),R=x+(V^N&(P^V))+I[13]+2850285829&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^V&(x^P))+I[2]+4243563512&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^P&(N^x))+I[7]+1735328473&4294967295,V=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(V^N))+I[12]+2368359562&4294967295,P=V+(R<<20&4294967295|R>>>12),R=x+(P^V^N)+I[5]+4294588738&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^V)+I[8]+2272392833&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^P)+I[11]+1839030562&4294967295,V=N+(R<<16&4294967295|R>>>16),R=P+(V^N^x)+I[14]+4259657740&4294967295,P=V+(R<<23&4294967295|R>>>9),R=x+(P^V^N)+I[1]+2763975236&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^V)+I[4]+1272893353&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^P)+I[7]+4139469664&4294967295,V=N+(R<<16&4294967295|R>>>16),R=P+(V^N^x)+I[10]+3200236656&4294967295,P=V+(R<<23&4294967295|R>>>9),R=x+(P^V^N)+I[13]+681279174&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^V)+I[0]+3936430074&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^P)+I[3]+3572445317&4294967295,V=N+(R<<16&4294967295|R>>>16),R=P+(V^N^x)+I[6]+76029189&4294967295,P=V+(R<<23&4294967295|R>>>9),R=x+(P^V^N)+I[9]+3654602809&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^V)+I[12]+3873151461&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^P)+I[15]+530742520&4294967295,V=N+(R<<16&4294967295|R>>>16),R=P+(V^N^x)+I[2]+3299628645&4294967295,P=V+(R<<23&4294967295|R>>>9),R=x+(V^(P|~N))+I[0]+4096336452&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~V))+I[7]+1126891415&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~P))+I[14]+2878612391&4294967295,V=N+(R<<15&4294967295|R>>>17),R=P+(N^(V|~x))+I[5]+4237533241&4294967295,P=V+(R<<21&4294967295|R>>>11),R=x+(V^(P|~N))+I[12]+1700485571&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~V))+I[3]+2399980690&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~P))+I[10]+4293915773&4294967295,V=N+(R<<15&4294967295|R>>>17),R=P+(N^(V|~x))+I[1]+2240044497&4294967295,P=V+(R<<21&4294967295|R>>>11),R=x+(V^(P|~N))+I[8]+1873313359&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~V))+I[15]+4264355552&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~P))+I[6]+2734768916&4294967295,V=N+(R<<15&4294967295|R>>>17),R=P+(N^(V|~x))+I[13]+1309151649&4294967295,P=V+(R<<21&4294967295|R>>>11),R=x+(V^(P|~N))+I[4]+4149444226&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~V))+I[11]+3174756917&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~P))+I[2]+718787259&4294967295,V=N+(R<<15&4294967295|R>>>17),R=P+(N^(V|~x))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var P=x-this.blockSize,I=this.B,V=this.h,N=0;N<x;){if(V==0)for(;N<=P;)i(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<x;)if(I[V++]=C.charCodeAt(N++),V==this.blockSize){i(this,I),V=0;break}}else for(;N<x;)if(I[V++]=C[N++],V==this.blockSize){i(this,I),V=0;break}}this.h=V,this.o+=x},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var P=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=P&255,P/=256;for(this.u(C),C=Array(16),x=P=0;4>x;++x)for(var I=0;32>I;I+=8)C[P++]=this.g[x]>>>I&255;return C};function s(C,x){var P=a;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=x(C)}function o(C,x){this.h=x;for(var P=[],I=!0,V=C.length-1;0<=V;V--){var N=C[V]|0;I&&N==x||(P[V]=N,I=!1)}this.g=P}var a={};function l(C){return-128<=C&&128>C?s(C,function(x){return new o([x|0],0>x?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return E(c(-C));for(var x=[],P=1,I=0;C>=P;I++)x[I]=C/P|0,P*=4294967296;return new o(x,0)}function d(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return E(d(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(x,8)),I=h,V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V),R=parseInt(C.substring(V,V+N),x);8>N?(N=c(Math.pow(x,N)),I=I.j(N).add(c(R))):(I=I.j(P),I=I.add(c(R)))}return I}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();for(var C=0,x=1,P=0;P<this.g.length;P++){var I=this.i(P);C+=(0<=I?I:4294967296+I)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(_(this))return"-"+E(this).toString(C);for(var x=c(Math.pow(C,6)),P=this,I="";;){var V=k(P,x).g;P=y(P,V.j(x));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=V,w(P))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function _(C){return C.h==-1}t.l=function(C){return C=y(this,C),_(C)?-1:w(C)?0:1};function E(C){for(var x=C.g.length,P=[],I=0;I<x;I++)P[I]=~C.g[I];return new o(P,~C.h).add(f)}t.abs=function(){return _(this)?E(this):this},t.add=function(C){for(var x=Math.max(this.g.length,C.g.length),P=[],I=0,V=0;V<=x;V++){var N=I+(this.i(V)&65535)+(C.i(V)&65535),R=(N>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);I=R>>>16,N&=65535,R&=65535,P[V]=R<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function y(C,x){return C.add(E(x))}t.j=function(C){if(w(this)||w(C))return h;if(_(this))return _(C)?E(this).j(E(C)):E(E(this).j(C));if(_(C))return E(this.j(E(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var x=this.g.length+C.g.length,P=[],I=0;I<2*x;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<C.g.length;V++){var N=this.i(I)>>>16,R=this.i(I)&65535,q=C.i(V)>>>16,oe=C.i(V)&65535;P[2*I+2*V]+=R*oe,v(P,2*I+2*V),P[2*I+2*V+1]+=N*oe,v(P,2*I+2*V+1),P[2*I+2*V+1]+=R*q,v(P,2*I+2*V+1),P[2*I+2*V+2]+=N*q,v(P,2*I+2*V+2)}for(I=0;I<x;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=x;I<2*x;I++)P[I]=0;return new o(P,0)};function v(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function T(C,x){this.g=C,this.h=x}function k(C,x){if(w(x))throw Error("division by zero");if(w(C))return new T(h,h);if(_(C))return x=k(E(C),x),new T(E(x.g),E(x.h));if(_(x))return x=k(C,E(x)),new T(E(x.g),x.h);if(30<C.g.length){if(_(C)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var P=f,I=x;0>=I.l(C);)P=D(P),I=D(I);var V=M(P,1),N=M(I,1);for(I=M(I,2),P=M(P,2);!w(I);){var R=N.add(I);0>=R.l(C)&&(V=V.add(P),N=R),I=M(I,1),P=M(P,1)}return x=y(C,V.j(x)),new T(V,x)}for(V=h;0<=C.l(x);){for(P=Math.max(1,Math.floor(C.m()/x.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(P),R=N.j(x);_(R)||0<R.l(C);)P-=I,N=c(P),R=N.j(x);w(N)&&(N=f),V=V.add(N),C=y(C,R)}return new T(V,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var x=Math.max(this.g.length,C.g.length),P=[],I=0;I<x;I++)P[I]=this.i(I)&C.i(I);return new o(P,this.h&C.h)},t.or=function(C){for(var x=Math.max(this.g.length,C.g.length),P=[],I=0;I<x;I++)P[I]=this.i(I)|C.i(I);return new o(P,this.h|C.h)},t.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),P=[],I=0;I<x;I++)P[I]=this.i(I)^C.i(I);return new o(P,this.h^C.h)};function D(C){for(var x=C.g.length+1,P=[],I=0;I<x;I++)P[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(P,C.h)}function M(C,x){var P=x>>5;x%=32;for(var I=C.g.length-P,V=[],N=0;N<I;N++)V[N]=0<x?C.i(N+P)>>>x|C.i(N+P+1)<<32-x:C.i(N+P);return new o(V,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,us=o}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TI,zl,xI,Hd,ty,SI,CI,bI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var F=u[A];if(!(F in g))break e;g=g[F]}u=u[u.length-1],A=g[u],p=p(A),p!=A&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,A=!1,F={next:function(){if(!A&&g<u.length){var U=g++;return{value:p(U,u[U]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function h(u,p,g){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),u.apply(p,F)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(A,F,U){for(var X=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)X[Le-2]=arguments[Le];return p.prototype[F].apply(A,X)}}function _(u){const p=u.length;if(0<p){const g=Array(p);for(let A=0;A<p;A++)g[A]=u[A];return g}return[]}function E(u,p){for(let g=1;g<arguments.length;g++){const A=arguments[g];if(l(A)){const F=u.length||0,U=A.length||0;u.length=F+U;for(let X=0;X<U;X++)u[F+X]=A[X]}else u.push(A)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,p,g){for(const A in u)p.call(g,u[A],A,u)}function C(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function x(u){const p={};for(const g in u)p[g]=u[g];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,p){let g,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(g in A)u[g]=A[g];for(let U=0;U<P.length;U++)g=P[U],Object.prototype.hasOwnProperty.call(A,g)&&(u[g]=A[g])}}function V(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function N(u){a.setTimeout(()=>{throw u},0)}function R(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class q{constructor(){this.h=this.g=null}add(p,g){const A=oe.get();A.set(p,g),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new y(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,j=!1,K=new q,te=()=>{const u=a.Promise.resolve(void 0);ee=()=>{u.then(ne)}};var ne=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){N(g)}var p=oe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}j=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function rt(u,p){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{k(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}w(rt,ce);var Ae={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),ln=0;function _n(u,p,g,A,F){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!A,this.ha=F,this.key=++ln,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vn(u){this.src=u,this.g={},this.h=0}Vn.prototype.add=function(u,p,g,A,F){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var X=un(u,p,A,F);return-1<X?(p=u[X],g||(p.fa=!1)):(p=new _n(p,this.src,U,!!A,F),p.fa=g,u.push(p)),p};function On(u,p){var g=p.type;if(g in u.g){var A=u.g[g],F=Array.prototype.indexOf.call(A,p,void 0),U;(U=0<=F)&&Array.prototype.splice.call(A,F,1),U&&(Gt(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function un(u,p,g,A){for(var F=0;F<u.length;++F){var U=u[F];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==A)return F}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),Fr={};function Ln(u,p,g,A,F){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Ln(u,p[U],g,A,F);return null}return g=ye(g),u&&u[pt]?u.K(p,g,c(A)?!!A.capture:!!A,F):bo(u,p,g,!1,A,F)}function bo(u,p,g,A,F,U){if(!p)throw Error("Invalid event type");var X=c(F)?!!F.capture:!!F,Le=G(u);if(Le||(u[Mn]=Le=new Vn(u)),g=Le.add(p,g,A,X,U),g.proxy)return g;if(A=O(),g.proxy=A,A.src=u,A.listener=g,u.addEventListener)Oe||(F=X),F===void 0&&(F=!1),u.addEventListener(p.toString(),A,F);else if(u.attachEvent)u.attachEvent(Z(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function O(){function u(g){return p.call(u.src,u.listener,g)}const p=Y;return u}function L(u,p,g,A,F){if(Array.isArray(p))for(var U=0;U<p.length;U++)L(u,p[U],g,A,F);else A=c(A)?!!A.capture:!!A,g=ye(g),u&&u[pt]?(u=u.i,p=String(p).toString(),p in u.g&&(U=u.g[p],g=un(U,g,A,F),-1<g&&(Gt(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete u.g[p],u.h--)))):u&&(u=G(u))&&(p=u.g[p.toString()],u=-1,p&&(u=un(p,g,A,F)),(g=-1<u?p[u]:null)&&B(g))}function B(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[pt])On(p.i,u);else{var g=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(g,A,u.capture):p.detachEvent?p.detachEvent(Z(g),A):p.addListener&&p.removeListener&&p.removeListener(A),(g=G(p))?(On(g,u),g.h==0&&(g.src=null,p[Mn]=null)):Gt(u)}}}function Z(u){return u in Fr?Fr[u]:Fr[u]="on"+u}function Y(u,p){if(u.da)u=!0;else{p=new rt(p,this);var g=u.listener,A=u.ha||u.src;u.fa&&B(u),u=g.call(A,p)}return u}function G(u){return u=u[Mn],u instanceof Vn?u:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(u){return typeof u=="function"?u:(u[ue]||(u[ue]=function(p){return u.handleEvent(p)}),u[ue])}function Te(){le.call(this),this.i=new Vn(this),this.M=this,this.F=null}w(Te,le),Te.prototype[pt]=!0,Te.prototype.removeEventListener=function(u,p,g,A){L(this,u,p,g,A)};function we(u,p){var g,A=u.F;if(A)for(g=[];A;A=A.F)g.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new ce(p,u);else if(p instanceof ce)p.target=p.target||u;else{var F=p;p=new ce(A,u),I(p,F)}if(F=!0,g)for(var U=g.length-1;0<=U;U--){var X=p.g=g[U];F=Qt(X,A,!0,p)&&F}if(X=p.g=u,F=Qt(X,A,!0,p)&&F,F=Qt(X,A,!1,p)&&F,g)for(U=0;U<g.length;U++)X=p.g=g[U],F=Qt(X,A,!1,p)&&F}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],A=0;A<g.length;A++)Gt(g[A]);delete u.g[p],u.h--}}this.F=null},Te.prototype.K=function(u,p,g,A){return this.i.add(String(u),p,!1,g,A)},Te.prototype.L=function(u,p,g,A){return this.i.add(String(u),p,!0,g,A)};function Qt(u,p,g,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,U=0;U<p.length;++U){var X=p[U];if(X&&!X.da&&X.capture==g){var Le=X.listener,xt=X.ha||X.src;X.fa&&On(u.i,X),F=Le.call(xt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Qn(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function jr(u){u.g=Qn(()=>{u.g=null,u.i&&(u.i=!1,jr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Vs extends le{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){le.call(this),this.h=u,this.g={}}w(pr,le);var _i=[];function Ao(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&B(p)},u),u.g={}}pr.prototype.N=function(){pr.aa.N.call(this),Ao(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=a.JSON.stringify,gr=a.JSON.parse,fp=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function me(){}me.prototype.h=null;function Me(u){return u.h||(u.h=u.i())}function De(){}var Nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){ce.call(this,"d")}w(cn,ce);function Ei(){ce.call(this,"c")}w(Ei,ce);var Ur={},Uw=null;function kc(){return Uw=Uw||new Te}Ur.La="serverreachability";function Bw(u){ce.call(this,Ur.La,u)}w(Bw,ce);function fl(u){const p=kc();we(p,new Bw(p))}Ur.STAT_EVENT="statevent";function $w(u,p){ce.call(this,Ur.STAT_EVENT,u),this.stat=p}w($w,ce);function Yt(u){const p=kc();we(p,new $w(p,u))}Ur.Ma="timingevent";function zw(u,p){ce.call(this,Ur.Ma,u),this.size=p}w(zw,ce);function pl(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ml(){this.g=!0}ml.prototype.xa=function(){this.g=!1};function lD(u,p,g,A,F,U){u.info(function(){if(u.g)if(U)for(var X="",Le=U.split("&"),xt=0;xt<Le.length;xt++){var Re=Le[xt].split("=");if(1<Re.length){var Dt=Re[0];Re=Re[1];var Vt=Dt.split("_");X=2<=Vt.length&&Vt[1]=="type"?X+(Dt+"="+Re+"&"):X+(Dt+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+p+`
`+g+`
`+X})}function uD(u,p,g,A,F,U,X){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+p+`
`+g+`
`+U+" "+X})}function Po(u,p,g,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+dD(u,g)+(A?" "+A:"")})}function cD(u,p){u.info(function(){return"TIMEOUT: "+p})}ml.prototype.info=function(){};function dD(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var A=g[u];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<F.length;X++)F[X]=""}}}}return mr(g)}catch{return p}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ww={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pp;function Dc(){}w(Dc,me),Dc.prototype.g=function(){return new XMLHttpRequest},Dc.prototype.i=function(){return{}},pp=new Dc;function Ti(u,p,g,A){this.j=u,this.i=p,this.l=g,this.R=A||1,this.U=new pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hw}function Hw(){this.i=null,this.g="",this.h=!1}var qw={},mp={};function gp(u,p,g){u.L=1,u.v=Lc(Br(p)),u.m=g,u.P=!0,Kw(u,null)}function Kw(u,p){u.F=Date.now(),Vc(u),u.A=Br(u.v);var g=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),a_(g.i,"t",A),u.C=0,g=u.j.J,u.h=new Hw,u.g=C_(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Vs(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,A=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(_i[0]=F.toString()),F=_i);for(var U=0;U<F.length;U++){var X=Ln(g,F[U],A||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),fl(),lD(u.i,u.u,u.A,u.l,u.R,u.m)}Ti.prototype.ca=function(u){u=u.target;const p=this.M;p&&$r(u)==3?p.j():this.Y(u)},Ti.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=$r(this.g);var p=this.g.Ba();const ko=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||p_(this.g)))){this.J||Vt!=4||p==7||(p==8||0>=ko?fl(3):fl(2)),yp(this);var g=this.g.Z();this.X=g;t:if(Gw(this)){var A=p_(this.g);u="";var F=A.length,U=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),gl(this);var X="";break t}this.h.i=new a.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(U&&p==F-1)});A.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,uD(this.i,this.u,this.A,this.l,this.R,Vt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Le)){var Re=Le;break t}}Re=null}if(g=Re)Po(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,g);else{this.o=!1,this.s=3,Yt(12),Os(this),gl(this);break e}}if(this.P){g=!0;let Yn;for(;!this.J&&this.C<X.length;)if(Yn=hD(this,X),Yn==mp){Vt==4&&(this.s=4,Yt(14),g=!1),Po(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==qw){this.s=4,Yt(15),Po(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else Po(this.i,this.l,Yn,null),vp(this,Yn);if(Gw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||X.length!=0||this.h.h||(this.s=1,Yt(16),g=!1),this.o=this.o&&g,!g)Po(this.i,this.l,X,"[Invalid Chunked Response]"),Os(this),gl(this);else if(0<X.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Sp(Dt),Dt.M=!0,Yt(11))}}else Po(this.i,this.l,X,null),vp(this,X);Vt==4&&Os(this),this.o&&!this.J&&(Vt==4?E_(this.j,this):(this.o=!1,Vc(this)))}else ID(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Os(this),gl(this)}}}catch{}finally{}};function Gw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hD(u,p){var g=u.C,A=p.indexOf(`
`,g);return A==-1?mp:(g=Number(p.substring(g,A)),isNaN(g)?qw:(A+=1,A+g>p.length?mp:(p=p.slice(A,A+g),u.C=A+g,p)))}Ti.prototype.cancel=function(){this.J=!0,Os(this)};function Vc(u){u.S=Date.now()+u.I,Qw(u,u.I)}function Qw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pl(f(u.ba,u),p)}function yp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ti.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(cD(this.i,this.A),this.L!=2&&(fl(),Yt(17)),Os(this),this.s=2,gl(this)):Qw(this,this.S-u)};function gl(u){u.j.G==0||u.J||E_(u.j,u)}function Os(u){yp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ao(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function vp(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||wp(g.h,u))){if(!u.K&&wp(g.h,u)&&g.G==3){try{var A=g.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)zc(g),Bc(g);else break e;xp(g),Yt(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=pl(f(g.Za,g),6e3));if(1>=Jw(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ls(g,11)}else if((u.K||g.g==u)&&zc(g),!v(p))for(F=g.Da.g.parse(p),p=0;p<F.length;p++){let Re=F[p];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];const Dt=Re[3];Dt!=null&&(g.la=Dt,g.j.info("VER="+g.la));const Vt=Re[4];Vt!=null&&(g.Aa=Vt,g.j.info("SVER="+g.Aa));const ko=Re[5];ko!=null&&typeof ko=="number"&&0<ko&&(A=1.5*ko,g.L=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const Yn=u.g;if(Yn){const Hc=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var U=A.h;U.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(_p(U,U.h),U.h=null))}if(A.D){const Cp=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cp&&(A.ya=Cp,Be(A.I,A.D,Cp))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),A=g;var X=u;if(A.qa=S_(A,A.J?A.ia:null,A.W),X.K){Zw(A.h,X);var Le=X,xt=A.L;xt&&(Le.I=xt),Le.B&&(yp(Le),Vc(Le)),A.g=X}else w_(A);0<g.i.length&&$c(g)}else Re[0]!="stop"&&Re[0]!="close"||Ls(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Ls(g,7):Tp(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}fl(4)}catch{}}var fD=class{constructor(u,p){this.g=u,this.map=p}};function Yw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jw(u){return u.h?1:u.g?u.g.size:0}function wp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function _p(u,p){u.g?u.g.add(p):u.h=p}function Zw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Yw.prototype.cancel=function(){if(this.i=e_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function e_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return _(u.i)}function pD(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,A=0;A<g;A++)p.push(u[A]);return p}p=[],g=0;for(A in u)p[g++]=u[A];return p}function mD(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const A in u)p[g++]=A;return p}}}function t_(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=mD(u),A=pD(u),F=A.length,U=0;U<F;U++)p.call(void 0,A[U],g&&g[U],u)}var n_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gD(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var A=u[g].indexOf("="),F=null;if(0<=A){var U=u[g].substring(0,A);F=u[g].substring(A+1)}else U=u[g];p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ms(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ms){this.h=u.h,Oc(this,u.j),this.o=u.o,this.g=u.g,Mc(this,u.s),this.l=u.l;var p=u.i,g=new wl;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),r_(this,g),this.m=u.m}else u&&(p=String(u).match(n_))?(this.h=!1,Oc(this,p[1]||"",!0),this.o=yl(p[2]||""),this.g=yl(p[3]||"",!0),Mc(this,p[4]),this.l=yl(p[5]||"",!0),r_(this,p[6]||"",!0),this.m=yl(p[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}Ms.prototype.toString=function(){var u=[],p=this.j;p&&u.push(vl(p,i_,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(vl(p,i_,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(vl(g,g.charAt(0)=="/"?wD:vD,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",vl(g,ED)),u.join("")};function Br(u){return new Ms(u)}function Oc(u,p,g){u.j=g?yl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Mc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function r_(u,p,g){p instanceof wl?(u.i=p,TD(u.i,u.h)):(g||(p=vl(p,_D)),u.i=new wl(p,u.h))}function Be(u,p,g){u.i.set(p,g)}function Lc(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vl(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,yD),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var i_=/[#\/\?@]/g,vD=/[#\?:]/g,wD=/[#\?]/g,_D=/[#\?@]/g,ED=/#/g;function wl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xi(u){u.g||(u.g=new Map,u.h=0,u.i&&gD(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=wl.prototype,t.add=function(u,p){xi(this),this.i=null,u=Io(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function s_(u,p){xi(u),p=Io(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function o_(u,p){return xi(u),p=Io(u,p),u.g.has(p)}t.forEach=function(u,p){xi(this),this.g.forEach(function(g,A){g.forEach(function(F){u.call(p,F,A,this)},this)},this)},t.na=function(){xi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let A=0;A<p.length;A++){const F=u[A];for(let U=0;U<F.length;U++)g.push(p[A])}return g},t.V=function(u){xi(this);let p=[];if(typeof u=="string")o_(this,u)&&(p=p.concat(this.g.get(Io(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return xi(this),this.i=null,u=Io(this,u),o_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function a_(u,p,g){s_(u,p),0<g.length&&(u.i=null,u.g.set(Io(u,p),_(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var A=p[g];const U=encodeURIComponent(String(A)),X=this.V(A);for(A=0;A<X.length;A++){var F=U;X[A]!==""&&(F+="="+encodeURIComponent(String(X[A]))),u.push(F)}}return this.i=u.join("&")};function Io(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function TD(u,p){p&&!u.j&&(xi(u),u.i=null,u.g.forEach(function(g,A){var F=A.toLowerCase();A!=F&&(s_(this,A),a_(this,F,g))},u)),u.j=p}function xD(u,p){const g=new ml;if(a.Image){const A=new Image;A.onload=m(Si,g,"TestLoadImage: loaded",!0,p,A),A.onerror=m(Si,g,"TestLoadImage: error",!1,p,A),A.onabort=m(Si,g,"TestLoadImage: abort",!1,p,A),A.ontimeout=m(Si,g,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function SD(u,p){const g=new ml,A=new AbortController,F=setTimeout(()=>{A.abort(),Si(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(U=>{clearTimeout(F),U.ok?Si(g,"TestPingServer: ok",!0,p):Si(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Si(g,"TestPingServer: error",!1,p)})}function Si(u,p,g,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(g)}catch{}}function CD(){this.g=new fp}function bD(u,p,g){const A=g||"";try{t_(u,function(F,U){let X=F;c(F)&&(X=mr(F)),p.push(A+U+"="+encodeURIComponent(X))})}catch(F){throw p.push(A+"type="+encodeURIComponent("_badmap")),F}}function Fc(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Fc,me),Fc.prototype.g=function(){return new jc(this.l,this.j)},Fc.prototype.i=function(u){return function(){return u}}({});function jc(u,p){Te.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(jc,Te),t=jc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,El(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_l(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function l_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?_l(this):El(this),this.readyState==3&&l_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,_l(this))},t.Qa=function(u){this.g&&(this.response=u,_l(this))},t.ga=function(){this.g&&_l(this)};function _l(u){u.readyState=4,u.l=null,u.j=null,u.v=null,El(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function El(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function u_(u){let p="";return M(u,function(g,A){p+=A,p+=":",p+=g,p+=`\r
`}),p}function Ep(u,p,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=u_(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Be(u,p,g))}function Je(u){Te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Je,Te);var AD=/^https?$/i,PD=["POST","PUT"];t=Je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pp.g(),this.v=this.o?Me(this.o):Me(pp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){c_(this,U);return}if(u=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)g.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())g.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PD,p,void 0))||A||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of g)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f_(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){c_(this,U)}};function c_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,d_(u),Uc(u)}function d_(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,we(this,"complete"),we(this,"abort"),Uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h_(this):this.bb())},t.bb=function(){h_(this)};function h_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||$r(u)!=4||u.Z()!=2)){if(u.u&&$r(u)==4)Qn(u.Ea,0,u);else if(we(u,"readystatechange"),$r(u)==4){u.h=!1;try{const X=u.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var A;if(A=X===0){var F=String(u.D).match(n_)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),A=!AD.test(F?F.toLowerCase():"")}g=A}if(g)we(u,"complete"),we(u,"success");else{u.m=6;try{var U=2<$r(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",d_(u)}}finally{Uc(u)}}}}function Uc(u,p){if(u.g){f_(u);const g=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||we(u,"ready");try{g.onreadystatechange=A}catch{}}}function f_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function $r(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),gr(p)}};function p_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ID(u){const p={};u=(u.g&&2<=$r(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(v(u[A]))continue;var g=V(u[A]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[F]||[];p[F]=U,U.push(g)}C(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function m_(u){this.Aa=0,this.i=[],this.j=new ml,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tl("baseRetryDelayMs",5e3,u),this.cb=Tl("retryDelaySeedMs",1e4,u),this.Wa=Tl("forwardChannelMaxRetries",2,u),this.wa=Tl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yw(u&&u.concurrentRequestLimit),this.Da=new CD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m_.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,A){Yt(0),this.W=u,this.H=p||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.I=S_(this,null,this.W),$c(this)};function Tp(u){if(g_(u),u.G==3){var p=u.U++,g=Br(u.I);if(Be(g,"SID",u.K),Be(g,"RID",p),Be(g,"TYPE","terminate"),xl(u,g),p=new Ti(u,u.j,p),p.L=2,p.v=Lc(Br(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=C_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Vc(p)}x_(u)}function Bc(u){u.g&&(Sp(u),u.g.cancel(),u.g=null)}function g_(u){Bc(u),u.u&&(a.clearTimeout(u.u),u.u=null),zc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function $c(u){if(!Xw(u.h)&&!u.s){u.s=!0;var p=u.Ga;ee||te(),j||(ee(),j=!0),K.add(p,u),u.B=0}}function RD(u,p){return Jw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pl(f(u.Ga,u,p),T_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Ti(this,this.j,u);let U=this.o;if(this.S&&(U?(U=x(U),I(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=v_(this,F,p),g=Br(this.I),Be(g,"RID",u),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),xl(this,g),U&&(this.O?p="headers="+encodeURIComponent(String(u_(U)))+"&"+p:this.m&&Ep(g,this.m,U)),_p(this.h,F),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",p),Be(g,"SID","null"),F.T=!0,gp(F,g,null)):gp(F,g,p),this.G=2}}else this.G==3&&(u?y_(this,u):this.i.length==0||Xw(this.h)||y_(this))};function y_(u,p){var g;p?g=p.l:g=u.U++;const A=Br(u.I);Be(A,"SID",u.K),Be(A,"RID",g),Be(A,"AID",u.T),xl(u,A),u.m&&u.o&&Ep(A,u.m,u.o),g=new Ti(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=v_(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_p(u.h,g),gp(g,A,p)}function xl(u,p){u.H&&M(u.H,function(g,A){Be(p,A,g)}),u.l&&t_({},function(g,A){Be(p,A,g)})}function v_(u,p,g){g=Math.min(u.i.length,g);var A=u.l?f(u.l.Na,u.l,u):null;e:{var F=u.i;let U=-1;for(;;){const X=["count="+g];U==-1?0<g?(U=F[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let Le=!0;for(let xt=0;xt<g;xt++){let Re=F[xt].g;const Dt=F[xt].map;if(Re-=U,0>Re)U=Math.max(0,F[xt].g-100),Le=!1;else try{bD(Dt,X,"req"+Re+"_")}catch{A&&A(Dt)}}if(Le){A=X.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,A}function w_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ee||te(),j||(ee(),j=!0),K.add(p,u),u.v=0}}function xp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pl(f(u.Fa,u),T_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,__(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pl(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Bc(this),__(this))};function Sp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function __(u){u.g=new Ti(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Br(u.qa);Be(p,"RID","rpc"),Be(p,"SID",u.K),Be(p,"AID",u.T),Be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(p,"TO",u.ja),Be(p,"TYPE","xmlhttp"),xl(u,p),u.m&&u.o&&Ep(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Lc(Br(p)),g.m=null,g.P=!0,Kw(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Bc(this),xp(this),Yt(19))};function zc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function E_(u,p){var g=null;if(u.g==p){zc(u),Sp(u),u.g=null;var A=2}else if(wp(u.h,p))g=p.D,Zw(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var F=u.B;A=kc(),we(A,new zw(A,g)),$c(u)}else w_(u);else if(F=p.s,F==3||F==0&&0<p.X||!(A==1&&RD(u,p)||A==2&&xp(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),F){case 1:Ls(u,5);break;case 4:Ls(u,10);break;case 3:Ls(u,6);break;default:Ls(u,2)}}}function T_(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Ls(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),A=u.Xa;const F=!A;A=new Ms(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oc(A,"https"),Lc(A),F?xD(A.toString(),g):SD(A.toString(),g)}else Yt(2);u.G=0,u.l&&u.l.sa(p),x_(u),g_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function x_(u){if(u.G=0,u.ka=[],u.l){const p=e_(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ka,p),E(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function S_(u,p,g){var A=g instanceof Ms?Br(g):new Ms(g);if(A.g!="")p&&(A.g=p+"."+A.g),Mc(A,A.s);else{var F=a.location;A=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var U=new Ms(null);A&&Oc(U,A),p&&(U.g=p),F&&Mc(U,F),g&&(U.l=g),A=U}return g=u.D,p=u.ya,g&&p&&Be(A,g,p),Be(A,"VER",u.la),xl(u,A),A}function C_(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Je(new Fc({eb:g})):new Je(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b_(){}t=b_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wc(){}Wc.prototype.g=function(u,p){return new En(u,p)};function En(u,p){Te.call(this),this.g=new m_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ro(this)}w(En,Te),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Tp(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=mr(u),u=g);p.i.push(new fD(p.Ya++,u)),p.G==3&&$c(p)},En.prototype.N=function(){this.g.l=null,delete this.j,Tp(this.g),delete this.g,En.aa.N.call(this)};function A_(u){cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(A_,cn);function P_(){Ei.call(this),this.status=1}w(P_,Ei);function Ro(u){this.g=u}w(Ro,b_),Ro.prototype.ua=function(){we(this.g,"a")},Ro.prototype.ta=function(u){we(this.g,new A_(u))},Ro.prototype.sa=function(u){we(this.g,new P_)},Ro.prototype.ra=function(){we(this.g,"b")},Wc.prototype.createWebChannel=Wc.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,bI=function(){return new Wc},CI=function(){return kc()},SI=Ur,ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,Hd=Nc,Ww.COMPLETE="complete",xI=Ww,De.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",Te.prototype.listen=Te.prototype.K,zl=De,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,TI=Je}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const XT="@firebase/firestore",JT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new l0("@firebase/firestore");function Vo(){return vo.logLevel}function re(t,...e){if(vo.logLevel<=Ce.DEBUG){const n=e.map(_0);vo.debug(`Firestore (${sl}): ${t}`,...n)}}function fi(t,...e){if(vo.logLevel<=Ce.ERROR){const n=e.map(_0);vo.error(`Firestore (${sl}): ${t}`,...n)}}function Ma(t,...e){if(vo.logLevel<=Ce.WARN){const n=e.map(_0);vo.warn(`Firestore (${sl}): ${t}`,...n)}}function _0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Ne(t,e){t||pe()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y3{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new AI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Bt(e)}}class v3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class w3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _3{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ZT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new ZT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=E3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function ny(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return xe(r,i);{const s=PI(),o=T3(s.encode(ex(t,n)),s.encode(ex(e,n)));return o!==0?o:xe(r,i)}}n+=r>65535?2:1}return xe(t.length,e.length)}function ex(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function T3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xe(t[n],e[n]);return xe(t.length,e.length)}function La(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=-62135596800,nx=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nx);return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tx)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nx}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ht(0,0))}static max(){return new ge(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="__name__";class wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=wr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return xe(e.length,n.length)}static compareSegments(e,n){const r=wr.isNumericId(e),i=wr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?wr.extractNumericId(e).compare(wr.extractNumericId(n)):ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class We extends wr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const x3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends wr{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return x3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rx}static keyField(){return new At([rx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(We.fromString(e))}static fromName(e){return new de(We.fromString(e).popFirst(5))}static empty(){return new de(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new We(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function S3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new ys(i,de.empty(),e)}function C3(t){return new ys(t.readTime,t.key,Hu)}class ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ys(ge.min(),de.empty(),Hu)}static max(){return new ys(ge.max(),de.empty(),Hu)}}function b3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==A3)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function I3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$f.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-1;function zf(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function R3(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="";function k3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ix(e)),e=N3(t.get(n),e);return ix(e)}function N3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case RI:n+="";break;default:n+=s}}return n}function ix(t){return t+RI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new An([])}unionWith(e){let n=new wt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new NI("Invalid base64 string: "+s):s}}(e);return new kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=D3.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="server_timestamp",VI="__type__",OI="__previous_value__",MI="__local_write_time__";function T0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VI])===null||n===void 0?void 0:n.stringValue)===DI}function Wf(t){const e=t.mapValue.fields[OI];return T0(e)?Wf(e):e}function qu(t){const e=vs(t.mapValue.fields[MI].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Bh="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="__type__",FI="__max__",vd={mapValue:{fields:{__type__:{stringValue:FI}}}},jI="__vector__",$h="value";function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?T0(t)?4:M3(t)?9007199254740991:O3(t)?10:11:pe()}function Or(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vs(i.timestampValue),a=vs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?Uh(o)===Uh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(sx(o)!==sx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Or(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Gu(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=_s(t),r=_s(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ax(t.timestampValue,e.timestampValue);case 4:return ax(qu(t),qu(e));case 5:return ny(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ws(s),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=xe(a[c],l[c]);if(d!==0)return d}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xe(st(s.latitude),st(o.latitude));return a!==0?a:xe(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},m=(a=h[$h])===null||a===void 0?void 0:a.arrayValue,w=(l=f[$h])===null||l===void 0?void 0:l.arrayValue,_=xe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:lx(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vd.mapValue&&o===vd.mapValue)return 0;if(s===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ny(l[h],d[h]);if(f!==0)return f;const m=Fa(a[l[h]],c[d[h]]);if(m!==0)return m}return xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function ax(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=vs(t),r=vs(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function lx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fa(n[i],r[i]);if(s)return s}return xe(n.length,r.length)}function ja(t){return ry(t)}function ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ry(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function qd(t){switch(_s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+qd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ks(r.fields,(s,o)=>{i+=s.length+qd(o)}),i}(t.mapValue);default:throw pe()}}function ux(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iy(t){return!!t&&"integerValue"in t}function x0(t){return!!t&&"arrayValue"in t}function cx(t){return!!t&&"nullValue"in t}function dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kd(t){return!!t&&"mapValue"in t}function O3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LI])===null||n===void 0?void 0:n.stringValue)===jI}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(uu(this.value))}}function UI(t){const e=[];return ks(t.fields,(n,r)=>{const i=new At([n]);if(Kd(r)){const s=UI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ge.min(),ge.min(),ge.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ge.min(),ge.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ge.min(),ge.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function hx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Fa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function L3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{}class dt extends BI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j3(e,n,r):n==="array-contains"?new $3(e,r):n==="in"?new z3(e,r):n==="not-in"?new W3(e,r):n==="array-contains-any"?new H3(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U3(e,r):new B3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends BI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fr(e,n)}matches(e){return $I(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $I(t){return t.op==="and"}function zI(t){return F3(t)&&$I(t)}function F3(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function sy(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+ja(t.value);if(zI(t))return t.filters.map(e=>sy(e)).join(",");{const e=t.filters.map(n=>sy(n)).join(",");return`${t.op}(${e})`}}function WI(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&Or(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&WI(o,i.filters[a]),!0):!1}(t,e):void pe()}function HI(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(HI).join(" ,")+"}"}(t):"Filter"}class j3 extends dt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class U3 extends dt{constructor(e,n){super(e,"in",n),this.keys=qI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B3 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=qI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class $3 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x0(n)&&Gu(n.arrayValue,this.value)}}class z3 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}}class W3 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gu(this.value.arrayValue,n)}}class H3 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function px(t,e=null,n=[],r=[],i=null,s=null,o=null){return new q3(t,e,n,r,i,s,o)}function S0(t){const e=ve(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ja(r)).join(",")),e.le=n}return e.le}function C0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fx(t.startAt,e.startAt)&&fx(t.endAt,e.endAt)}function oy(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function K3(t,e,n,r,i,s,o,a){return new _c(t,e,n,r,i,s,o,a)}function b0(t){return new _c(t)}function mx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KI(t){return t.collectionGroup!==null}function cu(t){const e=ve(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(At.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Wh(s,r))}),n.has(At.keyField().canonicalString())||e.he.push(new Wh(At.keyField(),r))}return e.he}function Ir(t){const e=ve(t);return e.Pe||(e.Pe=G3(e,cu(t))),e.Pe}function G3(t,e){if(t.limitType==="F")return px(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wh(i.field,s)});const n=t.endAt?new zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zh(t.startAt.position,t.startAt.inclusive):null;return px(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ay(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ly(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hf(t,e){return C0(Ir(t),Ir(e))&&t.limitType===e.limitType}function GI(t){return`${S0(Ir(t))}|lt:${t.limitType}`}function Oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HI(i)).join(", ")}]`),zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ja(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ja(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=hx(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,cu(r),i)||r.endAt&&!function(o,a,l){const c=hx(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,cu(r),i))}(t,e)}function Q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QI(t){return(e,n)=>{let r=!1;for(const i of cu(t)){const s=Y3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Y3(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Fa(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Xe(de.comparator);function pi(){return X3}const YI=new Xe(de.comparator);function Wl(...t){let e=YI;for(const n of t)e=e.insert(n.key,n);return e}function XI(t){let e=YI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qs(){return du()}function JI(){return du()}function du(){return new xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const J3=new Xe(de.comparator),Z3=new wt(de.comparator);function be(...t){let e=Z3;for(const n of t)e=e.add(n);return e}const e9=new wt(xe);function t9(){return e9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function ZI(t){return{integerValue:""+t}}function n9(t,e){return R3(e)?ZI(e):A0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function r9(t,e,n){return t instanceof Hh?function(i,s){const o={fields:{[VI]:{stringValue:DI},[MI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T0(s)&&(s=Wf(s)),s&&(o.fields[OI]=s),{mapValue:o}}(n,e):t instanceof Qu?tR(t,e):t instanceof Yu?nR(t,e):function(i,s){const o=eR(i,s),a=gx(o)+gx(i.Ie);return iy(o)&&iy(i.Ie)?ZI(a):A0(i.serializer,a)}(t,e)}function i9(t,e,n){return t instanceof Qu?tR(t,e):t instanceof Yu?nR(t,e):n}function eR(t,e){return t instanceof qh?function(r){return iy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hh extends Kf{}class Qu extends Kf{constructor(e){super(),this.elements=e}}function tR(t,e){const n=rR(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends Kf{constructor(e){super(),this.elements=e}}function nR(t,e){let n=rR(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class qh extends Kf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gx(t){return st(t.integerValue||t.doubleValue)}function rR(t){return x0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qu&&i instanceof Qu||r instanceof Yu&&i instanceof Yu?La(r.elements,i.elements,Or):r instanceof qh&&i instanceof qh?Or(r.Ie,i.Ie):r instanceof Hh&&i instanceof Hh}(t.transform,e.transform)}class o9{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gf{}function iR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oR(t.key,ar.none()):new Ec(t.key,t.data,ar.none());{const n=t.data,r=mn.empty();let i=new wt(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ns(t.key,r,new An(i.toArray()),ar.none())}}function a9(t,e,n){t instanceof Ec?function(i,s,o){const a=i.value.clone(),l=vx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof Ec?function(s,o,a,l){if(!Gd(s.precondition,o))return a;const c=s.value.clone(),d=wx(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ns?function(s,o,a,l){if(!Gd(s.precondition,o))return a;const c=wx(s.fieldTransforms,l,o),d=o.data;return d.setAll(sR(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eR(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&La(r,i,(s,o)=>s9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ec extends Gf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends Gf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vx(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,i9(o,a,n[i]))}return r}function wx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,r9(s,o,e))}return r}class oR extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u9 extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&a9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>yx(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>yx(n,r))}}class P0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return J3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new P0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Pe;function f9(t){switch(t){case H.OK:return pe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return pe()}}function aR(t){if(t===void 0)return fi("GRPC error has no .code"),H.UNKNOWN;switch(t){case ut.OK:return H.OK;case ut.CANCELLED:return H.CANCELLED;case ut.UNKNOWN:return H.UNKNOWN;case ut.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ut.INTERNAL:return H.INTERNAL;case ut.UNAVAILABLE:return H.UNAVAILABLE;case ut.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ut.NOT_FOUND:return H.NOT_FOUND;case ut.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ut.ABORTED:return H.ABORTED;case ut.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ut.DATA_LOSS:return H.DATA_LOSS;default:return pe()}}(Pe=ut||(ut={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new us([4294967295,4294967295],0);function _x(t){const e=PI().encode(t),n=new EI;return n.update(e),new Uint8Array(n.digest())}function Ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new us([n,r],0),new us([i,s],0)]}class I0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=us.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(us.fromNumber(r)));return i.compare(p9)===1&&(i=new us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=_x(e),[r,i]=Ex(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new I0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=_x(e),[r,i]=Ex(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qf(ge.min(),i,new Xe(xe),pi(),be())}}class Tc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tc(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class lR{constructor(e,n){this.targetId=e,this.ge=n}}class uR{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tx{constructor(){this.pe=0,this.ye=xx(),this.we=kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=be(),n=be(),r=be();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Tc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=xx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ne(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class m9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=pi(),this.$e=wd(),this.Ue=wd(),this.Ke=new Xe(xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(oy(s))if(r===0){const o=new de(s.path);this.ze(n,o,zt.newNoDocument(o,ge.min()))}else Ne(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ws(r).toUint8Array()}catch(l){if(l instanceof NI)return Ma("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new I0(o,i,s)}catch(l){return Ma(l instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&oy(a.target)){const l=new de(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,zt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=be();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Qf(e,n,this.Ke,this.Qe,r);return this.Qe=pi(),this.$e=wd(),this.Ue=wd(),this.Ke=new Xe(xe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Tx,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new wt(xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new wt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Tx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function wd(){return new Xe(de.comparator)}function xx(){return new Xe(de.comparator)}const g9={asc:"ASCENDING",desc:"DESCENDING"},y9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v9={and:"AND",or:"OR"};class w9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uy(t,e){return t.useProto3Json||zf(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _9(t,e){return Kh(t,e.toTimestamp())}function Rr(t){return Ne(!!t),ge.fromTimestamp(function(n){const r=vs(n);return new ht(r.seconds,r.nanos)}(t))}function R0(t,e){return cy(t,e).canonicalString()}function cy(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dR(t){const e=We.fromString(t);return Ne(gR(e)),e}function dy(t,e){return R0(t.databaseId,e.path)}function pm(t,e){const n=dR(e);if(n.get(1)!==t.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(fR(n))}function hR(t,e){return R0(t.databaseId,e)}function E9(t){const e=dR(t);return e.length===4?We.emptyPath():fR(e)}function hy(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fR(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sx(t,e,n){return{name:dy(t,e),fields:n.value.mapValue.fields}}function T9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ne(d===void 0||typeof d=="string"),kt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:aR(c.code);return new se(d,c.message||"")}(o);n=new uR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pm(t,r.document.name),s=Rr(r.document.updateTime),o=r.document.createTime?Rr(r.document.createTime):ge.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Qd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pm(t,r.document),s=r.readTime?Rr(r.readTime):ge.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pm(t,r.document),s=r.removedTargetIds||[];n=new Qd([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new h9(i,s),a=r.targetId;n=new lR(a,o)}}return n}function x9(t,e){let n;if(e instanceof Ec)n={update:Sx(t,e.key,e.value)};else if(e instanceof oR)n={delete:dy(t,e.key)};else if(e instanceof Ns)n={update:Sx(t,e.key,e.data),updateMask:N9(e.fieldMask)};else{if(!(e instanceof u9))return pe();n={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function S9(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Rr(i.updateTime):Rr(s);return o.isEqual(ge.min())&&(o=Rr(s)),new o9(o,i.transformResults||[])}(n,e))):[]}function C9(t,e){return{documents:[hR(t,e.path)]}}function b9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hR(t,i);const s=function(c){if(c.length!==0)return mR(fr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Mo(f.field),direction:I9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function A9(t){let e=E9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=pR(h);return f instanceof fr&&zI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Wh(Lo(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,zf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new zh(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new zh(m,f)}(n.endAt)),K3(e,i,o,s,a,"F",l,c)}function P9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lo(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lo(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lo(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lo(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>pR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function I9(t){return g9[t]}function R9(t){return y9[t]}function k9(t){return v9[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Lo(t){return At.fromServerFormat(t.fieldPath)}function mR(t){return t instanceof dt?function(n){if(n.op==="=="){if(dx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(cx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(cx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:R9(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>mR(i));return r.length===1?r[0]:{compositeFilter:{op:k9(n.op),filters:r}}}(t):pe()}function N9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.Tt=e}}function V9(t){const e=A9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.Tn=new M9}addToCollectionParentIndex(e,n){return this.Tn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ys.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class M9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yR=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(yR,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ua(0)}static Kn(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="LruGarbageCollector",L9=1048576;function Ax([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class F9{constructor(e){this.Hn=e,this.buffer=new wt(Ax),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ax(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){re(bx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?re(bx,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.er(3e5)})}}class U9{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve($f.ae);const r=new F9(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Cx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Vo()<=Ce.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function B9(t,e){return new U9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.changes=new xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,An.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pi();const o=du(),a=function(){return du()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ns)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),hu(d.mutation,c,d.mutation.getFieldMask(),ht.now())):o.set(c.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new z9(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=du();let i=new Xe((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||An.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=JI();d.forEach(f=>{if(!s.has(f)){const m=iR(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(qs());let a=Hu,l=s;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,be())).next(d=>({batchId:a,changes:XI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wl();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(h,f){return new _c(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=Wl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&hu(d.mutation,c,An.empty(),ht.now()),qf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:V9(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.overlays=new Xe(de.comparator),this.Rr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=qs(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=qs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return $.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new d9(n,r));let s=this.Rr.get(n);s===void 0&&(s=be(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.Vr=new wt(_t.mr),this.gr=new wt(_t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new _t(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new de(new We([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new de(new We([])),r=new _t(n,e),i=new _t(n,e+1);let s=be();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return de.comparator(e.key,n.key)||xe(e.Cr,n.Cr)}static pr(e,n){return xe(e.Cr,n.Cr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(_t.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?E0:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(xe);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),$.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new _t(new de(s),0);let a=new wt(xe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),$.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return $.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new _t(n,0),i=this.Mr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.kr=e,this.docs=function(){return new Xe(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pi();const o=n.path,a=new de(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||b3(C3(d),r)<=0||(i.has(d.key)||qf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}qr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y9(this)}getSize(e){return $.resolve(this.size)}}class Y9 extends $9{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.persistence=e,this.Qr=new xo(n=>S0(n),C0),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.$r=0,this.Ur=new k0,this.targetCount=0,this.Kr=Ua.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),$.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.zn(n),$.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new $f(0),this.zr=!1,this.zr=!0,this.jr=new K9,this.referenceDelegate=e(this),this.Hr=new X9(this),this.indexManager=new O9,this.remoteDocumentCache=function(i){return new Q9(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new D9(n),this.Yr=new H9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new G9(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new J9(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return $.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class J9 extends P3{constructor(e){super(),this.currentSequenceNumber=e}}class N0{constructor(e){this.persistence=e,this.ti=new k0,this.ni=null}static ri(e){return new N0(e)}get ii(){if(this.ni)return this.ni;throw pe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,r=>{const i=de.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.oi=new xo(r=>k3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=B9(this,n)}static ri(e,n){return new Gh(e,n)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return $.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ge.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}ar(e,n,r){return $.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return MU()?8:I3(qt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Z9;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Vo()<=Ce.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Vo()<=Ce.DEBUG&&re("QueryEngine","Query:",Oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Vo()<=Ce.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):$.resolve())}rs(e,n){if(mx(n))return $.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ly(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,ly(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return mx(n)||i.isEqual(ge.min())?$.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?$.resolve(null):(Vo()<=Ce.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oo(n)),this.hs(e,o,n,S3(i,Hu)).next(a=>a))})}cs(e,n){let r=new wt(QI(e));return n.forEach((i,s)=>{qf(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Vo()<=Ce.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.ns.getDocumentsMatchingQuery(e,n,ys.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LocalStore",t$=3e8;class n${constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Xe(xe),this.Is=new xo(s=>S0(s),C0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function r$(t,e,n,r){return new n$(t,e,n,r)}async function wR(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=be();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function i$(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=$.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(_=>{const E=c.docVersions.get(w);Ne(E!==null),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _R(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function s$(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(kt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(_,E,y){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=t$?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,m,d)&&a.push(n.Hr.updateTargetData(s,m))});let l=pi(),c=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(o$(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(ge.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=i,s))}function o$(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re(V0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function a$(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=E0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l$(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Yi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function fy(t,e,n){const r=ve(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!al(o))throw o;re(V0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Px(t,e,n){const r=ve(t);let i=ge.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ve(l),f=h.Is.get(d);return f!==void 0?$.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,d)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:be())).next(a=>(u$(r,Q3(e),a),{documents:a,gs:s})))}function u$(t,e,n){let r=t.Es.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class Ix{constructor(){this.activeTargetIds=t9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c${constructor(){this.ho=new Ix,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ix,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="ConnectivityMonitor";class kx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){re(Rx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){re(Rx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function py(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f${get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=py(),a=this.bo(e,n.toUriEncodedString());re(mm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(re(mm,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ma(mm,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=h$[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class m$ extends f${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=py();return new Promise((o,a)=>{const l=new TI;l.setWithCredentials(!0),l.listenOnce(xI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hd.NO_ERROR:const d=l.getResponseJson();re(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Hd.TIMEOUT:re(Ft,`RPC '${e}' ${s} timed out`),a(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const h=l.getStatus();if(re(Ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(y)>=0?y:H.UNKNOWN}(m.status);a(new se(w,m.message))}else a(new se(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(H.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{re(Ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);re(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=py(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bI(),a=CI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");re(Ft,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const w=new p$({Fo:E=>{m?re(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(re(Ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(Ft,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Mo:()=>h.close()}),_=(E,y,v)=>{E.listen(y,T=>{try{v(T)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,zl.EventType.OPEN,()=>{m||(re(Ft,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),_(h,zl.EventType.CLOSE,()=>{m||(m=!0,re(Ft,`RPC '${e}' stream ${i} transport closed`),w.Uo())}),_(h,zl.EventType.ERROR,E=>{m||(m=!0,Ma(Ft,`RPC '${e}' stream ${i} transport errored:`,E),w.Uo(new se(H.UNAVAILABLE,"The operation could not be completed")))}),_(h,zl.EventType.MESSAGE,E=>{var y;if(!m){const v=E.data[0];Ne(!!v);const T=v,k=(T==null?void 0:T.error)||((y=T[0])===null||y===void 0?void 0:y.error);if(k){re(Ft,`RPC '${e}' stream ${i} received error:`,k);const D=k.status;let M=function(P){const I=ut[P];if(I!==void 0)return aR(I)}(D),C=k.message;M===void 0&&(M=H.INTERNAL,C="Unknown error status: "+D+" with message "+k.message),m=!0,w.Uo(new se(M,C)),h.close()}else re(Ft,`RPC '${e}' stream ${i} received:`,v),w.Ko(v)}}),_(a,SI.STAT_EVENT,E=>{E.stat===ty.PROXY?re(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ty.NOPROXY&&re(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return new w9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="PersistentStream";class TR{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ER(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return re(Nx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(re(Nx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g$ extends TR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=T9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Rr(o.readTime):ge.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=hy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=oy(l)?{documents:C9(s,l)}:{query:b9(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cR(s,o.resumeToken);const c=uy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Kh(s,o.snapshotVersion.toTimestamp());const c=uy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=P9(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=hy(this.serializer),n.removeTarget=e,this.I_(n)}}class y$ extends TR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=S9(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=hy(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x9(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${}class w$ extends v${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,cy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(H.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,cy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(H.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fi(n),this.N_=!1):re("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class E${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{So(this)&&(re(wo,"Restarting streams for network reachability change."),await async function(l){const c=ve(l);c.W_.add(4),await xc(c),c.j_.set("Unknown"),c.W_.delete(4),await Xf(c)}(this))})}),this.j_=new _$(r,i)}}async function Xf(t){if(So(t))for(const e of t.G_)await e(!0)}async function xc(t){for(const e of t.G_)await e(!1)}function xR(t,e){const n=ve(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),F0(n)?L0(n):ll(n).c_()&&M0(n,e))}function O0(t,e){const n=ve(t),r=ll(n);n.K_.delete(e),r.c_()&&SR(n,e),n.K_.size===0&&(r.c_()?r.P_():So(n)&&n.j_.set("Unknown"))}function M0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).y_(e)}function SR(t,e){t.H_.Ne(e),ll(t).w_(e)}function L0(t){t.H_=new m9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.j_.B_()}function F0(t){return So(t)&&!ll(t).u_()&&t.K_.size>0}function So(t){return ve(t).W_.size===0}function CR(t){t.H_=void 0}async function T$(t){t.j_.set("Online")}async function x$(t){t.K_.forEach((e,n)=>{M0(t,e)})}async function S$(t,e){CR(t),F0(t)?(t.j_.q_(e),L0(t)):t.j_.set("Unknown")}async function C$(t,e,n){if(t.j_.set("Online"),e instanceof uR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){re(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof Qd?t.H_.We(e):e instanceof lR?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ge.min()))try{const r=await _R(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.K_.get(c);d&&s.K_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.K_.get(l);if(!d)return;s.K_.set(l,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),SR(s,l);const h=new Yi(d.target,l,c,d.sequenceNumber);M0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(wo,"Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!al(e))throw e;t.W_.add(1),await xc(t),t.j_.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(wo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Xf(t)})}function bR(t,e){return e().catch(n=>Qh(t,n,e))}async function Jf(t){const e=ve(t),n=Es(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:E0;for(;b$(e);)try{const i=await a$(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,A$(e,i)}catch(i){await Qh(e,i)}AR(e)&&PR(e)}function b$(t){return So(t)&&t.U_.length<10}function A$(t,e){t.U_.push(e);const n=Es(t);n.c_()&&n.S_&&n.b_(e.mutations)}function AR(t){return So(t)&&!Es(t).u_()&&t.U_.length>0}function PR(t){Es(t).start()}async function P$(t){Es(t).C_()}async function I$(t){const e=Es(t);for(const n of t.U_)e.b_(n.mutations)}async function R$(t,e,n){const r=t.U_.shift(),i=P0.from(r,e,n);await bR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jf(t)}async function k$(t,e){e&&Es(t).S_&&await async function(r,i){if(function(o){return f9(o)&&o!==H.ABORTED}(i.code)){const s=r.U_.shift();Es(r).h_(),await bR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jf(r)}}(t,e),AR(t)&&PR(t)}async function Dx(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),re(wo,"RemoteStore received new credentials");const r=So(n);n.W_.add(3),await xc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Xf(n)}async function N$(t,e){const n=ve(t);e?(n.W_.delete(2),await Xf(n)):e||(n.W_.add(2),await xc(n),n.j_.set("Unknown"))}function ll(t){return t.J_||(t.J_=function(n,r,i){const s=ve(n);return s.M_(),new g$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:T$.bind(null,t),No:x$.bind(null,t),Lo:S$.bind(null,t),p_:C$.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),F0(t)?L0(t):t.j_.set("Unknown")):(await t.J_.stop(),CR(t))})),t.J_}function Es(t){return t.Y_||(t.Y_=function(n,r,i){const s=ve(n);return s.M_(),new y$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:P$.bind(null,t),Lo:k$.bind(null,t),D_:I$.bind(null,t),v_:R$.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Jf(t)):(await t.Y_.stop(),t.U_.length>0&&(re(wo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new j0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U0(t,e){if(fi("AsyncQueue",`${e}: ${t}`),al(t))return new se(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.Z_=new Xe(de.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ba{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ba(e,n,ma.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class V${constructor(){this.queries=Ox(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ve(n),s=i.queries;i.queries=Ox(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new se(H.ABORTED,"Firestore shutting down"))}}function Ox(){return new xo(t=>GI(t),Hf)}async function IR(t,e){const n=ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new D$,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=U0(o,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&B0(n)}async function RR(t,e){const n=ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O$(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&B0(n)}function M$(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function B0(t){t.ia.forEach(e=>{e.next()})}var my,Mx;(Mx=my||(my={}))._a="default",Mx.Cache="cache";class kR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.key=e}}class DR{constructor(e){this.key=e}}class L${constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=be(),this.mutatedKeys=be(),this.ya=QI(e),this.wa=new ma(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Vx,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=qf(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?w!==_&&(r.track({type:3,doc:m}),E=!0):this.va(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(m,w){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return _(m)-_(w)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Ba(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Vx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=be(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new DR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new NR(r))}),n}Oa(e){this.fa=e.gs,this.pa=be();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ba.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $0="SyncEngine";class F${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j${constructor(e){this.key=e,this.Ba=!1}}class U${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new xo(a=>GI(a),Hf),this.qa=new Map,this.Qa=new Set,this.$a=new Xe(de.comparator),this.Ua=new Map,this.Ka=new k0,this.Wa={},this.Ga=new Map,this.za=Ua.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function B$(t,e,n=!0){const r=jR(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await VR(r,e,n,!0),i}async function $$(t,e){const n=jR(t);await VR(n,e,!0,!1)}async function VR(t,e,n,r){const i=await l$(t.localStore,Ir(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await z$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&xR(t.remoteStore,i),a}async function z$(t,e,n,r,i){t.Ha=(h,f,m)=>async function(_,E,y,v){let T=E.view.ba(y);T.ls&&(T=await Px(_.localStore,E.query,!1).then(({documents:C})=>E.view.ba(C,T)));const k=v&&v.targetChanges.get(E.targetId),D=v&&v.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,_.isPrimaryClient,k,D);return Fx(_,E.targetId,M.Ma),M.snapshot}(t,h,f,m);const s=await Px(t.localStore,e,!0),o=new L$(e,s.gs),a=o.ba(s.documents),l=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Fx(t,n,c.Ma);const d=new F$(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function W$(t,e,n){const r=ve(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Hf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&O0(r.remoteStore,i.targetId),gy(r,i.targetId)}).catch(ol)):(gy(r,i.targetId),await fy(r.localStore,i.targetId,!0))}async function H$(t,e){const n=ve(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O0(n.remoteStore,r.targetId))}async function q$(t,e,n){const r=Z$(t);try{const i=await function(o,a){const l=ve(o),c=ht.now(),d=a.reduce((m,w)=>m.add(w.key),be());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=pi(),_=be();return l.ds.getEntries(m,d).next(E=>{w=E,w.forEach((y,v)=>{v.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(E=>{h=E;const y=[];for(const v of a){const T=l9(v,h.get(v.key).overlayedDocument);T!=null&&y.push(new Ns(v.key,T,UI(T.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(E=>{f=E;const y=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,E.batchId,y)})}).then(()=>({batchId:f.batchId,changes:XI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Xe(xe)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Sc(r,i.changes),await Jf(r.remoteStore)}catch(i){const s=U0(i,"Failed to persist write");n.reject(s)}}async function OR(t,e){const n=ve(t);try{const r=await s$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Ne(o.Ba):i.removedDocuments.size>0&&(Ne(o.Ba),o.Ba=!1))}),await Sc(n,r,e)}catch(r){await ol(r)}}function Lx(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&B0(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K$(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new Xe(de.comparator);o=o.insert(s,zt.newNoDocument(s,ge.min()));const a=be().add(s),l=new Qf(ge.min(),new Map,new Xe(xe),o,a);await OR(r,l),r.$a=r.$a.remove(s),r.Ua.delete(e),z0(r)}else await fy(r.localStore,e,!1).then(()=>gy(r,e,n)).catch(ol)}async function G$(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await i$(n.localStore,e);LR(n,r,null),MR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,i)}catch(i){await ol(i)}}async function Q$(t,e,n){const r=ve(t);try{const i=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ne(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);LR(r,e,n),MR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,i)}catch(i){await ol(i)}}function MR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function LR(t,e,n){const r=ve(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||FR(t,r)})}function FR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(O0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),z0(t))}function Fx(t,e,n){for(const r of n)r instanceof NR?(t.Ka.addReference(r.key,e),Y$(t,r)):r instanceof DR?(re($0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||FR(t,r.key)):pe()}function Y$(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(re($0,"New document in limbo: "+n),t.Qa.add(r),z0(t))}function z0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new de(We.fromString(e)),r=t.za.next();t.Ua.set(r,new j$(n)),t.$a=t.$a.insert(n,r),xR(t.remoteStore,new Yi(Ir(b0(n.path)),r,"TargetPurposeLimboResolution",$f.ae))}}async function Sc(t,e,n){const r=ve(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=D0.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const d=ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,f=>$.forEach(f.Hi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.Ji,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!al(h))throw h;re(V0,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Ts.get(f),w=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(w);d.Ts=d.Ts.insert(f,_)}}}(r.localStore,s))}async function X$(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){re($0,"User change. New user:",e.toKey());const r=await wR(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new se(H.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.Rs)}}function J$(t,e){const n=ve(t),r=n.Ua.get(e);if(r&&r.Ba)return be().add(r.key);{let i=be();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function jR(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K$.bind(null,e),e.La.p_=O$.bind(null,e.eventManager),e.La.Ja=M$.bind(null,e.eventManager),e}function Z$(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q$.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return r$(this.persistence,new e$,e.initialUser,this.serializer)}Xa(e){return new vR(N0.ri,this.serializer)}Za(e){return new c$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class ez extends Yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ne(this.persistence.referenceDelegate instanceof Gh);const r=this.persistence.referenceDelegate.garbageCollector;return new j9(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new vR(r=>Gh.ri(r,n),this.serializer)}}class yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X$.bind(null,this.syncEngine),await N$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V$}()}createDatastore(e){const n=Yf(e.databaseInfo.databaseId),r=function(s){return new m$(s)}(e.databaseInfo);return function(s,o,a,l){return new w$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new E$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Lx(this.syncEngine,n,0),function(){return kx.D()?new kx:new d$}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new U$(i,s,o,a,l,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ve(i);re(wo,"RemoteStore shutting down."),s.W_.add(5),await xc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class tz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=II.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{re(Ts,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(Ts,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ym(t,e){t.asyncQueue.verifyOperationInProgress(),re(Ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nz(t);re(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Dx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Dx(e.remoteStore,i)),t._onlineComponents=e}async function nz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Ts,"Using user provided OfflineComponentProvider");try{await ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),await ym(t,new Yh)}}else re(Ts,"Using default OfflineComponentProvider"),await ym(t,new ez(void 0));return t._offlineComponents}async function BR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Ts,"Using user provided OnlineComponentProvider"),await jx(t,t._uninitializedComponentsProvider._online)):(re(Ts,"Using default OnlineComponentProvider"),await jx(t,new yy))),t._onlineComponents}function rz(t){return BR(t).then(e=>e.syncEngine)}async function $R(t){const e=await BR(t),n=e.eventManager;return n.onListen=B$.bind(null,e.syncEngine),n.onUnlisten=W$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H$.bind(null,e.syncEngine),n}function iz(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new UR({next:f=>{d.su(),o.enqueueAndForget(()=>RR(s,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new kR(b0(a.path),d,{includeMetadataChanges:!0,Ta:!0});return IR(s,h)}(await $R(t),t.asyncQueue,e,n,r)),r.promise}function sz(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new UR({next:f=>{d.su(),o.enqueueAndForget(()=>RR(s,h)),f.fromCache&&l.source==="server"?c.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new kR(a,d,{includeMetadataChanges:!0,Ta:!0});return IR(s,h)}(await $R(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oz(t,e,n,r){if(e===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bx(t){if(!de.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $x(t){if(de.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new se(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firestore.googleapis.com",zx=!0;class Wx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HR,this.ssl=zx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:zx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L9)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m3;switch(r.type){case"firstParty":return new w3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ux.get(n);r&&(re("ComponentProvider","Removing Datastore"),Ux.delete(n),r.terminate())}(this),Promise.resolve()}}function az(t,e,n,r={}){var i;const s=(t=Mr(t,ep))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==HR&&s.host!==a&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!po(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Bt.MOCK_USER;else{c=IU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Bt(h)}t._authCredentials=new g3(new AI(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class cs extends ul{constructor(e,n,r){super(e,n,b0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new de(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function $a(t,e,...n){if(t=Rt(t),WR("collection","path",e),t instanceof ep){const r=We.fromString(e,...n);return $x(r),new cs(t,null,r)}{if(!(t instanceof rn||t instanceof cs))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return $x(r),new cs(t.firestore,null,r)}}function no(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=II.newId()),WR("doc","path",e),t instanceof ep){const r=We.fromString(e,...n);return Bx(r),new rn(t,null,new de(r))}{if(!(t instanceof rn||t instanceof cs))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Bx(r),new rn(t.firestore,t instanceof cs?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="AsyncQueue";class qx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ER(this,"async_queue_retry"),this.Su=()=>{const r=gm();r&&re(Hx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!al(e))throw e;re(Hx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=j0.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class cl extends ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qx(e),this._firestoreClient=void 0,await e}}}function qR(t,e){const n=typeof t=="object"?t:MP(),r=typeof t=="string"?t:Bh,i=c0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AU("firestore");s&&az(i,...s)}return i}function W0(t){if(t._terminated)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lz(t),t._firestoreClient}function lz(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new V3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new tz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new za(kt.fromBase64String(e))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new za(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=/^__.*__$/;class cz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(e,this.data,n,this.fieldTransforms)}}class KR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class G0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new G0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GR(this.Lu)&&uz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class dz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yf(e)}ju(e,n,r,i=!1){return new G0({Lu:e,methodName:n,zu:r,path:At.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(t){const e=t._freezeSettings(),n=Yf(t._databaseId);return new dz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QR(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);Q0("Data must be an object, but it was:",o,r);const a=YR(r,o);let l,c;if(s.merge)l=new An(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=vy(e,h,n);if(!o.contains(f))throw new se(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);JR(d,f)||d.push(f)}l=new An(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new cz(new mn(a),l,c)}class rp extends H0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rp}}function hz(t,e,n,r){const i=t.ju(1,e,n);Q0("Data must be an object, but it was:",i,r);const s=[],o=mn.empty();ks(r,(l,c)=>{const d=Y0(e,l,n);c=Rt(c);const h=i.Uu(d);if(c instanceof rp)s.push(d);else{const f=Cc(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new An(s);return new KR(o,a,i.fieldTransforms)}function fz(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[vy(e,r,n)],l=[i];if(s.length%2!=0)throw new se(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(vy(e,s[f])),l.push(s[f+1]);const c=[],d=mn.empty();for(let f=a.length-1;f>=0;--f)if(!JR(c,a[f])){const m=a[f];let w=l[f];w=Rt(w);const _=o.Uu(m);if(w instanceof rp)c.push(m);else{const E=Cc(w,_);E!=null&&(c.push(m),d.set(m,E))}}const h=new An(c);return new KR(d,h,o.fieldTransforms)}function pz(t,e,n,r=!1){return Cc(n,t.ju(r?4:3,e))}function Cc(t,e){if(XR(t=Rt(t)))return Q0("Unsupported field value:",e,t),YR(t,e);if(t instanceof H0)return function(r,i){if(!GR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Cc(a,i.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:Kh(i.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,s)}}if(r instanceof q0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof za)return{bytesValue:cR(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof K0)return function(o,a){return{mapValue:{fields:{[LI]:{stringValue:jI},[$h]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return A0(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Zf(r)}`)}(t,e)}function YR(t,e){const n={};return kI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,i)=>{const s=Cc(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof q0||t instanceof za||t instanceof rn||t instanceof H0||t instanceof K0)}function Q0(t,e,n){if(!XR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function vy(t,e,n){if((e=Rt(e))instanceof tp)return e._internalPath;if(typeof e=="string")return Y0(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const mz=new RegExp("[~\\*/\\[\\]]");function Y0(t,e,n){if(e.search(mz)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tp(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(H.INVALID_ARGUMENT,a+t+l)}function JR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gz extends ZR{data(){return super.data()}}function X0(t,e){return typeof e=="string"?Y0(t,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J0{}class vz extends J0{}function Wa(t,e,...n){let r=[];e instanceof J0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Z0).length,a=s.filter(l=>l instanceof ip).length;if(o>1||o>0&&a>0)throw new se(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ip extends vz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ip(e,n,r)}_apply(e){const n=this._parse(e);return ek(e._query,n),new ul(e.firestore,e.converter,ay(e._query,n))}_parse(e){const n=np(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new se(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Gx(h,d);const w=[];for(const _ of h)w.push(Kx(l,s,_));f={arrayValue:{values:w}}}else f=Kx(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Gx(h,d),f=pz(a,o,h,d==="in"||d==="not-in");return dt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ro(t,e,n){const r=e,i=X0("where",t);return ip._create(i,r,n)}class Z0 extends J0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ek(o,l),o=ay(o,l)}(e._query,n),new ul(e.firestore,e.converter,ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kx(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new se(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KI(e)&&n.indexOf("/")!==-1)throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!de.isDocumentKey(r))throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ux(t,new de(r))}if(n instanceof rn)return ux(t,n._key);throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(n)}.`)}function Gx(t,e){if(!Array.isArray(t)||t.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ek(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wz{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[$h].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>st(o.doubleValue));return new K0(s)}convertGeoPoint(e){return new q0(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ne(gR(r));const i=new Ku(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nk extends ZR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yd extends nk{data(e={}){return super.data(e)}}class _z{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ql(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ql(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ql(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Ez(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ez(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){t=Mr(t,rn);const e=Mr(t.firestore,cl);return iz(W0(e),t._key).then(n=>xz(e,t,n))}class rk extends wz{constructor(e){super(),this.firestore=e}convertBytes(e){return new za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Ha(t){t=Mr(t,ul);const e=Mr(t.firestore,cl),n=W0(e),r=new rk(e);return yz(t._query),sz(n,t._query).then(i=>new _z(e,r,t,i))}function Yx(t,e,n){t=Mr(t,rn);const r=Mr(t.firestore,cl),i=tk(t.converter,e);return ew(r,[QR(np(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function ik(t,e,n,...r){t=Mr(t,rn);const i=Mr(t.firestore,cl),s=np(i);let o;return o=typeof(e=Rt(e))=="string"||e instanceof tp?fz(s,"updateDoc",t._key,e,n,r):hz(s,"updateDoc",t._key,e),ew(i,[o.toMutation(t._key,ar.exists(!0))])}function Tz(t,e){const n=Mr(t.firestore,cl),r=no(t),i=tk(t.converter,e);return ew(n,[QR(np(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function ew(t,e){return function(r,i){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>q$(await rz(r),i,s)),s.promise}(W0(t),e)}function xz(t,e,n){const r=n.docs.get(e._key),i=new rk(t);return new nk(t,i,e._key,r,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sl=i})(rl),Oa(new mo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cl(new y3(r.getProvider("auth-internal")),new _3(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ls(XT,JT,e),ls(XT,JT,"esm2017")})();const Sz={apiKey:"AIzaSyCsFTpa3BjOUl7l3pBmmpnT7-q1w8OS4xY",authDomain:"siaap-subsidios.firebaseapp.com",projectId:"siaap-subsidios",storageBucket:"siaap-subsidios.appspot.com",messagingSenderId:"567063169065",appId:"1:567063169065:web:b80c4285e34d527c1cb438"},sk=OP(Sz),io=ey(sk);io.languageCode="pt";const Ui=qR(sk),Cz=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(!1),[o,a]=S.useState(""),{toast:l}=bf(),c=fc(),d=m=>{cI(io,m).then(()=>{console.log("Link de redefinição de senha enviado com sucesso para: "+m),l({title:"Link de redefinição enviado",description:"Verifique seu e-mail para redefinir sua senha."})}).catch(w=>{let _="Ocorreu um erro ao enviar o email de redefinição. Verifique se o email está correto.";w.code==="auth/user-not-found"&&(_="Não existe usuário com este email."),l({title:"Erro ao enviar email de redefinição",description:_,variant:"destructive"}),console.error("Erro ao enviar o link de redefinição de senha:",w)})},h=()=>{const m=prompt("Por favor, insira seu email para redefinir sua senha:");m&&(a(m),d(m))},f=async m=>{if(m.preventDefault(),!t||!n){l({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}try{const w=t.includes("@");let _;if(w)_=await UT(io,t,n);else{const M=$a(Ui,"usuarios"),C=Wa(M,ro("cpf","==",t)),x=await Ha(C);if(x.empty){l({title:"Erro ao logar",description:"Usuário não encontrado com este CPF.",variant:"destructive"});return}const I=x.docs[0].data().email;_=await UT(io,I,n)}const y=_.user.uid,v=$a(Ui,"usuario_cargo"),T=Wa(v,ro("usuarioId","==",y)),D=(await Ha(T)).docs.map(M=>M.data().cargoId);console.log("User roles:",D),localStorage.setItem("userRoles",JSON.stringify(D)),l({title:"Login realizado",description:"Login realizado com sucesso!",className:"bg-green-500 text-white"}),c("/telaInicial")}catch(w){l({title:"Erro ao logar",description:w.message,variant:"destructive"}),console.error("Erro ao logar:",w)}};return b.jsx("div",{className:"login-register-theme",children:b.jsx("div",{className:"login-background min-h-screen flex items-center justify-center p-4",children:b.jsx("div",{className:"auth-card w-full max-w-md",children:b.jsxs("div",{className:"p-6 sm:p-8",children:[b.jsx("img",{src:"/LogoTCMGO.svg?v=1",alt:"Logo",className:"flex item-center h-17 mb-2"}),b.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"Sistema de Análise de Subsídios"}),b.jsx("h2",{className:"text-xl font-semibold text-center text-gray-700 mb-6",children:"Entrar"}),b.jsxs("form",{onSubmit:f,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email ou CPF"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(Hv,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"email",type:"text",placeholder:"Digite seu email ou CPF",className:"input-field pl-10",value:t,onChange:m=>e(m.target.value)})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(Vg,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"password",type:i?"text":"password",placeholder:"Digite sua senha",className:"input-field pl-10 pr-10",value:n,onChange:m=>r(m.target.value)}),b.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>s(!i),children:i?b.jsx(Ng,{className:"h-5 w-5 text-gray-400"}):b.jsx(Dg,{className:"h-5 w-5 text-gray-400"})})]})]}),b.jsx("button",{type:"submit",className:"auth-button mt-6",children:"Entrar"})]}),b.jsxs("div",{className:"mt-4 text-center text-sm",children:[b.jsx("p",{className:"text-gray-600",children:b.jsx("button",{onClick:h,className:"link font-medium",children:"Esqueci minha senha"})}),b.jsxs("p",{className:"mt-3 text-gray-600",children:["Não possui uma conta? ",b.jsx(a0,{to:"/cadastrar",className:"link font-medium",children:"Cadastrar-se"})]})]})]})})})})},bz=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(""),[l,c]=S.useState(""),[d,h]=S.useState(""),[f,m]=S.useState(!1),[w,_]=S.useState(!1),{toast:E}=bf(),y=fc(),v=async T=>{if(T.preventDefault(),!t||!n||!i||!o||!l||!d){E({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}if(n!==i){E({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}try{const k=$a(Ui,"tokens"),D=Wa(k,ro("token","==",o),ro("usado","==",!1)),M=await Ha(D);if(M.empty){E({title:"Erro",description:"Token inválido ou já utilizado.",variant:"destructive"});return}const x=M.docs[0].id,V=(await eB(io,t,n)).user.uid,N=new Date;await Yx(no(Ui,"usuarios",V),{id:V,email:t,NomeCompleto:l,cpf:d,CriadoEm:N});const R=$a(Ui,"cargos"),q=Wa(R,ro("nome","==","Servidor")),oe=await Ha(q);if(oe.empty){E({title:"Erro",description:"Cargo 'Servidor' não encontrado.",variant:"destructive"});return}const ee=oe.docs[0].id;await Yx(no(Ui,"usuario_cargo",V),{usuario_id:V,cargo_id:ee}),await ik(no(Ui,"tokens",x),{usado:!1}),E({title:"Cadastro realizado",description:"Cadastro realizado com sucesso!",className:"bg-green-500 text-white"}),y("/login")}catch(k){console.error("Error ao cadastrar:",k),E({title:"Erro ao cadastrar",description:k.message,variant:"destructive"})}};return b.jsx("div",{className:"login-register-theme",children:b.jsx("div",{className:"login-background min-h-screen flex items-center justify-center p-4",children:b.jsx("div",{className:"auth-card w-full max-w-md",children:b.jsxs("div",{className:"p-6 sm:p-8",children:[b.jsx("img",{src:"/LogoTCMGO.svg?v=1",alt:"Logo",className:"flex item-center h-17 mb-2"}),b.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"Sistema de Análise de Subsídios"}),b.jsx("h2",{className:"text-xl font-semibold text-center text-gray-700 mb-3",children:"Cadastrar-se"}),b.jsxs("form",{onSubmit:v,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700",children:"Token"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(oM,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"token",type:"text",placeholder:"Digite seu token",className:"input-field pl-10",value:o,onChange:T=>a(T.target.value)})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"NomeCompleto",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(bA,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"NomeCompleto",type:"text",placeholder:"Digite seu nome completo",className:"input-field pl-10",value:l,onChange:T=>c(T.target.value)})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700",children:"CPF"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(iM,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"cpf",type:"text",placeholder:"Digite seu CPF",className:"input-field pl-10",value:d,onChange:T=>h(T.target.value)})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(Hv,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"email",type:"email",placeholder:"Digite seu email",className:"input-field pl-10",value:t,onChange:T=>e(T.target.value)})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(Vg,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"password",type:f?"text":"password",placeholder:"Digite sua senha",className:"input-field pl-10 pr-10",value:n,onChange:T=>r(T.target.value)}),b.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>m(!f),children:f?b.jsx(Ng,{className:"h-5 w-5 text-gray-400"}):b.jsx(Dg,{className:"h-5 w-5 text-gray-400"})})]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Senha"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(Vg,{className:"h-5 w-5 text-gray-400"})}),b.jsx("input",{id:"confirmPassword",type:w?"text":"password",placeholder:"Confirme sua senha",className:"input-field pl-10 pr-10",value:i,onChange:T=>s(T.target.value)}),b.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>_(!w),children:w?b.jsx(Ng,{className:"h-5 w-5 text-gray-400"}):b.jsx(Dg,{className:"h-5 w-5 text-gray-400"})})]})]}),b.jsx("button",{type:"submit",className:"auth-button mt-6",children:"Cadastrar-se"})]}),b.jsx("div",{className:"mt-6 text-center text-sm",children:b.jsxs("p",{className:"text-gray-600",children:["Já possui uma conta? ",b.jsx(a0,{to:"/login",className:"link font-medium",children:"Entrar"})]})})]})})})})},Az=()=>{const t=To();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),b.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),b.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},vm=768;function ok(){const[t,e]=S.useState(void 0);return S.useEffect(()=>{const n=window.matchMedia(`(max-width: ${vm-1}px)`),r=()=>{e(window.innerWidth<vm)};return n.addEventListener("change",r),e(window.innerWidth<vm),()=>n.removeEventListener("change",r)},[]),!!t}const Pz=({toggleSidebar:t})=>b.jsx("header",{className:"bg-white border-b py-3 px-4 md:px-6 flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:t,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100",children:b.jsx(uM,{size:20})}),b.jsx("img",{src:"/LogoSAP.png",alt:"Logo",className:"h-14 md:flex"})]})}),Iz=({isOpen:t,setIsOpen:e})=>{const n=To(),r=ok(),i=[{name:"Dashboard",icon:b.jsx(aM,{size:20}),path:"/"},{name:"Análises",icon:b.jsx(rM,{size:20}),path:"/analises"},{name:"Projetos",icon:b.jsx(sM,{size:20}),path:"/projetos"},{name:"Configurações",icon:b.jsx(HE,{size:20}),path:"/configuracoes"}],s=()=>{r&&e(!1)};return b.jsxs(b.Fragment,{children:[r&&t&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:s}),b.jsx("div",{className:`
        fixed top-0 left-0 h-full bg-white shadow-lg z-30 transition-all duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full"}
        w-64 
      `,children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"bg-tribunal-blue rounded-full w-8 h-8 flex items-center justify-center",children:b.jsx(HE,{size:18,className:"text-white"})}),b.jsx("h1",{className:"font-semibold text-tribunal-blue",children:"TCMGO"})]}),r&&b.jsx("button",{onClick:s,className:"p-1 rounded-md text-gray-500 hover:bg-gray-100",children:b.jsx(AA,{size:20})})]}),b.jsx("div",{className:"flex-1 px-3 py-4",children:b.jsx("nav",{className:"space-y-1",children:i.map(o=>{const a=n.pathname===o.path;return b.jsxs(a0,{to:o.path,className:`tribunal-sidebar-item ${a?"active":""}`,onClick:s,children:[o.icon,b.jsx("span",{children:o.name})]},o.path)})})})]})})]})},ak=S.createContext({});function Rz(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const tw=typeof window<"u",kz=tw?S.useLayoutEffect:S.useEffect,nw=S.createContext(null),lk=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Nz(t=!0){const e=S.useContext(nw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}function rw(t,e){t.indexOf(e)===-1&&t.push(e)}function iw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rn=t=>t;let wy=Rn;const Dz={skipAnimations:!1,useManualTiming:!1};function sw(t){let e;return()=>(e===void 0&&(e=t()),e)}const qa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ow{constructor(){this.subscriptions=[]}add(e){return rw(this.subscriptions,e),()=>iw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=t=>t*1e3,ii=t=>t/1e3;function uk(t,e){return e?t*(1e3/e):0}const Vz=sw(()=>window.ScrollTimeline!==void 0);class Oz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Vz()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Mz extends Oz{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function aw(t,e){return t?t[e]||t.default||t:void 0}const _y=2e4;function ck(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_y;)e+=n,r=t.next(e);return e>=_y?1/0:e}function lw(t){return typeof t=="function"}function Xx(t,e){t.timeline=e,t.onfinish=null}const uw=t=>Array.isArray(t)&&typeof t[0]=="number",Lz={linearEasing:void 0};function Fz(t,e){const n=sw(t);return()=>{var r;return(r=Lz[e])!==null&&r!==void 0?r:n()}}const Jh=Fz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(qa(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function hk(t){return!!(typeof t=="function"&&Jh()||!t||typeof t=="string"&&(t in Ey||Jh())||uw(t)||Array.isArray(t)&&t.every(hk))}const Kl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ey={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kl([0,.65,.55,1]),circOut:Kl([.55,0,1,.45]),backIn:Kl([.31,.01,.66,-.59]),backOut:Kl([.33,1.53,.69,.99])};function fk(t,e){if(t)return typeof t=="function"&&Jh()?dk(t,e):uw(t)?Kl(t):Array.isArray(t)?t.map(n=>fk(n,e)||Ey.easeOut):Ey[t]}const Ed=["read","resolveKeyframes","update","preRender","render","postRender"],Jx={value:null,addProjectionMetrics:null};function jz(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const _=m&&i?n:r;return f&&o.add(h),_.has(h)||_.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&Jx.value&&Jx.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const Uz=40;function pk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ed.reduce((y,v)=>(y[v]=jz(s,e?v:void 0),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,m=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Uz),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},w=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Ed.reduce((y,v)=>{const T=o[v];return y[v]=(k,D=!1,M=!1)=>(n||w(),T.schedule(k,D,M)),y},{}),cancel:y=>{for(let v=0;v<Ed.length;v++)o[Ed[v]].cancel(y)},state:i,steps:o}}const{schedule:Ue,cancel:xs,state:Ct,steps:wm}=pk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),{schedule:cw,cancel:vq}=pk(queueMicrotask,!1);let Xd;function Bz(){Xd=void 0}const kr={now:()=>(Xd===void 0&&kr.set(Ct.isProcessing||Dz.useManualTiming?Ct.timestamp:performance.now()),Xd),set:t=>{Xd=t,queueMicrotask(Bz)}},Jn={x:!1,y:!1};function mk(){return Jn.x||Jn.y}function $z(t){return t==="x"||t==="y"?Jn[t]?null:(Jn[t]=!0,()=>{Jn[t]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function zz(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function gk(t,e){const n=zz(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Zx(t){return!(t.pointerType==="touch"||mk())}function Wz(t,e,n={}){const[r,i,s]=gk(t,n),o=a=>{if(!Zx(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{Zx(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function e1(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const yk=(t,e)=>e?t===e?!0:yk(t,e.parentElement):!1,dw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Hz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qz(t){return Hz.has(t.tagName)||t.tabIndex!==-1}const Gl=new WeakSet;function t1(t){return e=>{e.key==="Enter"&&t(e)}}function _m(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Kz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=t1(()=>{if(Gl.has(n))return;_m(n,"down");const i=t1(()=>{_m(n,"up")}),s=()=>_m(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function n1(t){return dw(t)&&!mk()}function Gz(t,e,n={}){const[r,i,s]=gk(t,n),o=a=>{const l=a.currentTarget;if(!l||!n1(a)||Gl.has(l))return;Gl.add(l),e1(a,"set");const c=e(l,a),d=(m,w)=>{l.removeEventListener("pointerup",h),l.removeEventListener("pointercancel",f),e1(m,"release"),!(!n1(m)||!Gl.has(l))&&(Gl.delete(l),typeof c=="function"&&c(m,{success:w}))},h=m=>{(m.isTrusted?Qz(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(m,!1):d(m,!(l instanceof Element)||yk(l,m.target))},f=m=>{d(m,!1)};l.addEventListener("pointerup",h,i),l.addEventListener("pointercancel",f,i),l.addEventListener("lostpointercapture",f,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!qz(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",c=>Kz(c,i),i)}),s}function Qz(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const r1=30,Yz=t=>!isNaN(parseFloat(t));class Xz{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=kr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Yz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ow);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>r1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,r1);return uk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xu(t,e){return new Xz(t,e)}const vk=S.createContext({strict:!1}),i1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ka={};for(const t in i1)Ka[t]={isEnabled:e=>i1[t].some(n=>!!e[n])};function Jz(t){for(const e in t)Ka[e]={...Ka[e],...t[e]}}const Zz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Zz.has(t)}let wk=t=>!Zh(t);function e6(t){t&&(wk=e=>e.startsWith("on")?!Zh(e):t(e))}try{e6(require("@emotion/is-prop-valid").default)}catch{}function t6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(wk(i)||n===!0&&Zh(i)||!e&&!Zh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function n6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const sp=S.createContext({});function op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ju(t){return typeof t=="string"||Array.isArray(t)}const hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fw=["initial",...hw];function ap(t){return op(t.animate)||fw.some(e=>Ju(t[e]))}function _k(t){return!!(ap(t)||t.variants)}function r6(t,e){if(ap(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ju(n)?n:void 0,animate:Ju(r)?r:void 0}}return t.inherit!==!1?e:{}}function i6(t){const{initial:e,animate:n}=r6(t,S.useContext(sp));return S.useMemo(()=>({initial:e,animate:n}),[s1(e),s1(n)])}function s1(t){return Array.isArray(t)?t.join(" "):t}const s6=Symbol.for("motionComponentSymbol");function Zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function o6(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zo(n)&&(n.current=r))},[e])}const pw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a6="framerAppearId",Ek="data-"+pw(a6),Tk=S.createContext({});function l6(t,e,n,r,i){var s,o;const{visualElement:a}=S.useContext(sp),l=S.useContext(vk),c=S.useContext(nw),d=S.useContext(lk).reducedMotion,h=S.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=S.useContext(Tk);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&u6(h.current,n,i,m);const w=S.useRef(!1);S.useInsertionEffect(()=>{f&&w.current&&f.update(n,c)});const _=n[Ek],E=S.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return kz(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),cw.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,_)}),E.current=!1))}),f}function u6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Zo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function xk(t){if(t)return t.options.allowProjection!==!1?t.projection:xk(t.parent)}function c6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&Jz(t);function a(c,d){let h;const f={...S.useContext(lk),...c,layoutId:d6(c)},{isStatic:m}=f,w=i6(c),_=r(c,m);if(!m&&tw){h6();const E=f6(f);h=E.MeasureLayout,w.visualElement=l6(i,_,f,e,E.ProjectionNode)}return b.jsxs(sp.Provider,{value:w,children:[h&&w.visualElement?b.jsx(h,{visualElement:w.visualElement,...f}):null,n(i,c,o6(_,w.visualElement,d),_,m,w.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=S.forwardRef(a);return l[s6]=i,l}function d6({layoutId:t}){const e=S.useContext(ak).id;return e&&t!==void 0?e+"-"+t:t}function h6(t,e){S.useContext(vk).strict}function f6(t){const{drag:e,layout:n}=Ka;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Sk=t=>e=>typeof e=="string"&&e.startsWith(t),mw=Sk("--"),p6=Sk("var(--"),gw=t=>p6(t)?m6.test(t.split("/*")[0].trim()):!1,m6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zu={};function g6(t){for(const e in t)Zu[e]=t[e],mw(e)&&(Zu[e].isCSSVariable=!0)}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Co=new Set(dl);function Ck(t,{layout:e,layoutId:n}){return Co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zu[t]||t==="opacity")}const Wt=t=>!!(t&&t.getVelocity),bk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ec={...hl,transform:t=>mi(0,1,t)},Td={...hl,default:1},bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ki=bc("deg"),Nr=bc("%"),he=bc("px"),y6=bc("vh"),v6=bc("vw"),o1={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},w6={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he},_6={rotate:ki,rotateX:ki,rotateY:ki,rotateZ:ki,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:ki,skewX:ki,skewY:ki,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:ec,originX:o1,originY:o1,originZ:he},a1={...hl,transform:Math.round},yw={...w6,..._6,zIndex:a1,size:he,fillOpacity:ec,strokeOpacity:ec,numOctaves:a1},E6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T6=dl.length;function x6(t,e,n){let r="",i=!0;for(let s=0;s<T6;s++){const o=dl[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=bk(a,yw[o]);if(!l){i=!1;const d=E6[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function vw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Co.has(l)){o=!0;continue}else if(mw(l)){i[l]=c;continue}else{const d=bk(c,yw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=x6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const ww=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ak(t,e,n){for(const r in e)!Wt(e[r])&&!Ck(r,n)&&(t[r]=e[r])}function S6({transformTemplate:t},e){return S.useMemo(()=>{const n=ww();return vw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function C6(t,e){const n=t.style||{},r={};return Ak(r,n,t),Object.assign(r,S6(t,e)),r}function b6(t,e){const n={},r=C6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const A6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _w(t){return typeof t!="string"||t.includes("-")?!1:!!(A6.indexOf(t)>-1||/[A-Z]/u.test(t))}const P6={offset:"stroke-dashoffset",array:"stroke-dasharray"},I6={offset:"strokeDashoffset",array:"strokeDasharray"};function R6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?P6:I6;t[s.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[s.array]=`${o} ${a}`}function l1(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function k6(t,e,n){const r=l1(e,t.x,t.width),i=l1(n,t.y,t.height);return`${r} ${i}`}function Ew(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(vw(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:w}=t;f.transform&&(w&&(m.transform=f.transform),delete f.transform),w&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=k6(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&R6(f,o,a,l,!1)}const Pk=()=>({...ww(),attrs:{}}),Tw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N6(t,e,n,r){const i=S.useMemo(()=>{const s=Pk();return Ew(s,e,Tw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Ak(s,t.style,t),i.style={...s,...i.style}}return i}function D6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(_w(n)?N6:b6)(r,s,o,n),c=t6(r,typeof n=="string",t),d=n!==S.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=S.useMemo(()=>Wt(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function u1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function xw(t,e,n,r){if(typeof e=="function"){const[i,s]=u1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=u1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Ty=t=>Array.isArray(t),V6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),O6=t=>Ty(t)?t[t.length-1]||0:t;function Jd(t){const e=Wt(t)?t.get():t;return V6(e)?e.toValue():e}function M6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:L6(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Ik=t=>(e,n)=>{const r=S.useContext(sp),i=S.useContext(nw),s=()=>M6(t,e,r,i);return n?s():Rz(s)};function L6(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Jd(s[f]);let{initial:o,animate:a}=t;const l=ap(t),c=_k(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!op(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=xw(t,f[m]);if(w){const{transitionEnd:_,transition:E,...y}=w;for(const v in y){let T=y[v];if(Array.isArray(T)){const k=d?T.length-1:0;T=T[k]}T!==null&&(i[v]=T)}for(const v in _)i[v]=_[v]}}}return i}function Sw(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Wt(i[o])||e.style&&Wt(e.style[o])||Ck(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const F6={useVisualState:Ik({scrapeMotionValuesFromProps:Sw,createRenderState:ww})};function Rk(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function kk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Nk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dk(t,e,n,r){kk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Nk.has(i)?i:pw(i),e.attrs[i])}function Vk(t,e,n){const r=Sw(t,e,n);for(const i in t)if(Wt(t[i])||Wt(e[i])){const s=dl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const c1=["x","y","width","height","cx","cy","r"],j6={useVisualState:Ik({scrapeMotionValuesFromProps:Vk,createRenderState:Pk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Co.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<c1.length;a++){const l=c1[a];t[l]!==e[l]&&(o=!0)}o&&Ue.read(()=>{Rk(n,r),Ue.render(()=>{Ew(r,i,Tw(n.tagName),t.transformTemplate),Dk(n,r)})})}})};function U6(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={..._w(r)?j6:F6,preloadedFeatures:t,useRender:D6(i),createVisualElement:e,Component:r};return c6(o)}}function tc(t,e,n){const r=t.getProps();return xw(r,e,n!==void 0?n:r.custom,t)}const Ok=new Set(["width","height","top","left","right","bottom",...dl]);function B6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xu(n))}function $6(t,e){const n=tc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=O6(s[o]);B6(t,o,a)}}function z6(t){return!!(Wt(t)&&t.add)}function xy(t,e){const n=t.getValue("willChange");if(z6(n))return n.add(e)}function Mk(t){return t.props[Ek]}const Lk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W6=1e-7,H6=12;function q6(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Lk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>W6&&++a<H6);return o}function Ac(t,e,n,r){if(t===e&&n===r)return Rn;const i=s=>q6(s,0,1,t,n);return s=>s===0||s===1?s:Lk(i(s),e,r)}const Fk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jk=t=>e=>1-t(1-e),Uk=Ac(.33,1.53,.69,.99),Cw=jk(Uk),Bk=Fk(Cw),$k=t=>(t*=2)<1?.5*Cw(t):.5*(2-Math.pow(2,-10*(t-1))),bw=t=>1-Math.sin(Math.acos(t)),zk=jk(bw),Wk=Fk(bw),Hk=t=>/^0[^.\s]+$/u.test(t);function K6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Hk(t):!0}const fu=t=>Math.round(t*1e5)/1e5,Aw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G6(t){return t==null}const Q6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pw=(t,e)=>n=>!!(typeof n=="string"&&Q6.test(n)&&n.startsWith(t)||e&&!G6(n)&&Object.prototype.hasOwnProperty.call(n,e)),qk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Aw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Y6=t=>mi(0,255,t),Em={...hl,transform:t=>Math.round(Y6(t))},Ks={test:Pw("rgb","red"),parse:qk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Em.transform(t)+", "+Em.transform(e)+", "+Em.transform(n)+", "+fu(ec.transform(r))+")"};function X6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sy={test:Pw("#"),parse:X6,transform:Ks.transform},ea={test:Pw("hsl","hue"),parse:qk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(fu(e))+", "+Nr.transform(fu(n))+", "+fu(ec.transform(r))+")"},Ut={test:t=>Ks.test(t)||Sy.test(t)||ea.test(t),parse:t=>Ks.test(t)?Ks.parse(t):ea.test(t)?ea.parse(t):Sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ks.transform(t):ea.transform(t)},J6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Aw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(J6))===null||n===void 0?void 0:n.length)||0)>0}const Kk="number",Gk="color",eW="var",tW="var(",d1="${}",nW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(nW,l=>(Ut.test(l)?(r.color.push(s),i.push(Gk),n.push(Ut.parse(l))):l.startsWith(tW)?(r.var.push(s),i.push(eW),n.push(l)):(r.number.push(s),i.push(Kk),n.push(parseFloat(l))),++s,d1)).split(d1);return{values:n,split:a,indexes:r,types:i}}function Qk(t){return nc(t).values}function Yk(t){const{split:e,types:n}=nc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Kk?s+=fu(i[o]):a===Gk?s+=Ut.transform(i[o]):s+=i[o]}return s}}const rW=t=>typeof t=="number"?0:t;function iW(t){const e=Qk(t);return Yk(t)(e.map(rW))}const Ss={test:Z6,parse:Qk,createTransformer:Yk,getAnimatableNone:iW},sW=new Set(["brightness","contrast","saturate","opacity"]);function oW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Aw)||[];if(!r)return t;const i=n.replace(r,"");let s=sW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const aW=/\b([a-z-]*)\(.*?\)/gu,Cy={...Ss,getAnimatableNone:t=>{const e=t.match(aW);return e?e.map(oW).join(" "):t}},lW={...yw,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Cy,WebkitFilter:Cy},Xk=t=>lW[t];function Jk(t,e){let n=Xk(t);return n!==Cy&&(n=Ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uW=new Set(["auto","none","0"]);function cW(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!uW.has(s)&&nc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Jk(n,i)}const Gs=t=>t*180/Math.PI,by=t=>{const e=Gs(Math.atan2(t[1],t[0]));return Ay(e)},dW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:by,rotateZ:by,skewX:t=>Gs(Math.atan(t[1])),skewY:t=>Gs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ay=t=>(t=t%360,t<0&&(t+=360),t),h1=by,f1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),p1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f1,scaleY:p1,scale:t=>(f1(t)+p1(t))/2,rotateX:t=>Ay(Gs(Math.atan2(t[6],t[5]))),rotateY:t=>Ay(Gs(Math.atan2(-t[2],t[0]))),rotateZ:h1,rotate:h1,skewX:t=>Gs(Math.atan(t[4])),skewY:t=>Gs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function m1(t){return t.includes("scale")?1:0}function Py(t,e){if(!t||t==="none")return m1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=hW,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dW,i=a}if(!i)return m1(e);const s=r[e],o=i[1].split(",").map(pW);return typeof s=="function"?s(o):o[s]}const fW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Py(n,e)};function pW(t){return parseFloat(t.trim())}const g1=t=>t===hl||t===he,mW=new Set(["x","y","z"]),gW=dl.filter(t=>!mW.has(t));function yW(t){const e=[];return gW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Py(e,"x"),y:(t,{transform:e})=>Py(e,"y")};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const so=new Set;let Iy=!1,Ry=!1;function Zk(){if(Ry){const t=Array.from(so).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=yW(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ry=!1,Iy=!1,so.forEach(t=>t.complete()),so.clear()}function eN(){so.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ry=!0)})}function vW(){eN(),Zk()}class Iw{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(so.add(this),Iy||(Iy=!0,Ue.read(eN),Ue.resolveKeyframes(Zk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),so.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,so.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _W(t){const e=wW.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nN(t,e,n=1){const[r,i]=_W(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return tN(o)?parseFloat(o):o}return gw(i)?nN(i,e,n+1):i}const rN=t=>e=>e.test(t),EW={test:t=>t==="auto",parse:t=>t},iN=[hl,he,Nr,ki,v6,y6,EW],y1=t=>iN.find(rN(t));class sN extends Iw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),gw(c))){const d=nN(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Ok.has(r)||e.length!==2)return;const[i,s]=e,o=y1(i),a=y1(s);if(o!==a)if(g1(o)&&g1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)K6(e[i])&&r.push(i);r.length&&cW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ga[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ga[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const v1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ss.test(t)||t==="0")&&!t.startsWith("url("));function TW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=v1(i,e),a=v1(s,e);return!o||!a?!1:TW(t)||(n==="spring"||lw(n))&&r}const SW=t=>t!==null;function lp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(SW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const CW=40;class oN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vW(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!xW(e,r,i,s))if(o)this.options.duration=0;else{l&&l(lp(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ge=(t,e,n)=>t+(e-t)*n;function Tm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Tm(l,a,t+1/3),s=Tm(l,a,t),o=Tm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ef(t,e){return n=>n>0?e:t}const xm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},AW=[Sy,Ks,ea],PW=t=>AW.find(e=>e.test(t));function w1(t){const e=PW(t);if(!e)return!1;let n=e.parse(t);return e===ea&&(n=bW(n)),n}const _1=(t,e)=>{const n=w1(t),r=w1(e);if(!n||!r)return ef(t,e);const i={...n};return s=>(i.red=xm(n.red,r.red,s),i.green=xm(n.green,r.green,s),i.blue=xm(n.blue,r.blue,s),i.alpha=Ge(n.alpha,r.alpha,s),Ks.transform(i))},IW=(t,e)=>n=>e(t(n)),Pc=(...t)=>t.reduce(IW),ky=new Set(["none","hidden"]);function RW(t,e){return ky.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kW(t,e){return n=>Ge(t,e,n)}function Rw(t){return typeof t=="number"?kW:typeof t=="string"?gw(t)?ef:Ut.test(t)?_1:VW:Array.isArray(t)?aN:typeof t=="object"?Ut.test(t)?_1:NW:ef}function aN(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Rw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function NW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Rw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function DW(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const VW=(t,e)=>{const n=Ss.createTransformer(e),r=nc(t),i=nc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ky.has(t)&&!i.values.length||ky.has(e)&&!r.values.length?RW(t,e):Pc(aN(DW(r,i),i.values),n):ef(t,e)};function lN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):Rw(t)(t,e)}const OW=5;function uN(t,e,n){const r=Math.max(e-OW,0);return uk(n-t(r),e-r)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sm=.001;function MW({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:r=et.mass}){let i,s,o=1-e;o=mi(et.minDamping,et.maxDamping,o),t=mi(et.minDuration,et.maxDuration,ii(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,m=Ny(c,o),w=Math.exp(-h);return Sm-f/m*w},s=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),_=Ny(Math.pow(c,2),o);return(-i(c)+Sm>0?-1:1)*((f-m)*w)/_}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Sm+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=FW(i,s,a);if(t=ri(t),isNaN(l))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const LW=12;function FW(t,e,n){let r=n;for(let i=1;i<LW;i++)r=r-t(r)/e(r);return r}function Ny(t,e){return t*Math.sqrt(1-e*e)}const jW=["duration","bounce"],UW=["stiffness","damping","mass"];function E1(t,e){return e.some(n=>t[n]!==void 0)}function BW(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!E1(t,UW)&&E1(t,jW))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:et.mass,stiffness:i,damping:s}}else{const n=MW(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function cN(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=BW({...n,velocity:-ii(n.velocity||0)}),w=f||0,_=c/(2*Math.sqrt(l*d)),E=o-s,y=ii(Math.sqrt(l/d)),v=Math.abs(E)<5;r||(r=v?et.restSpeed.granular:et.restSpeed.default),i||(i=v?et.restDelta.granular:et.restDelta.default);let T;if(_<1){const D=Ny(y,_);T=M=>{const C=Math.exp(-_*y*M);return o-C*((w+_*y*E)/D*Math.sin(D*M)+E*Math.cos(D*M))}}else if(_===1)T=D=>o-Math.exp(-y*D)*(E+(w+y*E)*D);else{const D=y*Math.sqrt(_*_-1);T=M=>{const C=Math.exp(-_*y*M),x=Math.min(D*M,300);return o-C*((w+_*y*E)*Math.sinh(x)+D*E*Math.cosh(x))/D}}const k={calculatedDuration:m&&h||null,next:D=>{const M=T(D);if(m)a.done=D>=h;else{let C=0;_<1&&(C=D===0?ri(w):uN(T,D,M));const x=Math.abs(C)<=r,P=Math.abs(o-M)<=i;a.done=x&&P}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(ck(k),_y),M=dk(C=>k.next(D*C).value,D,30);return D+"ms "+M}};return k}function T1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,w=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let _=n*e;const E=h+_,y=o===void 0?E:o(E);y!==E&&(_=y-h);const v=x=>-_*Math.exp(-x/r),T=x=>y+v(x),k=x=>{const P=v(x),I=T(x);f.done=Math.abs(P)<=c,f.value=f.done?y:I};let D,M;const C=x=>{m(f.value)&&(D=x,M=cN({keyframes:[f.value,w(f.value)],velocity:uN(T,x,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:x=>{let P=!1;return!M&&D===void 0&&(P=!0,k(x),C(x)),D!==void 0&&x>=D?M.next(x-D):(!P&&k(x),f)}}}const $W=Ac(.42,0,1,1),zW=Ac(0,0,.58,1),dN=Ac(.42,0,.58,1),WW=t=>Array.isArray(t)&&typeof t[0]!="number",x1={linear:Rn,easeIn:$W,easeInOut:dN,easeOut:zW,circIn:bw,circInOut:Wk,circOut:zk,backIn:Cw,backInOut:Bk,backOut:Uk,anticipate:$k},S1=t=>{if(uw(t)){wy(t.length===4);const[e,n,r,i]=t;return Ac(e,n,r,i)}else if(typeof t=="string")return wy(x1[t]!==void 0),x1[t];return t};function HW(t,e,n){const r=[],i=n||lN,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rn:e;a=Pc(l,a)}r.push(a)}return r}function qW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(wy(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=HW(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=qa(t[h],t[h+1],d);return a[h](f)};return n?d=>c(mi(t[0],t[s-1],d)):c}function KW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qa(0,e,r);t.push(Ge(n,1,i))}}function GW(t){const e=[0];return KW(e,t.length-1),e}function QW(t,e){return t.map(n=>n*e)}function YW(t,e){return t.map(()=>e||dN).splice(0,t.length-1)}function tf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=WW(r)?r.map(S1):S1(r),s={done:!1,value:e[0]},o=QW(n&&n.length===e.length?n:GW(e),t),a=qW(o,e,{ease:Array.isArray(i)?i:YW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const XW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ue.update(e,!0),stop:()=>xs(e),now:()=>Ct.isProcessing?Ct.timestamp:kr.now()}},JW={decay:T1,inertia:T1,tween:tf,keyframes:tf,spring:cN},ZW=t=>t/100;class kw extends oN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Iw,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=lw(n)?n:JW[n]||tf;let l,c;a!==tf&&typeof e[0]!="number"&&(l=Pc(ZW,lN(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ck(d));const{calculatedDuration:h}=d,f=h+i,m=f*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:w,repeatDelay:_,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,k=s;if(m){const x=Math.min(this.currentTime,d)/h;let P=Math.floor(x),I=x%1;!I&&x>=1&&(I=1),I===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(w==="reverse"?(I=1-I,_&&(I-=_/h)):w==="mirror"&&(k=o)),T=mi(0,1,I)*h}const D=v?{done:!1,value:l[0]}:k.next(T);a&&(D.value=a(D.value));let{done:M}=D;!v&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(D.value=lp(l,this.options,i)),E&&E(D.value),C&&this.finish(),D}get duration(){const{resolved:e}=this;return e?ii(e.calculatedDuration):0}get time(){return ii(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=XW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const eH=new Set(["opacity","clipPath","filter","transform"]);function tH(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=fk(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const nH=sw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nf=10,rH=2e4;function iH(t){return lw(t.type)||t.type==="spring"||!hk(t.ease)}function sH(t,e){const n=new kw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<rH;)r=n.sample(s),i.push(r.value),s+=nf;return{times:void 0,keyframes:i,duration:s-nf,ease:"linear"}}const hN={anticipate:$k,backInOut:Bk,circInOut:Wk};function oH(t){return t in hN}class C1 extends oN{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new sN(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Jh()&&oH(s)&&(s=hN[s]),iH(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:w,..._}=this.options,E=sH(e,_);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,s=E.ease,o="keyframes"}const d=tH(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Xx(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(lp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ii(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ii(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Rn;const{animation:r}=n;Xx(r,e)}return Rn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...m}=this.options,w=new kw({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=ri(this.time);c.setWithVelocity(w.sample(_-nf).value,w.sample(_).value,nf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return nH()&&r&&eH.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const aH={type:"spring",stiffness:500,damping:25,restSpeed:10},lH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uH={type:"keyframes",duration:.8},cH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dH=(t,{keyframes:e})=>e.length>2?uH:Co.has(t)?t.startsWith("scale")?lH(e[1]):aH:cH;function hH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Nw=(t,e,n,r={},i,s)=>o=>{const a=aw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ri(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};hH(a)||(d={...d,...dH(t,d)}),d.duration&&(d.duration=ri(d.duration)),d.repeatDelay&&(d.repeatDelay=ri(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=lp(d.keyframes,a);if(f!==void 0)return Ue.update(()=>{d.onUpdate(f),d.onComplete()}),new Mz([])}return!s&&C1.supports(d)?new C1(d):new kw(d)};function fH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&fH(d,h))continue;const w={delay:n,...aw(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const y=Mk(t);if(y){const v=window.MotionHandoffAnimation(y,h,Ue);v!==null&&(w.startTime=v,_=!0)}}xy(t,h),f.start(Nw(h,f,m,t.shouldReduceMotion&&Ok.has(h)?{type:!1}:w,t,_));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{Ue.update(()=>{a&&$6(t,a)})}),c}function Dy(t,e,n={}){var r;const i=tc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(fN(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return pH(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function pH(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(mH).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Dy(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function mH(t,e){return t.sortNodePosition(e)}function gH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Dy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Dy(t,e,n);else{const i=typeof e=="function"?tc(t,e,n.custom):e;r=Promise.all(fN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const yH=fw.length;function mN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yH;n++){const r=fw[n],i=t.props[r];(Ju(i)||i===!1)&&(e[r]=i)}return e}const vH=[...hw].reverse(),wH=hw.length;function _H(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gH(t,n,r)))}function EH(t){let e=_H(t),n=b1(),r=!0;const i=l=>(c,d)=>{var h;const f=tc(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:w,..._}=f;c={...c,..._,...w}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=mN(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let E=0;E<wH;E++){const y=vH[E],v=n[y],T=c[y]!==void 0?c[y]:d[y],k=Ju(T),D=y===l?v.isActive:null;D===!1&&(w=E);let M=T===d[y]&&T!==c[y]&&k;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),v.protectedKeys={...m},!v.isActive&&D===null||!T&&!v.prevProp||op(T)||typeof T=="boolean")continue;const C=TH(v.prevProp,T);let x=C||y===l&&v.isActive&&!M&&k||E>w&&k,P=!1;const I=Array.isArray(T)?T:[T];let V=I.reduce(i(y),{});D===!1&&(V={});const{prevResolvedValues:N={}}=v,R={...N,...V},q=ee=>{x=!0,f.has(ee)&&(P=!0,f.delete(ee)),v.needsAnimating[ee]=!0;const j=t.getValue(ee);j&&(j.liveStyle=!1)};for(const ee in R){const j=V[ee],K=N[ee];if(m.hasOwnProperty(ee))continue;let te=!1;Ty(j)&&Ty(K)?te=!pN(j,K):te=j!==K,te?j!=null?q(ee):f.add(ee):j!==void 0&&f.has(ee)?q(ee):v.protectedKeys[ee]=!0}v.prevProp=T,v.prevResolvedValues=V,v.isActive&&(m={...m,...V}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(M&&C)||P)&&h.push(...I.map(ee=>({animation:ee,options:{type:y}})))}if(f.size){const E={};if(typeof c.initial!="boolean"){const y=tc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(E.transition=y.transition)}f.forEach(y=>{const v=t.getBaseTarget(y),T=t.getValue(y);T&&(T.liveStyle=!0),E[y]=v??null}),h.push({animation:E})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=b1(),r=!0}}}function TH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pN(e,t):!1}function Fs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b1(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class Ds{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xH extends Ds{constructor(e){super(e),e.animationState||(e.animationState=EH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let SH=0;class CH extends Ds{constructor(){super(...arguments),this.id=SH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bH={animation:{Feature:xH},exit:{Feature:CH}};function rc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ic(t){return{point:{x:t.pageX,y:t.pageY}}}const AH=t=>e=>dw(e)&&t(e,Ic(e));function pu(t,e,n,r){return rc(t,e,AH(n),r)}function gN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yN=1e-4,RH=1-yN,kH=1+yN,vN=.01,NH=0-vN,DH=0+vN;function tn(t){return t.max-t.min}function VH(t,e,n){return Math.abs(t-e)<=n}function A1(t,e,n,r=.5){t.origin=r,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=RH&&t.scale<=kH||isNaN(t.scale))&&(t.scale=1),(t.translate>=NH&&t.translate<=DH||isNaN(t.translate))&&(t.translate=0)}function mu(t,e,n,r){A1(t.x,e.x,n.x,r?r.originX:void 0),A1(t.y,e.y,n.y,r?r.originY:void 0)}function P1(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function OH(t,e,n){P1(t.x,e.x,n.x),P1(t.y,e.y,n.y)}function I1(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function gu(t,e,n){I1(t.x,e.x,n.x),I1(t.y,e.y,n.y)}const R1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ta=()=>({x:R1(),y:R1()}),k1=()=>({min:0,max:0}),it=()=>({x:k1(),y:k1()});function jn(t){return[t("x"),t("y")]}function Cm(t){return t===void 0||t===1}function Vy({scale:t,scaleX:e,scaleY:n}){return!Cm(t)||!Cm(e)||!Cm(n)}function $s(t){return Vy(t)||wN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wN(t){return N1(t.x)||N1(t.y)}function N1(t){return t&&t!=="0%"}function rf(t,e,n){const r=t-n,i=e*r;return n+i}function D1(t,e,n,r,i){return i!==void 0&&(t=rf(t,i,r)),rf(t,n,r)+e}function Oy(t,e=0,n=1,r,i){t.min=D1(t.min,e,n,r,i),t.max=D1(t.max,e,n,r,i)}function _N(t,{x:e,y:n}){Oy(t.x,e.translate,e.scale,e.originPoint),Oy(t.y,n.translate,n.scale,n.originPoint)}const V1=.999999999999,O1=1.0000000000001;function MH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ra(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_N(t,o)),r&&$s(s.latestValues)&&ra(t,s.latestValues))}e.x<O1&&e.x>V1&&(e.x=1),e.y<O1&&e.y>V1&&(e.y=1)}function na(t,e){t.min=t.min+e,t.max=t.max+e}function M1(t,e,n,r,i=.5){const s=Ge(t.min,t.max,i);Oy(t,e,n,s,r)}function ra(t,e){M1(t.x,e.x,e.scaleX,e.scale,e.originX),M1(t.y,e.y,e.scaleY,e.scale,e.originY)}function EN(t,e){return gN(IH(t.getBoundingClientRect(),e))}function LH(t,e,n){const r=EN(t,n),{scroll:i}=e;return i&&(na(r.x,i.offset.x),na(r.y,i.offset.y)),r}const TN=({current:t})=>t?t.ownerDocument.defaultView:null,L1=(t,e)=>Math.abs(t-e);function FH(t,e){const n=L1(t.x,e.x),r=L1(t.y,e.y);return Math.sqrt(n**2+r**2)}class xN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Am(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=FH(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=h,{timestamp:_}=Ct;this.history.push({...w,timestamp:_});const{onStart:E,onMove:y}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=bm(f,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Am(h.type==="pointercancel"?this.lastMoveEventInfo:bm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,E),w&&w(h,E)},!dw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ic(e),a=bm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ct;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Am(a,this.history)),this.removeListeners=Pc(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function bm(t,e){return e?{point:e(t.point)}:t}function F1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Am({point:t},e){return{point:t,delta:F1(t,SN(e)),offset:F1(t,jH(e)),velocity:UH(e,.1)}}function jH(t){return t[0]}function SN(t){return t[t.length-1]}function UH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const s=ii(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function BH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ge(n,t,r.max):Math.min(t,n)),t}function j1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $H(t,{top:e,left:n,bottom:r,right:i}){return{x:j1(t.x,n,i),y:j1(t.y,e,r)}}function U1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zH(t,e){return{x:U1(t.x,e.x),y:U1(t.y,e.y)}}function WH(t,e){let n=.5;const r=tn(t),i=tn(e);return i>r?n=qa(e.min,e.max-r,t.min):r>i&&(n=qa(t.min,t.max-i,e.min)),mi(0,1,n)}function HH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const My=.35;function qH(t=My){return t===!1?t=0:t===!0&&(t=My),{x:B1(t,"left","right"),y:B1(t,"top","bottom")}}function B1(t,e,n){return{min:$1(t,e),max:$1(t,n)}}function $1(t,e){return typeof t=="number"?t:t[e]||0}const KH=new WeakMap;class GH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ic(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:w}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$z(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(E=>{let y=this.getAxisMotionValue(E).get()||0;if(Nr.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[E];T&&(y=tn(T)*(parseFloat(y)/100))}}this.originPoint[E]=y}),w&&Ue.postRender(()=>w(d,h)),xy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(m&&this.currentDirection===null){this.currentDirection=QH(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>jn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:TN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ue.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=BH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Zo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=$H(i.layoutBox,n):this.constraints=!1,this.elastic=qH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=LH(r,i.root,this.visualElement.getTransformPagePoint());let o=zH(i.layout.layoutBox,s);if(n){const a=n(PH(o));this.hasMutatedConstraints=!!a,a&&(o=gN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=jn(d=>{if(!xd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xy(this.visualElement,e),r.start(Nw(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=WH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(o=>{if(!xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ge(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;KH.set(this.visualElement,this);const e=this.visualElement.current,n=pu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ue.read(r);const o=rc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=My,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YH extends Ds{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new GH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const z1=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class XH extends Ds{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new xN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:z1(e),onStart:z1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ue.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=W1(t,e.target.x),r=W1(t,e.target.y);return`${n}% ${r}%`}},JH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ss.parse(t);if(i.length>5)return r;const s=Ss.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ge(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class ZH extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;g6(e7),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ue.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CN(t){const[e,n]=Nz(),r=S.useContext(ak);return b.jsx(ZH,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Tk),isPresent:e,safeToRemove:n})}const e7={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:JH};function t7(t,e,n){const r=Wt(t)?t:Xu(t);return r.start(Nw("",r,e,n)),r.animation}function n7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const r7=(t,e)=>t.depth-e.depth;class i7{constructor(){this.children=[],this.isDirty=!1}add(e){rw(this.children,e),this.isDirty=!0}remove(e){iw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r7),this.isDirty=!1,this.children.forEach(e)}}function s7(t,e){const n=kr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xs(r),t(s-e))};return Ue.read(r,!0),()=>xs(r)}const bN=["TopLeft","TopRight","BottomLeft","BottomRight"],o7=bN.length,H1=t=>typeof t=="string"?parseFloat(t):t,q1=t=>typeof t=="number"||he.test(t);function a7(t,e,n,r,i,s){i?(t.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,l7(r)),t.opacityExit=Ge(e.opacity!==void 0?e.opacity:1,0,u7(r))):s&&(t.opacity=Ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<o7;o++){const a=`border${bN[o]}Radius`;let l=K1(e,a),c=K1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||q1(l)===q1(c)?(t[a]=Math.max(Ge(H1(l),H1(c),r),0),(Nr.test(c)||Nr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,r))}function K1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l7=AN(0,.5,zk),u7=AN(.5,.95,Rn);function AN(t,e,n){return r=>r<t?0:r>e?1:n(qa(t,e,r))}function G1(t,e){t.min=e.min,t.max=e.max}function Fn(t,e){G1(t.x,e.x),G1(t.y,e.y)}function Q1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Y1(t,e,n,r,i){return t-=e,t=rf(t,1/n,r),i!==void 0&&(t=rf(t,1/i,r)),t}function c7(t,e=0,n=1,r=.5,i,s=t,o=t){if(Nr.test(e)&&(e=parseFloat(e),e=Ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ge(s.min,s.max,r);t===s&&(a-=e),t.min=Y1(t.min,e,n,a,i),t.max=Y1(t.max,e,n,a,i)}function X1(t,e,[n,r,i],s,o){c7(t,e[n],e[r],e[i],e.scale,s,o)}const d7=["x","scaleX","originX"],h7=["y","scaleY","originY"];function J1(t,e,n,r){X1(t.x,e,d7,n?n.x:void 0,r?r.x:void 0),X1(t.y,e,h7,n?n.y:void 0,r?r.y:void 0)}function Z1(t){return t.translate===0&&t.scale===1}function PN(t){return Z1(t.x)&&Z1(t.y)}function eS(t,e){return t.min===e.min&&t.max===e.max}function f7(t,e){return eS(t.x,e.x)&&eS(t.y,e.y)}function tS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IN(t,e){return tS(t.x,e.x)&&tS(t.y,e.y)}function nS(t){return tn(t.x)/tn(t.y)}function rS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class p7{constructor(){this.members=[]}add(e){rw(this.members,e),e.scheduleRender()}remove(e){if(iw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m7(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Pm=["","X","Y","Z"],g7={visibility:"hidden"},iS=1e3;let y7=0;function Im(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Mk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RN(r)}function kN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=y7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_7),this.nodes.forEach(C7),this.nodes.forEach(b7),this.nodes.forEach(E7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new i7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ow),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n7(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=s7(f,250),Zd.hasAnimatedSinceResize&&(Zd.hasAnimatedSinceResize=!1,this.nodes.forEach(oS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||k7,{onLayoutAnimationStart:E,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!IN(this.targetLayout,w),T=!f&&m;if(this.options.layoutRoot||this.resumeFrom||T||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const k={...aw(_,"layout"),onPlay:E,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||oS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sS);return}this.isUpdating||this.nodes.forEach(x7),this.isUpdating=!1,this.nodes.forEach(S7),this.nodes.forEach(v7),this.nodes.forEach(w7),this.clearAllSnapshots();const a=kr.now();Ct.delta=mi(0,1e3/60,a-Ct.timestamp),Ct.timestamp=a,Ct.isProcessing=!0,wm.update.process(Ct),wm.preRender.process(Ct),wm.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T7),this.sharedNodes.forEach(P7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!PN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||$s(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),N7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return it();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(D7))){const{scroll:d}=this.root;d&&(na(l.x,d.offset.x),na(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=it();if(Fn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Fn(l,o),na(l.x,h.offset.x),na(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=it();Fn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ra(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$s(d.latestValues)&&ra(l,d.latestValues)}return $s(this.latestValues)&&ra(l,this.latestValues),l}removeTransform(o){const a=it();Fn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$s(c.latestValues))continue;Vy(c.latestValues)&&c.updateSnapshot();const d=it(),h=c.measurePageBox();Fn(d,h),J1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return $s(this.latestValues)&&J1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),gu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),_N(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),gu(this.relativeTargetOrigin,this.target,m.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vy(this.parent.latestValues)||wN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Fn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;MH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=it());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q1(this.prevProjectionDelta.x,this.projectionDelta.x),Q1(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!rS(this.projectionDelta.x,this.prevProjectionDelta.x)||!rS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ta(),this.projectionDelta=ta(),this.projectionDeltaWithTransform=ta()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=m!==w,E=this.getStack(),y=!E||E.members.length<=1,v=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(R7));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const D=k/1e3;aS(h.x,o.x,D),aS(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I7(this.relativeTarget,this.relativeTargetOrigin,f,D),T&&f7(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=it()),Fn(T,this.relativeTarget)),_&&(this.animationValues=d,a7(d,c,this.latestValues,D,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{Zd.hasAnimatedSinceResize=!0,this.currentAnimation=t7(0,iS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&NN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const h=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Fn(a,l),ra(a,d),mu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new p7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Im("z",o,c,this.animationValues);for(let d=0;d<Pm.length;d++)Im(`rotate${Pm[d]}`,o,c,this.animationValues),Im(`skew${Pm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return g7;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Jd(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Jd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=m7(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Zu){if(f[_]===void 0)continue;const{correct:E,applyTo:y,isCSSVariable:v}=Zu[_],T=c.transform==="none"?f[_]:E(f[_],h);if(y){const k=y.length;for(let D=0;D<k;D++)c[y[D]]=T}else v?this.options.visualElement.renderState.vars[_]=T:c[_]=T}return this.options.layoutId&&(c.pointerEvents=h===this?Jd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(sS),this.root.sharedNodes.clear()}}}function v7(t){t.updateLayout()}function w7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?jn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(f);f.min=r[h].min,f.max=f.min+m}):NN(s,n.layoutBox,r)&&jn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=ta();mu(a,r,n.layoutBox);const l=ta();o?mu(l,t.applyTransform(i,!0),n.measuredBox):mu(l,r,n.layoutBox);const c=!PN(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=it();gu(w,n.layoutBox,f.layoutBox);const _=it();gu(_,r,m.layoutBox),IN(w,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T7(t){t.clearSnapshot()}function sS(t){t.clearMeasurements()}function x7(t){t.isLayoutDirty=!1}function S7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C7(t){t.resolveTargetDelta()}function b7(t){t.calcProjection()}function A7(t){t.resetSkewAndRotation()}function P7(t){t.removeLeadSnapshot()}function aS(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lS(t,e,n,r){t.min=Ge(e.min,n.min,r),t.max=Ge(e.max,n.max,r)}function I7(t,e,n,r){lS(t.x,e.x,n.x,r),lS(t.y,e.y,n.y,r)}function R7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k7={duration:.45,ease:[.4,0,.1,1]},uS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cS=uS("applewebkit/")&&!uS("chrome/")?Math.round:Rn;function dS(t){t.min=cS(t.min),t.max=cS(t.max)}function N7(t){dS(t.x),dS(t.y)}function NN(t,e,n){return t==="position"||t==="preserve-aspect"&&!VH(nS(e),nS(n),.2)}function D7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const V7=kN({attachResizeListener:(t,e)=>rc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rm={current:void 0},DN=kN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rm.current){const t=new V7({});t.mount(window),t.setOptions({layoutScroll:!0}),Rm.current=t}return Rm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),O7={pan:{Feature:XH},drag:{Feature:YH,ProjectionNode:DN,MeasureLayout:CN}};function hS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ue.postRender(()=>s(e,Ic(e)))}class M7 extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=Wz(e,(n,r)=>(hS(this.node,r,"Start"),i=>hS(this.node,i,"End"))))}unmount(){}}class L7 extends Ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(rc(this.node.current,"focus",()=>this.onFocus()),rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ue.postRender(()=>s(e,Ic(e)))}class F7 extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=Gz(e,(n,r)=>(fS(this.node,r,"Start"),(i,{success:s})=>fS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,km=new WeakMap,j7=t=>{const e=Ly.get(t.target);e&&e(t)},U7=t=>{t.forEach(j7)};function B7({root:t,...e}){const n=t||document;km.has(n)||km.set(n,{});const r=km.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(U7,{root:t,...e})),r[i]}function $7(t,e,n){const r=B7(e);return Ly.set(t,n),r.observe(t),()=>{Ly.delete(t),r.unobserve(t)}}const z7={some:0,all:1};class W7 extends Ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:z7[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return $7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(H7(e,n))&&this.startObserver()}unmount(){}}function H7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const q7={inView:{Feature:W7},tap:{Feature:F7},focus:{Feature:L7},hover:{Feature:M7}},K7={layout:{ProjectionNode:DN,MeasureLayout:CN}},Fy={current:null},VN={current:!1};function G7(){if(VN.current=!0,!!tw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fy.current=t.matches;t.addListener(e),e()}else Fy.current=!1}const Q7=[...iN,Ut,Ss],Y7=t=>Q7.find(rN(t)),X7=new WeakMap;function J7(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Wt(i))t.addValue(r,i);else if(Wt(s))t.addValue(r,Xu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Xu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const pS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=kr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ue.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ap(n),this.isVariantNode=_k(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const w=f[m];l[m]!==void 0&&Wt(w)&&w.set(l[m],!1)}}mount(e){this.current=e,X7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VN.current||G7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Co.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ka){const n=Ka[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pS.length;r++){const i=pS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=J7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(tN(i)||Hk(i))?i=parseFloat(i):!Y7(i)&&Ss.test(n)&&(i=Jk(e,n)),this.setBaseTarget(e,Wt(i)?i.get():i)),Wt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=xw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ow),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ON extends Z7{constructor(){super(...arguments),this.KeyframeResolver=sN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function e8(t){return window.getComputedStyle(t)}class t8 extends ON{constructor(){super(...arguments),this.type="html",this.renderInstance=kk}readValueFromInstance(e,n){if(Co.has(n))return fW(e,n);{const r=e8(e),i=(mw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EN(e,n)}build(e,n,r){vw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sw(e,n,r)}}class n8 extends ON{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Rk(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Co.has(n)){const r=Xk(n);return r&&r.default||0}return n=Nk.has(n)?n:pw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Vk(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ue.postRender(this.updateDimensions)}build(e,n,r){Ew(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Dk(e,n,r,i)}mount(e){this.isSVGTag=Tw(e.tagName),super.mount(e)}}const r8=(t,e)=>_w(t)?new n8(e):new t8(e,{allowProjection:t!==S.Fragment}),i8=U6({...bH,...q7,...O7,...K7},r8),Dw=n6(i8),s8=()=>b.jsx("div",{className:"mb-8",children:b.jsx(Dw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"tribunal-card bg-gradient-to-r from-tribunal-blue to-tribunal-blue/90 text-white",children:b.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Bem-vindo ao SIAAP Subsídios"}),b.jsx("p",{className:"text-blue-100",children:"Tribunal de Contas dos Municípios do Estado de Goiás"})]}),b.jsx("button",{className:"tribunal-button mt-4 md:mt-0",children:"Acessar painel"})]})})}),o8=()=>{const t=ok(),[e,n]=S.useState(!t),r=()=>{n(!e)};return b.jsx("div",{className:"dashboard-theme",children:b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx(Iz,{isOpen:e,setIsOpen:n}),b.jsxs("div",{className:`transition-all duration-300 ${e?"ml-64":"ml-0"}`,children:[b.jsx(Pz,{toggleSidebar:r}),b.jsxs("main",{className:"p-4 md:p-6",children:[b.jsx(s8,{}),b.jsx(Dw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:b.jsxs("div",{className:"tribunal-card",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Processos"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("button",{className:"tribunal-button w-full justify-center",children:"Iniciar ou Editar"}),b.jsx("button",{className:"tribunal-button-secondary w-full justify-center",children:"Consultar"}),b.jsx("button",{className:"bg-white border border-gray-200 text-gray-700 font-medium py-2 px-6 rounded-md w-full transition-all duration-300 hover:bg-gray-50",children:"Administrador"})]})]})}),b.jsx("footer",{className:"mt-8 text-center text-gray-500 text-sm py-4",children:b.jsxs("p",{children:["Tribunal de Contas dos Municípios do Estado de Goiás © ",new Date().getFullYear()]})})]})]})]})})},a8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let l8=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=a8[n[t]&63];return e};var up={},u8=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},c8=u8,mS={"text/plain":"Text","text/html":"Url",default:"Text"},d8="Copy to clipboard: #{key}, Enter";function h8(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function f8(t,e){var n,r,i,s,o,a,l=!1;e||(e={}),n=e.debug||!1;try{i=c8(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),e.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=mS[e.format]||mS.default;window.clipboardData.setData(h,t)}else d.clipboardData.clearData(),d.clipboardData.setData(e.format,t);e.onCopy&&(d.preventDefault(),e.onCopy(d.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=h8("message"in e?e.message:d8),window.prompt(r,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),i()}return l}var p8=f8;function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}Object.defineProperty(up,"__esModule",{value:!0});up.CopyToClipboard=void 0;var Sd=MN(S),m8=MN(p8),g8=["text","onCopy","options","children"];function MN(t){return t&&t.__esModule?t:{default:t}}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){Vw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y8(t,e){if(t==null)return{};var n=v8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E8(t,e,n){return e&&_8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Uy(t,e)}function x8(t){var e=C8();return function(){var r=sf(t),i;if(e){var s=sf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return S8(this,i)}}function S8(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LN(t)}function LN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function Vw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var FN=function(t){T8(n,t);var e=x8(n);function n(){var r;w8(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Vw(LN(r),"onClick",function(a){var l=r.props,c=l.text,d=l.onCopy,h=l.children,f=l.options,m=Sd.default.Children.only(h),w=(0,m8.default)(c,f);d&&d(c,w),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return E8(n,[{key:"render",value:function(){var i=this.props;i.text,i.onCopy,i.options;var s=i.children,o=y8(i,g8),a=Sd.default.Children.only(s);return Sd.default.cloneElement(a,yS(yS({},o),{},{onClick:this.onClick}))}}]),n}(Sd.default.PureComponent);up.CopyToClipboard=FN;Vw(FN,"defaultProps",{onCopy:void 0,options:void 0});var b8=up,By=b8.CopyToClipboard;By.CopyToClipboard=By;var A8=By;const $y=S.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:ft("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$y.displayName="Card";const jN=S.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:ft("flex flex-col space-y-1.5 p-6",t),...e}));jN.displayName="CardHeader";const UN=S.forwardRef(({className:t,...e},n)=>b.jsx("h3",{ref:n,className:ft("text-2xl font-semibold leading-none tracking-tight",t),...e}));UN.displayName="CardTitle";const P8=S.forwardRef(({className:t,...e},n)=>b.jsx("p",{ref:n,className:ft("text-sm text-muted-foreground",t),...e}));P8.displayName="CardDescription";const zy=S.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:ft("p-6 pt-0",t),...e}));zy.displayName="CardContent";const I8=S.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:ft("flex items-center p-6 pt-0",t),...e}));I8.displayName="CardFooter";const Fo=S.forwardRef(({className:t,type:e,...n},r)=>b.jsx("input",{type:e,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Fo.displayName="Input";const R8=Wv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jo=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Na:"button";return b.jsx(o,{className:ft(R8({variant:e,size:n,className:t})),ref:s,...i})});jo.displayName="Button";var Rc=t=>t.type==="checkbox",Qs=t=>t instanceof Date,Zt=t=>t==null;const BN=t=>typeof t=="object";var lt=t=>!Zt(t)&&!Array.isArray(t)&&BN(t)&&!Qs(t),$N=t=>lt(t)&&t.target?Rc(t.target)?t.target.checked:t.target.value:t,k8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zN=(t,e)=>t.has(k8(e)),N8=t=>{const e=t.constructor&&t.constructor.prototype;return lt(e)&&e.hasOwnProperty("isPrototypeOf")},Ow=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ow&&(t instanceof Blob||t instanceof FileList))&&(n||lt(t)))if(e=n?[]:{},!n&&!N8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=dn(t[r]));else return t;return e}var cp=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,J=(t,e,n)=>{if(!e||!lt(t))return n;const r=cp(e.split(/[,[\].]+?/)).reduce((i,s)=>Zt(i)?i:i[s],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},Bn=t=>typeof t=="boolean",Mw=t=>/^\w*$/.test(t),WN=t=>cp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(t,e,n)=>{let r=-1;const i=Mw(e)?[e]:WN(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=lt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const of={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HN=W.createContext(null),dp=()=>W.useContext(HN),D8=t=>{const{children:e,...n}=t;return W.createElement(HN.Provider,{value:n},e)};var qN=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ir.all&&(e._proxyFormState[o]=!r||ir.all),n&&(n[o]=!0),t[o]}});return i},hn=t=>lt(t)&&!Object.keys(t).length,KN=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return hn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ir.all))},yu=t=>Array.isArray(t)?t:[t],GN=(t,e,n)=>!t||!e||t===e||yu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Lw(t){const e=W.useRef(t);e.current=t,W.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function V8(t){const e=dp(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=W.useState(n._formState),l=W.useRef(!0),c=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=W.useRef(i);return d.current=i,Lw({disabled:r,next:h=>l.current&&GN(d.current,h.name,s)&&KN(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),W.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),qN(o,n,c.current,!1)}var Sr=t=>typeof t=="string",QN=(t,e,n,r,i)=>Sr(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n);function O8(t){const e=dp(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=W.useRef(r);a.current=r,Lw({disabled:s,subject:n._subjects.values,next:d=>{GN(a.current,d.name,o)&&c(dn(QN(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=W.useState(n._getWatch(r,i));return W.useEffect(()=>n._removeUnmounted()),l}function M8(t){const e=dp(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=zN(i._names.array,n),a=O8({control:i,name:n,defaultValue:J(i._formValues,n,J(i._defaultValues,n,t.defaultValue)),exact:!0}),l=V8({control:i,name:n,exact:!0}),c=W.useRef(i.register(n,{...t.rules,value:a,...Bn(t.disabled)?{disabled:t.disabled}:{}}));return W.useEffect(()=>{const d=i._options.shouldUnregister||s,h=(f,m)=>{const w=J(i._fields,f);w&&w._f&&(w._f.mount=m)};if(h(n,!0),d){const f=dn(J(i._options.defaultValues,n));Fe(i._defaultValues,n,f),nt(J(i._formValues,n))&&Fe(i._formValues,n,f)}return()=>{(o?d&&!i._state.action:d)?i.unregister(n):h(n,!1)}},[n,i,o,s]),W.useEffect(()=>{J(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:J(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Bn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:W.useCallback(d=>c.current.onChange({target:{value:$N(d),name:n},type:of.CHANGE}),[n]),onBlur:W.useCallback(()=>c.current.onBlur({target:{value:J(i._formValues,n),name:n},type:of.BLUR}),[n,i]),ref:W.useCallback(d=>{const h=J(i._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!J(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!J(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!J(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!J(l.validatingFields,n)},error:{enumerable:!0,get:()=>J(l.errors,n)}})}}const L8=t=>t.render(M8(t));var F8=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},vS=t=>({isOnSubmit:!t||t===ir.onSubmit,isOnBlur:t===ir.onBlur,isOnChange:t===ir.onChange,isOnAll:t===ir.all,isOnTouch:t===ir.onTouched}),wS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const vu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(vu(a,e))break}else if(lt(a)&&vu(a,e))break}}};var j8=(t,e,n)=>{const r=yu(J(t,n));return Fe(r,"root",e[n]),Fe(t,n,r),t},Fw=t=>t.type==="file",Zr=t=>typeof t=="function",af=t=>{if(!Ow)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},eh=t=>Sr(t),jw=t=>t.type==="radio",lf=t=>t instanceof RegExp;const _S={value:!1,isValid:!1},ES={value:!0,isValid:!0};var YN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?ES:{value:t[0].value,isValid:!0}:ES:_S}return _S};const TS={isValid:!1,value:null};var XN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,TS):TS;function xS(t,e,n="validate"){if(eh(t)||Array.isArray(t)&&t.every(eh)||Bn(t)&&!t)return{type:n,message:eh(t)?t:"",ref:e}}var Do=t=>lt(t)&&!lf(t)?t:{value:t,message:""},SS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:h,pattern:f,validate:m,name:w,valueAsNumber:_,mount:E,disabled:y}=t._f,v=J(e,w);if(!E||y)return{};const T=o?o[0]:s,k=N=>{r&&T.reportValidity&&(T.setCustomValidity(Bn(N)?"":N||""),T.reportValidity())},D={},M=jw(s),C=Rc(s),x=M||C,P=(_||Fw(s))&&nt(s.value)&&nt(v)||af(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,I=F8.bind(null,w,n,D),V=(N,R,q,oe=Wr.maxLength,ae=Wr.minLength)=>{const ee=N?R:q;D[w]={type:N?oe:ae,message:ee,ref:s,...I(N?oe:ae,ee)}};if(i?!Array.isArray(v)||!v.length:a&&(!x&&(P||Zt(v))||Bn(v)&&!v||C&&!YN(o).isValid||M&&!XN(o).isValid)){const{value:N,message:R}=eh(a)?{value:!!a,message:a}:Do(a);if(N&&(D[w]={type:Wr.required,message:R,ref:T,...I(Wr.required,R)},!n))return k(R),D}if(!P&&(!Zt(d)||!Zt(h))){let N,R;const q=Do(h),oe=Do(d);if(!Zt(v)&&!isNaN(v)){const ae=s.valueAsNumber||v&&+v;Zt(q.value)||(N=ae>q.value),Zt(oe.value)||(R=ae<oe.value)}else{const ae=s.valueAsDate||new Date(v),ee=te=>new Date(new Date().toDateString()+" "+te),j=s.type=="time",K=s.type=="week";Sr(q.value)&&v&&(N=j?ee(v)>ee(q.value):K?v>q.value:ae>new Date(q.value)),Sr(oe.value)&&v&&(R=j?ee(v)<ee(oe.value):K?v<oe.value:ae<new Date(oe.value))}if((N||R)&&(V(!!N,q.message,oe.message,Wr.max,Wr.min),!n))return k(D[w].message),D}if((l||c)&&!P&&(Sr(v)||i&&Array.isArray(v))){const N=Do(l),R=Do(c),q=!Zt(N.value)&&v.length>+N.value,oe=!Zt(R.value)&&v.length<+R.value;if((q||oe)&&(V(q,N.message,R.message),!n))return k(D[w].message),D}if(f&&!P&&Sr(v)){const{value:N,message:R}=Do(f);if(lf(N)&&!v.match(N)&&(D[w]={type:Wr.pattern,message:R,ref:s,...I(Wr.pattern,R)},!n))return k(R),D}if(m){if(Zr(m)){const N=await m(v,e),R=xS(N,T);if(R&&(D[w]={...R,...I(Wr.validate,R.message)},!n))return k(R.message),D}else if(lt(m)){let N={};for(const R in m){if(!hn(N)&&!n)break;const q=xS(await m[R](v,e),T,R);q&&(N={...q,...I(R,q.message)},k(q.message),n&&(D[w]=N))}if(!hn(N)&&(D[w]={ref:T,...N},!n))return D}}return k(!0),D};function U8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function B8(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function mt(t,e){const n=Array.isArray(e)?e:Mw(e)?[e]:WN(e),r=n.length===1?t:U8(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(lt(r)&&hn(r)||Array.isArray(r)&&B8(r))&&mt(t,n.slice(0,-1)),t}var Nm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Wy=t=>Zt(t)||!BN(t);function Bi(t,e){if(Wy(t)||Wy(e))return t===e;if(Qs(t)&&Qs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Qs(s)&&Qs(o)||lt(s)&&lt(o)||Array.isArray(s)&&Array.isArray(o)?!Bi(s,o):s!==o)return!1}}return!0}var JN=t=>t.type==="select-multiple",$8=t=>jw(t)||Rc(t),Dm=t=>af(t)&&t.isConnected,ZN=t=>{for(const e in t)if(Zr(t[e]))return!0;return!1};function uf(t,e={}){const n=Array.isArray(t);if(lt(t)||n)for(const r in t)Array.isArray(t[r])||lt(t[r])&&!ZN(t[r])?(e[r]=Array.isArray(t[r])?[]:{},uf(t[r],e[r])):Zt(t[r])||(e[r]=!0);return e}function eD(t,e,n){const r=Array.isArray(t);if(lt(t)||r)for(const i in t)Array.isArray(t[i])||lt(t[i])&&!ZN(t[i])?nt(e)||Wy(n[i])?n[i]=Array.isArray(t[i])?uf(t[i],[]):{...uf(t[i])}:eD(t[i],Zt(e)?{}:e[i],n[i]):n[i]=!Bi(t[i],e[i]);return n}var Ol=(t,e)=>eD(t,e,uf(e)),tD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&Sr(t)?new Date(t):r?r(t):t;function Vm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Fw(e)?e.files:jw(e)?XN(t.refs).value:JN(e)?[...e.selectedOptions].map(({value:n})=>n):Rc(e)?YN(t.refs).value:tD(nt(e.value)?t.ref.value:e.value,t)}var z8=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&Fe(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ml=t=>nt(t)?t:lf(t)?t.source:lt(t)?lf(t.value)?t.value.source:t.value:t;const CS="AsyncFunction";var W8=t=>(!t||!t.validate)&&!!(Zr(t.validate)&&t.validate.constructor.name===CS||lt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===CS)),H8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function bS(t,e,n){const r=J(t,n);if(r||Mw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var q8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,K8=(t,e)=>!cp(J(t,e)).length&&mt(t,e);const G8={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function Q8(t={}){let e={...G8,...t},n={submitCount:0,isDirty:!1,isLoading:Zr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=lt(e.defaultValues)||lt(e.values)?dn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:dn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Nm(),array:Nm(),state:Nm()},f=vS(e.mode),m=vS(e.reValidateMode),w=e.criteriaMode===ir.all,_=O=>L=>{clearTimeout(c),c=setTimeout(O,L)},E=async O=>{if(!t.disabled&&(d.isValid||O)){const L=e.resolver?hn((await x()).errors):await I(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},y=(O,L)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((O||Array.from(a.mount)).forEach(B=>{B&&(L?Fe(n.validatingFields,B,L):mt(n.validatingFields,B))}),h.state.next({validatingFields:n.validatingFields,isValidating:!hn(n.validatingFields)}))},v=(O,L=[],B,Z,Y=!0,G=!0)=>{if(Z&&B&&!t.disabled){if(o.action=!0,G&&Array.isArray(J(r,O))){const ue=B(J(r,O),Z.argA,Z.argB);Y&&Fe(r,O,ue)}if(G&&Array.isArray(J(n.errors,O))){const ue=B(J(n.errors,O),Z.argA,Z.argB);Y&&Fe(n.errors,O,ue),K8(n.errors,O)}if(d.touchedFields&&G&&Array.isArray(J(n.touchedFields,O))){const ue=B(J(n.touchedFields,O),Z.argA,Z.argB);Y&&Fe(n.touchedFields,O,ue)}d.dirtyFields&&(n.dirtyFields=Ol(i,s)),h.state.next({name:O,isDirty:N(O,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fe(s,O,L)},T=(O,L)=>{Fe(n.errors,O,L),h.state.next({errors:n.errors})},k=O=>{n.errors=O,h.state.next({errors:n.errors,isValid:!1})},D=(O,L,B,Z)=>{const Y=J(r,O);if(Y){const G=J(s,O,nt(B)?J(i,O):B);nt(G)||Z&&Z.defaultChecked||L?Fe(s,O,L?G:Vm(Y._f)):oe(O,G),o.mount&&E()}},M=(O,L,B,Z,Y)=>{let G=!1,ue=!1;const ye={name:O};if(!t.disabled){const Te=!!(J(r,O)&&J(r,O)._f&&J(r,O)._f.disabled);if(!B||Z){d.isDirty&&(ue=n.isDirty,n.isDirty=ye.isDirty=N(),G=ue!==ye.isDirty);const we=Te||Bi(J(i,O),L);ue=!!(!Te&&J(n.dirtyFields,O)),we||Te?mt(n.dirtyFields,O):Fe(n.dirtyFields,O,!0),ye.dirtyFields=n.dirtyFields,G=G||d.dirtyFields&&ue!==!we}if(B){const we=J(n.touchedFields,O);we||(Fe(n.touchedFields,O,B),ye.touchedFields=n.touchedFields,G=G||d.touchedFields&&we!==B)}G&&Y&&h.state.next(ye)}return G?ye:{}},C=(O,L,B,Z)=>{const Y=J(n.errors,O),G=d.isValid&&Bn(L)&&n.isValid!==L;if(t.delayError&&B?(l=_(()=>T(O,B)),l(t.delayError)):(clearTimeout(c),l=null,B?Fe(n.errors,O,B):mt(n.errors,O)),(B?!Bi(Y,B):Y)||!hn(Z)||G){const ue={...Z,...G&&Bn(L)?{isValid:L}:{},errors:n.errors,name:O};n={...n,...ue},h.state.next(ue)}},x=async O=>{y(O,!0);const L=await e.resolver(s,e.context,z8(O||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(O),L},P=async O=>{const{errors:L}=await x(O);if(O)for(const B of O){const Z=J(L,B);Z?Fe(n.errors,B,Z):mt(n.errors,B)}else n.errors=L;return L},I=async(O,L,B={valid:!0})=>{for(const Z in O){const Y=O[Z];if(Y){const{_f:G,...ue}=Y;if(G){const ye=a.array.has(G.name),Te=Y._f&&W8(Y._f);Te&&d.validatingFields&&y([Z],!0);const we=await SS(Y,s,w,e.shouldUseNativeValidation&&!L,ye);if(Te&&d.validatingFields&&y([Z]),we[G.name]&&(B.valid=!1,L))break;!L&&(J(we,G.name)?ye?j8(n.errors,we,G.name):Fe(n.errors,G.name,we[G.name]):mt(n.errors,G.name))}!hn(ue)&&await I(ue,L,B)}}return B.valid},V=()=>{for(const O of a.unMount){const L=J(r,O);L&&(L._f.refs?L._f.refs.every(B=>!Dm(B)):!Dm(L._f.ref))&&Ae(O)}a.unMount=new Set},N=(O,L)=>!t.disabled&&(O&&L&&Fe(s,O,L),!Bi(ne(),i)),R=(O,L,B)=>QN(O,a,{...o.mount?s:nt(L)?i:Sr(O)?{[O]:L}:L},B,L),q=O=>cp(J(o.mount?s:i,O,t.shouldUnregister?J(i,O,[]):[])),oe=(O,L,B={})=>{const Z=J(r,O);let Y=L;if(Z){const G=Z._f;G&&(!G.disabled&&Fe(s,O,tD(L,G)),Y=af(G.ref)&&Zt(L)?"":L,JN(G.ref)?[...G.ref.options].forEach(ue=>ue.selected=Y.includes(ue.value)):G.refs?Rc(G.ref)?G.refs.length>1?G.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(Y)?!!Y.find(ye=>ye===ue.value):Y===ue.value)):G.refs[0]&&(G.refs[0].checked=!!Y):G.refs.forEach(ue=>ue.checked=ue.value===Y):Fw(G.ref)?G.ref.value="":(G.ref.value=Y,G.ref.type||h.values.next({name:O,values:{...s}})))}(B.shouldDirty||B.shouldTouch)&&M(O,Y,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&te(O)},ae=(O,L,B)=>{for(const Z in L){const Y=L[Z],G=`${O}.${Z}`,ue=J(r,G);(a.array.has(O)||lt(Y)||ue&&!ue._f)&&!Qs(Y)?ae(G,Y,B):oe(G,Y,B)}},ee=(O,L,B={})=>{const Z=J(r,O),Y=a.array.has(O),G=dn(L);Fe(s,O,G),Y?(h.array.next({name:O,values:{...s}}),(d.isDirty||d.dirtyFields)&&B.shouldDirty&&h.state.next({name:O,dirtyFields:Ol(i,s),isDirty:N(O,G)})):Z&&!Z._f&&!Zt(G)?ae(O,G,B):oe(O,G,B),wS(O,a)&&h.state.next({...n}),h.values.next({name:o.mount?O:void 0,values:{...s}})},j=async O=>{o.mount=!0;const L=O.target;let B=L.name,Z=!0;const Y=J(r,B),G=()=>L.type?Vm(Y._f):$N(O),ue=ye=>{Z=Number.isNaN(ye)||Qs(ye)&&isNaN(ye.getTime())||Bi(ye,J(s,B,ye))};if(Y){let ye,Te;const we=G(),Qt=O.type===of.BLUR||O.type===of.FOCUS_OUT,Qn=!H8(Y._f)&&!e.resolver&&!J(n.errors,B)&&!Y._f.deps||q8(Qt,J(n.touchedFields,B),n.isSubmitted,m,f),jr=wS(B,a,Qt);Fe(s,B,we),Qt?(Y._f.onBlur&&Y._f.onBlur(O),l&&l(0)):Y._f.onChange&&Y._f.onChange(O);const Vs=M(B,we,Qt,!1),pr=!hn(Vs)||jr;if(!Qt&&h.values.next({name:B,type:O.type,values:{...s}}),Qn)return d.isValid&&(t.mode==="onBlur"?Qt&&E():E()),pr&&h.state.next({name:B,...jr?{}:Vs});if(!Qt&&jr&&h.state.next({...n}),e.resolver){const{errors:_i}=await x([B]);if(ue(we),Z){const Ao=bS(n.errors,r,B),mr=bS(_i,r,Ao.name||B);ye=mr.error,B=mr.name,Te=hn(_i)}}else y([B],!0),ye=(await SS(Y,s,w,e.shouldUseNativeValidation))[B],y([B]),ue(we),Z&&(ye?Te=!1:d.isValid&&(Te=await I(r,!0)));Z&&(Y._f.deps&&te(Y._f.deps),C(B,Te,ye,Vs))}},K=(O,L)=>{if(J(n.errors,L)&&O.focus)return O.focus(),1},te=async(O,L={})=>{let B,Z;const Y=yu(O);if(e.resolver){const G=await P(nt(O)?O:Y);B=hn(G),Z=O?!Y.some(ue=>J(G,ue)):B}else O?(Z=(await Promise.all(Y.map(async G=>{const ue=J(r,G);return await I(ue&&ue._f?{[G]:ue}:ue)}))).every(Boolean),!(!Z&&!n.isValid)&&E()):Z=B=await I(r);return h.state.next({...!Sr(O)||d.isValid&&B!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:B}:{},errors:n.errors}),L.shouldFocus&&!Z&&vu(r,K,O?Y:a.mount),Z},ne=O=>{const L={...o.mount?s:i};return nt(O)?L:Sr(O)?J(L,O):O.map(B=>J(L,B))},le=(O,L)=>({invalid:!!J((L||n).errors,O),isDirty:!!J((L||n).dirtyFields,O),error:J((L||n).errors,O),isValidating:!!J(n.validatingFields,O),isTouched:!!J((L||n).touchedFields,O)}),ce=O=>{O&&yu(O).forEach(L=>mt(n.errors,L)),h.state.next({errors:O?n.errors:{}})},Oe=(O,L,B)=>{const Z=(J(r,O,{_f:{}})._f||{}).ref,Y=J(n.errors,O)||{},{ref:G,message:ue,type:ye,...Te}=Y;Fe(n.errors,O,{...Te,...L,ref:Z}),h.state.next({name:O,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&Z&&Z.focus&&Z.focus()},rt=(O,L)=>Zr(O)?h.values.subscribe({next:B=>O(R(void 0,L),B)}):R(O,L,!0),Ae=(O,L={})=>{for(const B of O?yu(O):a.mount)a.mount.delete(B),a.array.delete(B),L.keepValue||(mt(r,B),mt(s,B)),!L.keepError&&mt(n.errors,B),!L.keepDirty&&mt(n.dirtyFields,B),!L.keepTouched&&mt(n.touchedFields,B),!L.keepIsValidating&&mt(n.validatingFields,B),!e.shouldUnregister&&!L.keepDefaultValue&&mt(i,B);h.values.next({values:{...s}}),h.state.next({...n,...L.keepDirty?{isDirty:N()}:{}}),!L.keepIsValid&&E()},pt=({disabled:O,name:L,field:B,fields:Z,value:Y})=>{if(Bn(O)&&o.mount||O){const G=O?void 0:nt(Y)?Vm(B?B._f:J(Z,L)._f):Y;Fe(s,L,G),M(L,G,!1,!1,!0)}},ln=(O,L={})=>{let B=J(r,O);const Z=Bn(L.disabled)||Bn(t.disabled);return Fe(r,O,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:O}},name:O,mount:!0,...L}}),a.mount.add(O),B?pt({field:B,disabled:Bn(L.disabled)?L.disabled:t.disabled,name:O,value:L.value}):D(O,!0,L.value),{...Z?{disabled:L.disabled||t.disabled}:{},...e.progressive?{required:!!L.required,min:Ml(L.min),max:Ml(L.max),minLength:Ml(L.minLength),maxLength:Ml(L.maxLength),pattern:Ml(L.pattern)}:{},name:O,onChange:j,onBlur:j,ref:Y=>{if(Y){ln(O,L),B=J(r,O);const G=nt(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,ue=$8(G),ye=B._f.refs||[];if(ue?ye.find(Te=>Te===G):G===B._f.ref)return;Fe(r,O,{_f:{...B._f,...ue?{refs:[...ye.filter(Dm),G,...Array.isArray(J(i,O))?[{}]:[]],ref:{type:G.type,name:O}}:{ref:G}}}),D(O,!1,void 0,G)}else B=J(r,O,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(zN(a.array,O)&&o.action)&&a.unMount.add(O)}}},_n=()=>e.shouldFocusError&&vu(r,K,a.mount),Gt=O=>{Bn(O)&&(h.state.next({disabled:O}),vu(r,(L,B)=>{const Z=J(r,B);Z&&(L.disabled=Z._f.disabled||O,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(Y=>{Y.disabled=Z._f.disabled||O}))},0,!1))},Vn=(O,L)=>async B=>{let Z;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let Y=dn(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:ue}=await x();n.errors=G,Y=ue}else await I(r);if(mt(n.errors,"root"),hn(n.errors)){h.state.next({errors:{}});try{await O(Y,B)}catch(G){Z=G}}else L&&await L({...n.errors},B),_n(),setTimeout(_n);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hn(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},On=(O,L={})=>{J(r,O)&&(nt(L.defaultValue)?ee(O,dn(J(i,O))):(ee(O,L.defaultValue),Fe(i,O,dn(L.defaultValue))),L.keepTouched||mt(n.touchedFields,O),L.keepDirty||(mt(n.dirtyFields,O),n.isDirty=L.defaultValue?N(O,dn(J(i,O))):N()),L.keepError||(mt(n.errors,O),d.isValid&&E()),h.state.next({...n}))},un=(O,L={})=>{const B=O?dn(O):i,Z=dn(B),Y=hn(O),G=Y?i:Z;if(L.keepDefaultValues||(i=B),!L.keepValues){if(L.keepDirtyValues){const ue=new Set([...a.mount,...Object.keys(Ol(i,s))]);for(const ye of Array.from(ue))J(n.dirtyFields,ye)?Fe(G,ye,J(s,ye)):ee(ye,J(G,ye))}else{if(Ow&&nt(O))for(const ue of a.mount){const ye=J(r,ue);if(ye&&ye._f){const Te=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(af(Te)){const we=Te.closest("form");if(we){we.reset();break}}}}r={}}s=t.shouldUnregister?L.keepDefaultValues?dn(i):{}:dn(G),h.array.next({values:{...G}}),h.values.next({values:{...G}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Bi(O,i)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:L.keepDirtyValues?L.keepDefaultValues&&s?Ol(i,s):n.dirtyFields:L.keepDefaultValues&&O?Ol(i,O):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Mn=(O,L)=>un(Zr(O)?O(s):O,L);return{control:{register:ln,unregister:Ae,getFieldState:le,handleSubmit:Vn,setError:Oe,_executeSchema:x,_getWatch:R,_getDirty:N,_updateValid:E,_removeUnmounted:V,_updateFieldArray:v,_updateDisabledField:pt,_getFieldArray:q,_reset:un,_resetDefaultValues:()=>Zr(e.defaultValues)&&e.defaultValues().then(O=>{Mn(O,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:Gt,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return a},set _names(O){a=O},get _formState(){return n},set _formState(O){n=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:te,register:ln,handleSubmit:Vn,watch:rt,setValue:ee,getValues:ne,reset:Mn,resetField:On,clearErrors:ce,unregister:Ae,setError:Oe,setFocus:(O,L={})=>{const B=J(r,O),Z=B&&B._f;if(Z){const Y=Z.refs?Z.refs[0]:Z.ref;Y.focus&&(Y.focus(),L.shouldSelect&&Y.select())}},getFieldState:le}}function Y8(t={}){const e=W.useRef(),n=W.useRef(),[r,i]=W.useState({isDirty:!1,isValidating:!1,isLoading:Zr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Zr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Q8(t),formState:r});const s=e.current.control;return s._options=t,Lw({subject:s._subjects.state,next:o=>{KN(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),W.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),W.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),W.useEffect(()=>{t.values&&!Bi(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),W.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),W.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),W.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),W.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=qN(r,s),e.current}var X8="Label",nD=S.forwardRef((t,e)=>b.jsx(an.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nD.displayName=X8;var rD=nD;const J8=Wv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),iD=S.forwardRef(({className:t,...e},n)=>b.jsx(rD,{ref:n,className:ft(J8(),t),...e}));iD.displayName=rD.displayName;const Z8=D8,sD=S.createContext({}),Cd=({...t})=>b.jsx(sD.Provider,{value:{name:t.name},children:b.jsx(L8,{...t})}),hp=()=>{const t=S.useContext(sD),e=S.useContext(oD),{getFieldState:n,formState:r}=dp(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},oD=S.createContext({}),Ql=S.forwardRef(({className:t,...e},n)=>{const r=S.useId();return b.jsx(oD.Provider,{value:{id:r},children:b.jsx("div",{ref:n,className:ft("space-y-2",t),...e})})});Ql.displayName="FormItem";const Yl=S.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=hp();return b.jsx(iD,{ref:n,className:ft(r&&"text-destructive",t),htmlFor:i,...e})});Yl.displayName="FormLabel";const Xl=S.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=hp();return b.jsx(Na,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Xl.displayName="FormControl";const eq=S.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=hp();return b.jsx("p",{ref:n,id:r,className:ft("text-sm text-muted-foreground",t),...e})});eq.displayName="FormDescription";const tq=S.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=hp(),o=i?String(i==null?void 0:i.message):e;return o?b.jsx("p",{ref:r,id:s,className:ft("text-sm font-medium text-destructive",t),...n,children:o}):null});tq.displayName="FormMessage";const aD=S.createContext({userId:"",userName:"SAP",userRoles:[],usercpf:"",userEmail:"",updateUser:async()=>{}}),nq=({children:t})=>{const[e,n]=S.useState(""),[r,i]=S.useState("SAP"),[s,o]=S.useState([]),[a,l]=S.useState(""),[c,d]=S.useState(""),h=qR(),f=async m=>{try{const _=ey().currentUser;if(_){const E=no(h,"usuarios",_.uid);await ik(E,{NomeCompleto:m.userName,email:m.userEmail,cpf:m.usercpf}),i(m.userName),d(m.userEmail),l(m.usercpf)}}catch(w){throw console.error("Erro ao atualizar dados do usuário:",w),w}};return S.useEffect(()=>{const m=ey();rB(m,async w=>{if(w)try{const _=no(h,"usuarios",w.uid),E=await Qx(_);if(E.exists()){const C=E.data();C&&(C.NomeCompleto&&i(C.NomeCompleto),C.cpf&&l(C.cpf),C.email&&d(C.email),C.id&&n(C.id))}const y=$a(h,"usuario_cargo"),v=Wa(y,ro("usuario_id","==",w.uid)),D=(await Ha(v)).docs.map(C=>C.data().cargo_id).filter(C=>C!==void 0).map(async C=>{const x=no(h,"cargos",C),P=await Qx(x);if(P.exists()){const I=P.data();if(I&&I.nome)return I.nome||null}return null}),M=await Promise.all(D);o(M.filter(C=>C!==null))}catch(_){console.error("Erro ao buscar dados do usuário:",_)}else n(""),i("SAP"),o([]),l(""),d("")})},[]),b.jsx(aD.Provider,{value:{userId:e,userName:r,userRoles:s,usercpf:a,userEmail:c,updateUser:f},children:t})},rq=()=>S.useContext(aD);function iq(){const t=fc(),[e,n]=S.useState("perfil"),[r,i]=S.useState(!1),{userRoles:s,userName:o,userEmail:a,usercpf:l,updateUser:c}=rq();S.useEffect(()=>{io.currentUser},[]);const{toast:d}=bf(),[h,f]=S.useState(null),m=async()=>{try{const y=$a(Ui,"tokens"),v=Wa(y,ro("usado","==",!1)),T=await Ha(v);if(!T.empty){const M=T.docs[0].data().token;f(M),i(!0);return}const k=l8();await Tz(y,{data_geracao:ht.now(),token:k,usado:!1}),f(k),d({title:"Novo token gerado",description:`Token: ${k}`})}catch(y){console.error("Error generating token:",y),d({title:"Erro ao gerar token",description:"Tente novamente.",variant:"destructive"})}},w=()=>{a&&cI(io,a).then(()=>{console.log("Link de redefinição de senha enviado com sucesso para: "+a),d({title:"Link de redefinição enviado",description:"Verifique seu e-mail para redefinir sua senha."})}).catch(y=>{let v="Ocorreu um erro ao enviar o email de redefinição. Verifique se o email está correto.";y.code==="auth/user-not-found"&&(v="Não existe usuário com este email."),d({title:"Erro ao enviar email de redefinição",description:v,variant:"destructive"}),console.error("Erro ao enviar o link de redefinição de senha:",y)})},_=Y8({defaultValues:{nome:o,email:a,cargos:s,cpf:l}});S.useEffect(()=>{_.reset({nome:o,email:a,cpf:l})},[o,a,l,_]);const E=async y=>{console.log("Form submitted:",y);try{await c({userName:y.nome,userEmail:y.email,usercpf:y.cpf}),d({title:"Perfil atualizado com sucesso!",className:"bg-green-500 text-white"})}catch(v){console.error("Erro ao atualizar o perfil:",v),d({title:"Erro ao atualizar o perfil. Tente novamente.",variant:"destructive"})}};return b.jsx("div",{className:"dashboard-theme container mx-auto py-6 px-4 md:px-6",children:b.jsxs(Dw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[b.jsxs("div",{className:"flex items-center mb-6 cursor-pointer",onClick:()=>t("/TelaInicial"),children:[b.jsx(nM,{className:"mr-2 text-tribunal-blue",size:24}),b.jsx("h1",{className:"text-3xl font-bold text-tribunal-blue",children:"Configurações"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[b.jsx($y,{className:"md:col-span-3 shadow-md",children:b.jsx(zy,{className:"p-0",children:b.jsxs("nav",{className:"flex flex-col",children:[[{id:"perfil",label:"Perfil",icon:b.jsx(bA,{size:18})},{id:"conta",label:"Conta",icon:b.jsx(Hv,{size:18})},{id:"admin",label:"Área de administrador",icon:b.jsx(cM,{size:18})}].map(y=>b.jsxs("button",{className:`flex items-center gap-3 p-4 text-left transition-colors hover:bg-gray-100 ${e===y.id?"bg-tribunal-gold/10 text-tribunal-gold border-l-4 border-tribunal-gold":"text-gray-700"}`,onClick:()=>n(y.id),children:[y.icon,b.jsx("span",{children:y.label})]},y.id)),b.jsxs("button",{className:"flex items-center gap-3 p-4 text-left text-red-500 hover:bg-red-50 mt-auto border-t",children:[b.jsx(lM,{size:18}),b.jsx("span",{children:"Sair"})]})]})})}),b.jsxs($y,{className:"md:col-span-9 shadow-md",children:[b.jsx(jN,{children:b.jsxs(UN,{className:"text-2xl text-tribunal-blue",children:[e==="perfil"&&"Informações de Perfil",e==="conta"&&"Configurações de Conta",e==="seguranca"&&"Segurança",e==="admin"&&"Área de administrador"]})}),b.jsx(zy,{children:b.jsx(Z8,{..._,children:b.jsxs("form",{onSubmit:_.handleSubmit(y=>{e==="perfil"&&E(y)}),className:"space-y-6",children:[e==="perfil"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex flex-col sm:flex-row gap-6 items-start",children:b.jsx("div",{className:"flex-1 space-y-4",children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsx(Cd,{control:_.control,name:"nome",render:({field:y})=>b.jsxs(Ql,{children:[b.jsx(Yl,{children:"Nome completo"}),b.jsx(Xl,{children:b.jsx(Fo,{...y})})]})}),b.jsx(Cd,{control:_.control,name:"cpf",render:({field:y})=>b.jsxs(Ql,{children:[b.jsx(Yl,{children:"CPF"}),b.jsx(Xl,{children:b.jsx(Fo,{...y})})]})}),b.jsx(Cd,{control:_.control,name:"email",render:({field:y})=>b.jsxs(Ql,{children:[b.jsx(Yl,{children:"Email"}),b.jsx(Xl,{children:b.jsx(Fo,{...y,type:"email"})})]})}),b.jsx(Cd,{control:_.control,name:"cargos",render:({field:y})=>b.jsxs(Ql,{children:[b.jsx(Yl,{children:"Cargos"}),b.jsx(Xl,{children:b.jsx(Fo,{...y,value:s.join(", "),disabled:!0})})]})})]})})}),b.jsx("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:b.jsx(jo,{type:"submit",className:"bg-tribunal-gold hover:bg-tribunal-gold/90",children:"Salvar alterações"})})]}),e==="conta"&&b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"rounded-lg border p-4",children:[b.jsx("div",{className:"font-medium",children:"Alterar senha"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Receba um e-mail para alterar sua senha."}),b.jsx(jo,{variant:"outline",onClick:w,children:"Alterar senha"})]})}),e==="admin"&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"rounded-lg border p-4",children:[b.jsx("div",{className:"font-medium",children:"Cargos"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Área para edição e inclusão de cargos."}),b.jsx(jo,{variant:"outline",children:"Cargos"})]}),b.jsxs("div",{className:"rounded-lg border p-4",children:[b.jsx("div",{className:"font-medium",children:"Gerar Token"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Gere um Token para um novo cadastro."}),b.jsx(jo,{variant:"outline",onClick:m,children:"Gerar Token"}),r&&h&&b.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[b.jsx(Fo,{type:"text",value:h,readOnly:!0,className:"w-full md:w-auto"}),b.jsx(A8.CopyToClipboard,{text:h,onCopy:()=>d({title:"Token copiado",description:"Token copiado para a área de transferência."}),children:b.jsx(jo,{variant:"outline",children:"Copiar Token"})})]})]})]})]})})})]})]})]})})}const sq=()=>b.jsx("div",{className:"dashboard-theme",children:b.jsx("h1",{children:"Painel"})}),oq=new yj,aq=()=>b.jsx(nq,{children:b.jsx(wj,{client:oq,children:b.jsxs(GF,{children:[b.jsx(qM,{}),b.jsx(EL,{}),b.jsx(mU,{children:b.jsxs(lU,{children:[b.jsx(Ri,{path:"/",element:b.jsx(oU,{to:"/login",replace:!0})}),b.jsx(Ri,{path:"/login",element:b.jsx(Cz,{})}),b.jsx(Ri,{path:"/cadastrar",element:b.jsx(bz,{})}),b.jsx(Ri,{path:"/telaInicial",element:b.jsx(o8,{})}),b.jsx(Ri,{path:"/configuracoes",element:b.jsx(iq,{})}),b.jsx(Ri,{path:"/painel",element:b.jsx(sq,{})}),b.jsx(Ri,{path:"*",element:b.jsx(Az,{})})]})})]})})});Qb(document.getElementById("root")).render(b.jsx(aq,{}));
