import{r as n,j as e,w as je,x as qe,y as be,I as Ke,z as Ce,E as we,G as Xe,H as ye,J as Ze,K as Re,M as Pe,O as _e,U as eo,W as Ae,X as oo,Y as ao,Z as Se,$ as so,a0 as io,a1 as Ee,a2 as no,u as to,k as ro,a3 as co,a4 as lo,a5 as mo,a6 as go,a7 as uo,a8 as L,a9 as H}from"./vendor-others-2QI88d8I.js";import{S as po,H as xo}from"./Sidebar-Db51tiMS.js";import{c as p,b as ho,t as Ne}from"./main-DUA0lFe-.js";import{C as ve,D as fo,a as No,b as vo,c as jo,d as bo}from"./dialog-CLlRTdNA.js";import{B as I}from"./button-Cn-0l459.js";import{L as h,I as u}from"./label-CmJOcWah.js";import{d as Ie,e as Co,f as wo,a as yo}from"./vendor-lucide-BO8tS8Cz.js";import"./vendor-firebase-Ds55KBa6.js";import"./vendor-react-query-WHUu8DGD.js";const Ge=n.forwardRef(({className:d,...r},c)=>e.jsx(je,{className:p("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",d),...r,ref:c,children:e.jsx(qe,{className:p("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ge.displayName=je.displayName;const J=({checked:d,onCheckedChange:r,label:c})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{checked:d,onCheckedChange:r,className:"tcmgo-switch",children:e.jsx("span",{className:"tcmgo-switch-thumb"})}),c&&e.jsx("span",{className:"text-sm",children:c})]}),Ro=[{nome:"Abadia de Goiás",codigo:"5200050"},{nome:"Abadiânia",codigo:"5200100"},{nome:"Acreúna",codigo:"5200134"},{nome:"Adelândia",codigo:"5200159"},{nome:"Água Fria de Goiás",codigo:"5200175"},{nome:"Água Limpa",codigo:"5200209"},{nome:"Águas Lindas de Goiás",codigo:"5200258"},{nome:"Alexânia",codigo:"5200308"},{nome:"Aloândia",codigo:"5200506"},{nome:"Alto Horizonte",codigo:"5200555"},{nome:"Alto Paraíso de Goiás",codigo:"5200605"},{nome:"Alvorada do Norte",codigo:"5200803"},{nome:"Amaralina",codigo:"5200829"},{nome:"Americano do Brasil",codigo:"5200852"},{nome:"Amorinópolis",codigo:"5200902"},{nome:"Anápolis",codigo:"5201108"},{nome:"Anhanguera",codigo:"5201207"},{nome:"Anicuns",codigo:"5201306"},{nome:"Aparecida de Goiânia",codigo:"5201405"},{nome:"Aparecida do Rio Doce",codigo:"5201454"},{nome:"Aporé",codigo:"5201504"},{nome:"Araçu",codigo:"5201603"},{nome:"Aragarças",codigo:"5201702"},{nome:"Aragoiânia",codigo:"5201801"},{nome:"Araguapaz",codigo:"5202155"},{nome:"Arenópolis",codigo:"5202353"},{nome:"Aruanã",codigo:"5202502"},{nome:"Aurilândia",codigo:"5202601"},{nome:"Avelinópolis",codigo:"5202809"},{nome:"Baliza",codigo:"5203104"},{nome:"Barro Alto",codigo:"5203203"},{nome:"Bela Vista de Goiás",codigo:"5203302"},{nome:"Bom Jardim de Goiás",codigo:"5203401"},{nome:"Bom Jesus de Goiás",codigo:"5203500"},{nome:"Bonfinópolis",codigo:"5203559"},{nome:"Bonópolis",codigo:"5203575"},{nome:"Brazabrantes",codigo:"5203609"},{nome:"Britânia",codigo:"5203807"},{nome:"Buriti Alegre",codigo:"5203906"},{nome:"Buriti de Goiás",codigo:"5203939"},{nome:"Buritinópolis",codigo:"5203962"},{nome:"Cabeceiras",codigo:"5204003"},{nome:"Cachoeira Alta",codigo:"5204102"},{nome:"Cachoeira Dourada",codigo:"5204250"},{nome:"Cachoeira de Goiás",codigo:"5204201"},{nome:"Caçu",codigo:"5204300"},{nome:"Caiapônia",codigo:"5204409"},{nome:"Caldas Novas",codigo:"5204508"},{nome:"Caldazinha",codigo:"5204557"},{nome:"Campestre de Goiás",codigo:"5204607"},{nome:"Campinaçu",codigo:"5204656"},{nome:"Campinorte",codigo:"5204706"},{nome:"Campo Alegre de Goiás",codigo:"5204805"},{nome:"Campo Limpo de Goiás",codigo:"5204854"},{nome:"Campos Belos",codigo:"5204904"},{nome:"Campos Verdes",codigo:"5204953"},{nome:"Carmo do Rio Verde",codigo:"5205000"},{nome:"Castelândia",codigo:"5205059"},{nome:"Catalão",codigo:"5205109"},{nome:"Caturaí",codigo:"5205208"},{nome:"Cavalcante",codigo:"5205307"},{nome:"Ceres",codigo:"5205406"},{nome:"Cezarina",codigo:"5205455"},{nome:"Chapadão do Céu",codigo:"5205471"},{nome:"Cidade Ocidental",codigo:"5205497"},{nome:"Cocalzinho de Goiás",codigo:"5205513"},{nome:"Colinas do Sul",codigo:"5205521"},{nome:"Córrego do Ouro",codigo:"5205703"},{nome:"Corumbá de Goiás",codigo:"5205802"},{nome:"Corumbaíba",codigo:"5205901"},{nome:"Cristalina",codigo:"5206206"},{nome:"Cristianópolis",codigo:"5206305"},{nome:"Crixás",codigo:"5206404"},{nome:"Cromínia",codigo:"5206503"},{nome:"Cumari",codigo:"5206602"},{nome:"Damianópolis",codigo:"5206701"},{nome:"Damolândia",codigo:"5206800"},{nome:"Davinópolis",codigo:"5206909"},{nome:"Diorama",codigo:"5207105"},{nome:"Divinópolis de Goiás",codigo:"5208301"},{nome:"Doverlândia",codigo:"5207253"},{nome:"Edealina",codigo:"5207352"},{nome:"Edéia",codigo:"5207402"},{nome:"Estrela do Norte",codigo:"5207501"},{nome:"Faina",codigo:"5207535"},{nome:"Fazenda Nova",codigo:"5207600"},{nome:"Firminópolis",codigo:"5207808"},{nome:"Flores de Goiás",codigo:"5207907"},{nome:"Formosa",codigo:"5208004"},{nome:"Formoso",codigo:"5208103"},{nome:"Gameleira de Goiás",codigo:"5208152"},{nome:"Goianápolis",codigo:"5208400"},{nome:"Goiandira",codigo:"5208509"},{nome:"Goianésia",codigo:"5208608"},{nome:"Goiânia",codigo:"5208707"},{nome:"Goianira",codigo:"5208806"},{nome:"Goiás",codigo:"5208905"},{nome:"Goiatuba",codigo:"5209101"},{nome:"Gouvelândia",codigo:"5209150"},{nome:"Guapó",codigo:"5209200"},{nome:"Guaraíta",codigo:"5209291"},{nome:"Guarani de Goiás",codigo:"5209408"},{nome:"Guarinos",codigo:"5209457"},{nome:"Heitoraí",codigo:"5209606"},{nome:"Hidrolândia",codigo:"5209705"},{nome:"Hidrolina",codigo:"5209804"},{nome:"Iaciara",codigo:"5209903"},{nome:"Inaciolândia",codigo:"5209937"},{nome:"Indiara",codigo:"5209952"},{nome:"Inhumas",codigo:"5210000"},{nome:"Ipameri",codigo:"5210109"},{nome:"Ipiranga de Goiás",codigo:"5210158"},{nome:"Iporá",codigo:"5210208"},{nome:"Israelândia",codigo:"5210307"},{nome:"Itaberaí",codigo:"5210406"},{nome:"Itaguari",codigo:"5210562"},{nome:"Itaguaru",codigo:"5210604"},{nome:"Itajá",codigo:"5210802"},{nome:"Itapaci",codigo:"5210901"},{nome:"Itapirapuã",codigo:"5211008"},{nome:"Itapuranga",codigo:"5211206"},{nome:"Itarumã",codigo:"5211305"},{nome:"Itauçu",codigo:"5211404"},{nome:"Itumbiara",codigo:"5211503"},{nome:"Ivolândia",codigo:"5211602"},{nome:"Jandaia",codigo:"5211701"},{nome:"Jaraguá",codigo:"5211800"},{nome:"Jataí",codigo:"5211909"},{nome:"Jaupaci",codigo:"5212006"},{nome:"Jesúpolis",codigo:"5212055"},{nome:"Joviânia",codigo:"5212105"},{nome:"Jussara",codigo:"5212204"},{nome:"Lagoa Santa",codigo:"5212253"},{nome:"Leopoldo de Bulhões",codigo:"5212303"},{nome:"Luziânia",codigo:"5212501"},{nome:"Mairipotaba",codigo:"5212600"},{nome:"Mambaí",codigo:"5212709"},{nome:"Mara Rosa",codigo:"5212808"},{nome:"Marzagão",codigo:"5212907"},{nome:"Matrinchã",codigo:"5212956"},{nome:"Maurilândia",codigo:"5213004"},{nome:"Mimoso de Goiás",codigo:"5213053"},{nome:"Minaçu",codigo:"5213087"},{nome:"Mineiros",codigo:"5213103"},{nome:"Moiporá",codigo:"5213400"},{nome:"Monte Alegre de Goiás",codigo:"5213509"},{nome:"Montes Claros de Goiás",codigo:"5213707"},{nome:"Montividiu",codigo:"5213756"},{nome:"Montividiu do Norte",codigo:"5213772"},{nome:"Morrinhos",codigo:"5213806"},{nome:"Morro Agudo de Goiás",codigo:"5213855"},{nome:"Mossâmedes",codigo:"5213905"},{nome:"Mozarlândia",codigo:"5214002"},{nome:"Mundo Novo",codigo:"5214051"},{nome:"Mutunópolis",codigo:"5214101"},{nome:"Nazário",codigo:"5214408"},{nome:"Nerópolis",codigo:"5214507"},{nome:"Niquelândia",codigo:"5214606"},{nome:"Nova América",codigo:"5214705"},{nome:"Nova Aurora",codigo:"5214804"},{nome:"Nova Crixás",codigo:"5214838"},{nome:"Nova Glória",codigo:"5214861"},{nome:"Nova Iguaçu de Goiás",codigo:"5214879"},{nome:"Nova Roma",codigo:"5214903"},{nome:"Nova Veneza",codigo:"5215009"},{nome:"Novo Brasil",codigo:"5215207"},{nome:"Novo Gama",codigo:"5215231"},{nome:"Novo Planalto",codigo:"5215256"},{nome:"Orizona",codigo:"5215306"},{nome:"Ouro Verde de Goiás",codigo:"5215405"},{nome:"Ouvidor",codigo:"5215504"},{nome:"Padre Bernardo",codigo:"5215603"},{nome:"Palestina de Goiás",codigo:"5215652"},{nome:"Palmeiras de Goiás",codigo:"5215702"},{nome:"Palmelo",codigo:"5215801"},{nome:"Palminópolis",codigo:"5215900"},{nome:"Panamá",codigo:"5216007"},{nome:"Paranaiguara",codigo:"5216304"},{nome:"Paraúna",codigo:"5216403"},{nome:"Perolândia",codigo:"5216452"},{nome:"Petrolina de Goiás",codigo:"5216809"},{nome:"Pilar de Goiás",codigo:"5216908"},{nome:"Piracanjuba",codigo:"5217104"},{nome:"Piranhas",codigo:"5217203"},{nome:"Pirenópolis",codigo:"5217302"},{nome:"Pires do Rio",codigo:"5217401"},{nome:"Planaltina",codigo:"5217609"},{nome:"Pontalina",codigo:"5217708"},{nome:"Porangatu",codigo:"5218003"},{nome:"Porteirão",codigo:"5218052"},{nome:"Portelândia",codigo:"5218102"},{nome:"Posse",codigo:"5218300"},{nome:"Professor Jamil",codigo:"5218391"},{nome:"Quirinópolis",codigo:"5218508"},{nome:"Rialma",codigo:"5218607"},{nome:"Rianápolis",codigo:"5218706"},{nome:"Rio Quente",codigo:"5218789"},{nome:"Rio Verde",codigo:"5218805"},{nome:"Rubiataba",codigo:"5218904"},{nome:"Sanclerlândia",codigo:"5219001"},{nome:"Santa Bárbara de Goiás",codigo:"5219100"},{nome:"Santa Cruz de Goiás",codigo:"5219209"},{nome:"Santa Fé de Goiás",codigo:"5219258"},{nome:"Santa Helena de Goiás",codigo:"5219308"},{nome:"Santa Isabel",codigo:"5219357"},{nome:"Santa Rita do Araguaia",codigo:"5219407"},{nome:"Santa Rita do Novo Destino",codigo:"5219456"},{nome:"Santa Rosa de Goiás",codigo:"5219506"},{nome:"Santa Tereza de Goiás",codigo:"5219605"},{nome:"Santa Terezinha de Goiás",codigo:"5219704"},{nome:"Santo Antônio da Barra",codigo:"5219712"},{nome:"Santo Antônio de Goiás",codigo:"5219738"},{nome:"Santo Antônio do Descoberto",codigo:"5219753"},{nome:"São Domingos",codigo:"5219803"},{nome:"São Francisco de Goiás",codigo:"5219902"},{nome:"São João d'Aliança",codigo:"5220009"},{nome:"São João da Paraúna",codigo:"5220058"},{nome:"São Luís de Montes Belos",codigo:"5220108"},{nome:"São Luiz do Norte",codigo:"5220157"},{nome:"São Miguel do Araguaia",codigo:"5220207"},{nome:"São Miguel do Passa Quatro",codigo:"5220264"},{nome:"São Patrício",codigo:"5220280"},{nome:"São Simão",codigo:"5220405"},{nome:"Senador Canedo",codigo:"5220454"},{nome:"Serranópolis",codigo:"5220504"},{nome:"Silvânia",codigo:"5220603"},{nome:"Simolândia",codigo:"5220686"},{nome:"Sítio d'Abadia",codigo:"5220702"},{nome:"Taquaral de Goiás",codigo:"5221007"},{nome:"Teresina de Goiás",codigo:"5221080"},{nome:"Terezópolis de Goiás",codigo:"5221197"},{nome:"Três Ranchos",codigo:"5221304"},{nome:"Trindade",codigo:"5221403"},{nome:"Trombas",codigo:"5221452"},{nome:"Turvânia",codigo:"5221502"},{nome:"Turvelândia",codigo:"5221551"},{nome:"Uirapuru",codigo:"5221577"},{nome:"Uruaçu",codigo:"5221601"},{nome:"Uruana",codigo:"5221700"},{nome:"Urutaí",codigo:"5221809"},{nome:"Valparaíso de Goiás",codigo:"5221858"},{nome:"Varjão",codigo:"5221908"},{nome:"Vianópolis",codigo:"5222005"},{nome:"Vicentinópolis",codigo:"5222054"},{nome:"Vila Boa",codigo:"5222203"},{nome:"Vila Propício",codigo:"5222302"}],Po=oo,Ao=ao,Fe=n.forwardRef(({className:d,children:r,...c},l)=>e.jsxs(be,{ref:l,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",d),...c,children:[r,e.jsx(Ke,{asChild:!0,children:e.jsx(Ie,{className:"h-4 w-4 opacity-50"})})]}));Fe.displayName=be.displayName;const ke=n.forwardRef(({className:d,...r},c)=>e.jsx(Ce,{ref:c,className:p("flex cursor-default items-center justify-center py-1",d),...r,children:e.jsx(Co,{className:"h-4 w-4"})}));ke.displayName=Ce.displayName;const Me=n.forwardRef(({className:d,...r},c)=>e.jsx(we,{ref:c,className:p("flex cursor-default items-center justify-center py-1",d),...r,children:e.jsx(Ie,{className:"h-4 w-4"})}));Me.displayName=we.displayName;const He=n.forwardRef(({className:d,children:r,position:c="popper",...l},z)=>e.jsx(Xe,{children:e.jsxs(ye,{ref:z,className:p("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",c==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",d),position:c,...l,children:[e.jsx(ke,{}),e.jsx(Ze,{className:p("p-1",c==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(Me,{})]})}));He.displayName=ye.displayName;const So=n.forwardRef(({className:d,...r},c)=>e.jsx(Re,{ref:c,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",d),...r}));So.displayName=Re.displayName;const ze=n.forwardRef(({className:d,children:r,...c},l)=>e.jsxs(Pe,{ref:l,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",d),...c,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(_e,{children:e.jsx(wo,{className:"h-4 w-4"})})}),e.jsx(eo,{children:r})]}));ze.displayName=Pe.displayName;const Eo=n.forwardRef(({className:d,...r},c)=>e.jsx(Ae,{ref:c,className:p("-mx-1 my-1 h-px bg-muted",d),...r}));Eo.displayName=Ae.displayName;const G=n.forwardRef(({className:d,children:r,...c},l)=>e.jsxs(Se,{ref:l,className:p("relative overflow-hidden",d),...c,children:[e.jsx(so,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(De,{}),e.jsx(io,{})]}));G.displayName=Se.displayName;const De=n.forwardRef(({className:d,orientation:r="vertical",...c},l)=>e.jsx(Ee,{ref:l,orientation:r,className:p("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",d),...c,children:e.jsx(no,{className:"relative flex-1 rounded-full bg-border"})}));De.displayName=Ee.displayName;const Bo=()=>{const d=to();ro();const[r,c]=n.useState(!1),[l,z]=n.useState(!1),[F,ie]=n.useState(null),[$e,Be]=n.useState(!1),{municipio:x,setMunicipio:Oe,anoProcesso:Te,setAnoProcesso:Ve,responsaveis:f,setResponsaveis:y,numeroProcesso:ne}=ho(),[te,W]=n.useState([]),[re,Y]=n.useState([]),[ce,Q]=n.useState([]),[de,q]=n.useState([]),[D,k]=n.useState(new Set),Ue=()=>{c(!r)},[$,B]=n.useState(""),[le,Le]=n.useState(!1),[me,Je]=n.useState(!1),[K,ge]=n.useState(""),[X,ue]=n.useState(""),[Z,pe]=n.useState(""),[N,R]=n.useState({nome:"",cpf:"",incluido:!1}),[v,C]=n.useState({nome:"",cpf:"",incluido:!1}),[j,P]=n.useState({nome:"",cpf:"",incluido:!1}),[b,A]=n.useState({nome:"",cpf:"",incluido:!1}),xe=n.useCallback(async o=>{z(!0),ie(null),R({nome:"",cpf:"",incluido:!1}),C({nome:"",cpf:"",incluido:!1}),P({nome:"",cpf:"",incluido:!1}),A({nome:"",cpf:"",incluido:!1}),W([]),Y([]),Q([]),q([]);try{const a=await fetch(`/api/passaporte/${o}/representacoes`);if(!a.ok)throw new Error(`Erro na API: ${a.status} ${a.statusText}`);const i=await a.json(),t=new Date().getFullYear(),m=[],w=[];i.forEach(s=>{const E=parseInt(s.dataInicioRepresentacao.split("/")[2],10),se=s.dataFinalRepresentacao?parseInt(s.dataFinalRepresentacao.split("/")[2],10):null;E===t?m.push(s):(se&&se<t||!se&&E<t)&&w.push(s)});const M=new Map;m.forEach(s=>M.set(`${s.numeroCPF}-${s.representacao}`,s));const g=w.filter(s=>!M.has(`${s.numeroCPF}-${s.representacao}`)),S=s=>m.find(E=>E.representacao.toUpperCase()===s.toUpperCase()),_=S("PRESIDENTE DA CÂMARA");_&&R(s=>({...s,nome:_.representante,cpf:_.numeroCPF,incluido:!1}));const ee=S("PREFEITO");if(ee)C(s=>({...s,nome:ee.representante,cpf:ee.numeroCPF,incluido:!1}));else{const s=S("PREFEITA");s&&C(E=>({...E,nome:s.representante,cpf:s.numeroCPF,incluido:!1}))}const oe=S("CHEFE RH CÂMARA");oe&&P(s=>({...s,nome:oe.representante,cpf:oe.numeroCPF,incluido:!1}));const ae=S("CHEFE RH PREFEITURA");ae&&A(s=>({...s,nome:ae.representante,cpf:ae.numeroCPF,incluido:!1}));const U=s=>({id:s.idRepresentacao,nome:s.representante,cpf:s.numeroCPF,cargo:s.representacao,dataInicio:s.dataInicioRepresentacao,dataFim:s.dataFinalRepresentacao});W(g.filter(s=>s.representacao.toUpperCase()==="PRESIDENTE DA CÂMARA").map(U)),Y(g.filter(s=>s.representacao.toUpperCase()==="PREFEITO"||s.representacao.toUpperCase()==="PREFEITA").map(U)),Q(g.filter(s=>s.representacao.toUpperCase()==="CHEFE RH CÂMARA").map(U)),q(g.filter(s=>s.representacao.toUpperCase()==="CHEFE RH PREFEITURA").map(U))}catch(a){console.error("Erro ao buscar responsáveis:",a),ie(a instanceof Error?a.message:"Erro desconhecido ao buscar dados."),Ne({title:"Erro de API",description:`Não foi possível buscar os responsáveis: ${a instanceof Error?a.message:"Erro desconhecido."}`,variant:"destructive"})}finally{z(!1)}},[y,Ne]);n.useEffect(()=>{x&&x.codigo?xe(x.codigo):(R({nome:"",cpf:"",incluido:!1}),C({nome:"",cpf:"",incluido:!1}),P({nome:"",cpf:"",incluido:!1}),A({nome:"",cpf:"",incluido:!1}),W([]),Y([]),Q([]),q([]),k(new Set))},[x,xe]),n.useEffect(()=>{const o=new Set;f.forEach(a=>{var t;const i=a;i.id&&((t=i.cargo)!=null&&t.startsWith("Ex-"))&&o.add(i.id)}),k(o)},[f]),n.useEffect(()=>{x&&x.nome?B(x.nome):B("")},[x]);const We=()=>{const o=new Date().getFullYear(),a=[];for(let i=2e3;i<=o;i++)a.push(i.toString());return a.reverse()},he=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),fe=Ro.filter(o=>he(o.nome).includes(he($))),O=(o,a,i,t)=>{const{nome:m,cpf:w}=o;if(a({...o,incluido:t}),t)if(m.trim()&&w.trim()){if(!f.some(g=>g.cargo===i&&g.cpf===w.trim())){const g={nome:m.trim(),cpf:w.trim(),cargo:i};y(S=>[...S,g])}}else console.warn(`Preencha Nome e CPF para incluir ${i}.`),a({...o,incluido:!1});else o.nome,y(M=>M.filter(g=>!(g.cargo===i&&g.cpf===w.trim())))},T=o=>{const a=`Ex-${o.cargo}`;f.some(t=>{const m=t;return m.id===o.id&&m.cargo===a})?console.warn(`${o.nome} (${a}) já está na lista.`):(y(t=>[...t,{id:o.id,nome:o.nome,cpf:o.cpf,cargo:a}]),k(t=>new Set(t).add(o.id)))},V=(o,a)=>{y(i=>i.filter(t=>{const m=t;return!(m.id===o&&m.cargo===a)})),k(i=>{const t=new Set(i);return t.delete(o),t}),f.find(i=>{const t=i;return t.id===o&&t.cargo===a})},Ye=()=>{if(K.trim()&&X.trim()&&Z.trim()){const o={nome:K.trim(),cpf:X.trim(),cargo:Z.trim()};f.some(a=>a.nome===o.nome&&a.cpf===o.cpf&&a.cargo===o.cargo)?console.warn("Responsável já incluído."):(y([...f,o]),ge(""),ue(""),pe(""))}else console.warn("Preencha Nome, CPF e Cargo para incluir outro responsável.")};f.filter(o=>{var a;return!["Presidente da Câmara","Prefeito(a)","Chefe RH Câmara","Chefe RH Prefeitura"].includes(o.cargo||"")&&!((a=o.cargo)!=null&&a.startsWith("Ex-"))});const Qe=o=>{var a;switch(y(i=>i.filter(t=>!(t.cpf===o.cpf&&t.cargo===o.cargo))),(a=o.cargo)!=null&&a.startsWith("Ex-")&&o.id&&k(i=>{const t=new Set(i);return t.delete(o.id),t}),o.cargo){case"Presidente da Câmara":R(i=>({...i,incluido:!1}));break;case"Prefeito(a)":C(i=>({...i,incluido:!1}));break;case"Chefe RH Câmara":P(i=>({...i,incluido:!1}));break;case"Chefe RH Prefeitura":A(i=>({...i,incluido:!1}));break}};return e.jsx("div",{className:"municipios-theme flex min-h-screen flex-col bg-gray-50",children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(po,{isOpen:r,setIsOpen:c}),e.jsxs("div",{className:`transition-all duration-300 ${r?"ml-64":"ml-0"}`,children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(xo,{toggleSidebar:Ue})}),e.jsx("div",{className:"min-h-screen bg-pattern bg-gray-100 py-8 px-4 ",children:e.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-lg shadow-md overflow-hidden ",children:e.jsxs("div",{className:"p-6 ",children:[e.jsxs("div",{className:"relative mb-8 text-primary text-center",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Dados do Município e Responsáveis ",ne&&`(${ne})`]}),e.jsxs("div",{className:"absolute top-0 right-0 h-full flex items-center space-x-4 ",children:[e.jsx(co,{onClick:()=>d("/telaInicial"),className:"cursor-pointer text-tribunal-blue",size:24}),e.jsx(lo,{className:"cursor-pointer text-tribunal-blue",size:24}),e.jsx(mo,{onClick:()=>d("/TratamentoLeis"),className:"cursor-pointer text-tribunal-blue",size:26})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"municipio",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Município"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{id:"municipio",placeholder:"Selecione um município",value:$,onChange:o=>B(o.target.value),className:"pl-10 border-gray-300"}),e.jsx(go,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",style:{transform:"translateY(4px)"}}),$&&$!==(x==null?void 0:x.nome)&&fe.length>0&&!l&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:fe.map(o=>e.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{Oe({nome:o.nome,codigo:o.codigo}),B(o.nome)},children:o.nome},o.codigo))}),l&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),F&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"anoProcesso",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ano do Processo:"}),e.jsxs(Po,{value:Te,onValueChange:o=>Ve(String(o)),children:[e.jsx(Fe,{id:"anoProcesso",className:"w-24 tcmgo-dropdown",children:e.jsx(Ao,{placeholder:"Ano"})}),e.jsx(He,{className:"tcmgo-dropdown bg-white text-gray-700",children:We().map(o=>e.jsx(ze,{value:o,className:"focus:bg-gray-100 focus:text-gray-700",children:o},o))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"prefeitoNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Prefeito(a) Atual"}),e.jsx(u,{id:"presidenteCamaraNome",placeholder:"Nome",value:N.nome,onChange:o=>R({...N,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!N.incluido&&!N.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-7",children:[e.jsx(u,{id:"presidenteCamaraCpf",placeholder:"CPF",value:N.cpf,onChange:o=>R({...N,cpf:o.target.value}),className:"w-32 tcmgo-input",disabled:!N.incluido&&!N.cpf}),e.jsx(J,{checked:N.incluido,onCheckedChange:o=>O(N,R,"Presidente da Câmara",o)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"prefeitoNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Prefeito(a) Atual"}),e.jsx(u,{id:"prefeitoNome",placeholder:"Nome",value:v.nome,onChange:o=>C({...v,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!v.incluido&&!v.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-7",children:[e.jsx(u,{id:"prefeitoCpf",placeholder:"CPF",value:v.cpf,onChange:o=>C({...v,cpf:o.target.value}),className:"w-32 tcmgo-input",disabled:!v.incluido&&!v.cpf}),e.jsx(J,{checked:v.incluido,onCheckedChange:o=>O(v,C,"Prefeito(a)",o)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"chefeRHCamaraNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Chefe do RH da Câmara Municipal"}),e.jsx(u,{id:"chefeRHCamaraNome",placeholder:"Nome",value:j.nome,onChange:o=>P({...j,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!j.incluido&&!j.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-7",children:[e.jsx(u,{id:"chefeRHCamaraCpf",placeholder:"CPF",value:j.cpf,onChange:o=>P({...j,cpf:o.target.value}),className:"w-32 tcmgo-input",disabled:!j.incluido&&!j.cpf}),e.jsx(J,{checked:j.incluido,onCheckedChange:o=>O(j,P,"Chefe RH Câmara",o)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"chefeRHPrefeituraNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Chefe do RH da Prefeitura"}),e.jsx(u,{id:"chefeRHPrefeituraNome",placeholder:"Nome",value:b.nome,onChange:o=>A({...b,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!b.incluido&&!b.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-7",children:[e.jsx(u,{id:"chefeRHPrefeituraCpf",placeholder:"CPF",value:b.cpf,onChange:o=>A({...b,cpf:o.target.value}),className:"w-32 tcmgo-input",disabled:!b.incluido&&!b.cpf}),e.jsx(J,{checked:b.incluido,onCheckedChange:o=>O(b,A,"Chefe RH Prefeitura",o)})]})]}),e.jsxs("div",{className:"flex flex-wrap mt-4",children:[e.jsxs("div",{className:"flex items-center mr-4 space-x-2",children:[e.jsx(ve,{id:"incluirExResponsaveis",checked:le,onCheckedChange:o=>Le(o)}),e.jsx(h,{htmlFor:"incluirExResponsaveis",children:"Incluir Ex-Responsáveis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{id:"incluirOutrosResponsaveis",checked:me,onCheckedChange:o=>Je(o)}),e.jsx(h,{htmlFor:"incluirOutrosResponsaveis",children:"Incluir Outros Responsáveis"})]}),e.jsxs(fo,{open:$e,onOpenChange:Be,children:[e.jsx(No,{asChild:!0,className:"ml-auto",children:e.jsx("div",{className:"pt-4 flex items-center text-sm",children:e.jsxs("button",{className:"flex items-center space-x-2 text-primary hover:text-primary/80",children:[e.jsx(yo,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:" Visualizar responsáveis incluídos"})]})})}),e.jsxs(vo,{className:"sm:max-w-[600px] bg-white",children:[e.jsx(jo,{children:e.jsx(bo,{className:"text-center text-lg font-semibold text-gray-800",children:"Responsáveis incluídos"})}),e.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:e.jsx(G,{className:"h-[400px] w-full",children:f.length>0?f.map((o,a)=>e.jsxs("div",{className:"border border-gray-300 p-2 rounded mb-2 flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.nome}),e.jsxs("p",{className:"text-gray-600",children:[o.cargo," - CPF: ",o.cpf]})]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>Qe(o),className:"text-red-500 hover:text-red-700",children:e.jsx(uo,{className:"h-4 w-4"})})]},`${o.cpf}-${o.cargo}-${a}`)):e.jsx("div",{className:"text-center text-gray-500",children:"Nenhum responsável incluído ainda."})})})]})]})]}),le&&e.jsxs("div",{className:"mt-6 border rounded-md p-4 bg-gray-50",children:[l&&e.jsx("p",{children:"Carregando ex-responsáveis..."}),F&&e.jsxs("p",{className:"text-red-500",children:["Erro ao carregar: ",F]}),!l&&!F&&e.jsxs("div",{className:"mb-4 flex flex-wrap",children:[e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Presidentes da Câmara:"}),e.jsx(G,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 !important",children:te.length>0?te.map(o=>{const a=D.has(o.id),i=`Ex-${o.cargo}`;return e.jsxs("div",{className:`flex justify-between items-center py-1 text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a?V(o.id,i):T(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(L,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]}),e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Prefeitos(as):"}),e.jsx(G,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 !important",children:re.length>0?re.map(o=>{const a=D.has(o.id),i=`Ex-${o.cargo}`;return e.jsxs("div",{className:`flex justify-between items-center py-1 text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a?V(o.id,i):T(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(L,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]}),e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Chefes RH Câmara:"}),e.jsx(G,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 !important",children:ce.length>0?ce.map(o=>{const a=D.has(o.id),i=`Ex-${o.cargo}`;return e.jsxs("div",{className:`flex justify-between items-center py-1 text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a?V(o.id,i):T(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(L,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]}),e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Chefes RH Prefeitura:"}),e.jsx(G,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 !important",children:de.length>0?de.map(o=>{const a=D.has(o.id),i=`Ex-${o.cargo}`;return e.jsxs("div",{className:`flex justify-between items-center py-1 text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a?V(o.id,i):T(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(L,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]})]})]}),me&&e.jsxs("div",{className:"mt-6 border rounded-md p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Incluir Outros Responsáveis"}),e.jsxs("div",{className:"mb-3",children:[e.jsx(h,{htmlFor:"outroNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Nome do Responsável"}),e.jsx(u,{id:"outroNome",placeholder:"Nome",value:K,onChange:o=>ge(o.target.value)})]}),e.jsxs("div",{className:"flex gap-4 items-center mb-3",children:[e.jsxs("div",{className:"w-32",children:[e.jsx(h,{htmlFor:"outroCpf",className:"text-sm font-medium text-gray-700 mb-1 block",children:"CPF Responsável"}),e.jsx(u,{id:"outroCpf",placeholder:"CPF",value:X,onChange:o=>ue(o.target.value)})]}),e.jsxs("div",{className:"w-64",children:[e.jsx(h,{htmlFor:"outroCargo",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Cargo"}),e.jsx(u,{id:"outroCargo",placeholder:"Cargo (Ex: Secretário)",value:Z,onChange:o=>pe(o.target.value)})]}),e.jsxs(I,{onClick:Ye,className:"ml-3 mt-6 bg-secondary hover:bg-secondary/90 text-white",size:"sm",children:[e.jsx(H,{className:"h-4 w-4 mr-1"})," Incluir Responsável"]})]})]})]})})})]})]})})};export{Bo as default};
