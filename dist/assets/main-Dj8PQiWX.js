var E_=t=>{throw TypeError(t)};var Tp=(t,e,n)=>e.has(t)||E_("Cannot "+n);var z=(t,e,n)=>(Tp(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?E_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(Tp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(Tp(t,e,"access private method"),n);var qc=(t,e,n,r)=>({set _(i){Ee(t,e,i,n)},get _(){return z(t,e,r)}});function mD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function SS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CS={exports:{}},lf={},AS={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),gD=Symbol.for("react.portal"),yD=Symbol.for("react.fragment"),vD=Symbol.for("react.strict_mode"),wD=Symbol.for("react.profiler"),_D=Symbol.for("react.provider"),ED=Symbol.for("react.context"),TD=Symbol.for("react.forward_ref"),xD=Symbol.for("react.suspense"),SD=Symbol.for("react.memo"),CD=Symbol.for("react.lazy"),T_=Symbol.iterator;function AD(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var IS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bS=Object.assign,PS={};function za(t,e,n){this.props=t,this.context=e,this.refs=PS,this.updater=n||IS}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RS(){}RS.prototype=za.prototype;function Fy(t,e,n){this.props=t,this.context=e,this.refs=PS,this.updater=n||IS}var jy=Fy.prototype=new RS;jy.constructor=Fy;bS(jy,za.prototype);jy.isPureReactComponent=!0;var x_=Array.isArray,kS=Object.prototype.hasOwnProperty,Uy={current:null},NS={key:!0,ref:!0,__self:!0,__source:!0};function DS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)kS.call(e,r)&&!NS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sc,type:t,key:s,ref:o,props:i,_owner:Uy.current}}function ID(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function By(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function bD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S_=/\/+/g;function xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bD(""+t.key):e.toString(36)}function Cd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case gD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xp(o,0):r,x_(i)?(n="",t!=null&&(n=t.replace(S_,"$&/")+"/"),Cd(i,e,n,"",function(c){return c})):i!=null&&(By(i)&&(i=ID(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",x_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+xp(s,a);o+=Cd(s,e,n,l,i)}else if(l=AD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+xp(s,a++),o+=Cd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kc(t,e,n){if(t==null)return t;var r=[],i=0;return Cd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Ad={transition:null},RD={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:Uy};function VS(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!By(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=za;Se.Fragment=yD;Se.Profiler=wD;Se.PureComponent=Fy;Se.StrictMode=vD;Se.Suspense=xD;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RD;Se.act=VS;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kS.call(e,l)&&!NS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sc,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:ED,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_D,_context:t},t.Consumer=t};Se.createElement=DS;Se.createFactory=function(t){var e=DS.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:TD,render:t}};Se.isValidElement=By;Se.lazy=function(t){return{$$typeof:CD,_payload:{_status:-1,_result:t},_init:PD}};Se.memo=function(t,e){return{$$typeof:SD,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};Se.unstable_act=VS;Se.useCallback=function(t,e){return sn.current.useCallback(t,e)};Se.useContext=function(t){return sn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return sn.current.useEffect(t,e)};Se.useId=function(){return sn.current.useId()};Se.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return sn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Se.useRef=function(t){return sn.current.useRef(t)};Se.useState=function(t){return sn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return sn.current.useTransition()};Se.version="18.3.1";AS.exports=Se;var A=AS.exports;const W=SS(A),kD=mD({__proto__:null,default:W},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=A,DD=Symbol.for("react.element"),VD=Symbol.for("react.fragment"),OD=Object.prototype.hasOwnProperty,MD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LD={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OD.call(e,r)&&!LD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DD,type:t,key:s,ref:o,props:i,_owner:MD.current}}lf.Fragment=VD;lf.jsx=OS;lf.jsxs=OS;CS.exports=lf;var S=CS.exports,MS={exports:{}},Nn={},LS={exports:{}},FS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,K){var te=j.length;j.push(K);e:for(;0<te;){var ne=te-1>>>1,le=j[ne];if(0<i(le,K))j[ne]=K,j[te]=le,te=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],te=j.pop();if(te!==K){j[0]=te;e:for(var ne=0,le=j.length,ce=le>>>1;ne<ce;){var Oe=2*(ne+1)-1,rt=j[Oe],Ie=Oe+1,ft=j[Ie];if(0>i(rt,te))Ie<le&&0>i(ft,rt)?(j[ne]=ft,j[Ie]=te,ne=Ie):(j[ne]=rt,j[Oe]=te,ne=Oe);else if(Ie<le&&0>i(ft,te))j[ne]=ft,j[Ie]=te,ne=Ie;else break e}}return K}function i(j,K){var te=j.sortIndex-K.sortIndex;return te!==0?te:j.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,v=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=j)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function k(j){if(_=!1,T(j),!v)if(n(l)!==null)v=!0,ae(D);else{var K=n(c);K!==null&&ee(k,K.startTime-j)}}function D(j,K){v=!1,_&&(_=!1,w(x),x=-1),m=!0;var te=f;try{for(T(K),h=n(l);h!==null&&(!(h.expirationTime>K)||j&&!V());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var le=ne(h.expirationTime<=K);K=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(l)&&r(l),T(K)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var Oe=n(c);Oe!==null&&ee(k,Oe.startTime-K),ce=!1}return ce}finally{h=null,f=te,m=!1}}var M=!1,C=null,x=-1,b=5,P=-1;function V(){return!(t.unstable_now()-P<b)}function N(){if(C!==null){var j=t.unstable_now();P=j;var K=!0;try{K=C(!0,j)}finally{K?R():(M=!1,C=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,oe=q.port2;q.port1.onmessage=N,R=function(){oe.postMessage(null)}}else R=function(){E(N,0)};function ae(j){C=j,M||(M=!0,R())}function ee(j,K){x=E(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var te=f;f=K;try{return j()}finally{f=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=f;f=j;try{return K()}finally{f=te}},t.unstable_scheduleCallback=function(j,K,te){var ne=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ne+te:ne):te=ne,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=te+le,j={id:d++,callback:K,priorityLevel:j,startTime:te,expirationTime:le,sortIndex:-1},te>ne?(j.sortIndex=te,e(c,j),n(l)===null&&j===n(c)&&(_?(w(x),x=-1):_=!0,ee(k,te-ne))):(j.sortIndex=le,e(l,j),v||m||(v=!0,ae(D))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var K=f;return function(){var te=f;f=K;try{return j.apply(this,arguments)}finally{f=te}}}})(FS);LS.exports=FS;var FD=LS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD=A,kn=FD;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jS=new Set,mu={};function yo(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(mu[t]=e,t=0;t<e.length;t++)jS.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,UD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},A_={};function BD(t){return km.call(A_,t)?!0:km.call(C_,t)?!1:UD.test(t)?A_[t]=!0:(C_[t]=!0,!1)}function $D(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zD(t,e,n,r){if(e===null||typeof e>"u"||$D(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var $y=/[\-:]([a-z])/g;function zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($y,zy);Pt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($y,zy);Pt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($y,zy);Pt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wy(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zD(e,n,i,r)&&(n=null),r||i===null?BD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=jD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),BS=Symbol.for("react.context"),qy=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),$S=Symbol.for("react.offscreen"),I_=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=I_&&t[I_]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Sp;function Rl(t){if(Sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sp=e&&e[1]||""}return`
`+Sp+t}var Cp=!1;function Ap(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function WD(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=Ap(t.type,!1),t;case 11:return t=Ap(t.type.render,!1),t;case 1:return t=Ap(t.type,!0),t;default:return""}}function Om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Oo:return"Portal";case Nm:return"Profiler";case Hy:return"StrictMode";case Dm:return"Suspense";case Vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BS:return(t.displayName||"Context")+".Consumer";case US:return(t._context.displayName||"Context")+".Provider";case qy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ky:return e=t.displayName||null,e!==null?e:Om(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return Om(t(e))}catch{}}return null}function HD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(e);case 8:return e===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qD(t){var e=zS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=qD(t))}function WS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mm(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HS(t,e){e=e.checked,e!=null&&Wy(t,"checked",e,!1)}function Lm(t,e){HS(t,e);var n=cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fm(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fm(t,e,n){(e!=="number"||eh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kl=Array.isArray;function Zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(kl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cs(n)}}function qS(t,e){var n=cs(e.value),r=cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,GS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KD=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(t){KD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kl[e]=Kl[t]})});function QS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kl.hasOwnProperty(t)&&Kl[t]?(""+e).trim():e+"px"}function YS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GD=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(t,e){if(e){if(GD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function Gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wm=null,ea=null,ta=null;function N_(t){if(t=lc(t)){if(typeof Wm!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=ff(e),Wm(t.stateNode,t.type,e))}}function XS(t){ea?ta?ta.push(t):ta=[t]:ea=t}function JS(){if(ea){var t=ea,e=ta;if(ta=ea=null,N_(t),e)for(t=0;t<e.length;t++)N_(e[t])}}function ZS(t,e){return t(e)}function eC(){}var Ip=!1;function tC(t,e,n){if(Ip)return t(e,n);Ip=!0;try{return ZS(t,e,n)}finally{Ip=!1,(ea!==null||ta!==null)&&(eC(),JS())}}function yu(t,e){var n=t.stateNode;if(n===null)return null;var r=ff(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Hm=!1;if(ii)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Hm=!1}function QD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Gl=!1,th=null,nh=!1,qm=null,YD={onError:function(t){Gl=!0,th=t}};function XD(t,e,n,r,i,s,o,a,l){Gl=!1,th=null,QD.apply(YD,arguments)}function JD(t,e,n,r,i,s,o,a,l){if(XD.apply(this,arguments),Gl){if(Gl){var c=th;Gl=!1,th=null}else throw Error(Q(198));nh||(nh=!0,qm=c)}}function vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D_(t){if(vo(t)!==t)throw Error(Q(188))}function ZD(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D_(i),t;if(s===r)return D_(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function rC(t){return t=ZD(t),t!==null?iC(t):null}function iC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iC(t);if(e!==null)return e;t=t.sibling}return null}var sC=kn.unstable_scheduleCallback,V_=kn.unstable_cancelCallback,eV=kn.unstable_shouldYield,tV=kn.unstable_requestPaint,ot=kn.unstable_now,nV=kn.unstable_getCurrentPriorityLevel,Qy=kn.unstable_ImmediatePriority,oC=kn.unstable_UserBlockingPriority,rh=kn.unstable_NormalPriority,rV=kn.unstable_LowPriority,aC=kn.unstable_IdlePriority,uf=null,Sr=null;function iV(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(uf,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:aV,sV=Math.log,oV=Math.LN2;function aV(t){return t>>>=0,t===0?32:31-(sV(t)/oV|0)|0}var Xc=64,Jc=4194304;function Nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ih(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nl(a):(s&=o,s!==0&&(r=Nl(s)))}else o=n&~i,o!==0?r=Nl(o):s!==0&&(r=Nl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function lV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lC(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function cV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function uC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cC,Xy,dC,hC,fC,Gm=!1,Zc=[],Yi=null,Xi=null,Ji=null,vu=new Map,wu=new Map,Vi=[],dV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O_(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(e.pointerId)}}function wl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lc(e),e!==null&&Xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hV(t,e,n,r,i){switch(e){case"focusin":return Yi=wl(Yi,t,e,n,r,i),!0;case"dragenter":return Xi=wl(Xi,t,e,n,r,i),!0;case"mouseover":return Ji=wl(Ji,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vu.set(s,wl(vu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wu.set(s,wl(wu.get(s)||null,t,e,n,r,i)),!0}return!1}function pC(t){var e=zs(t.target);if(e!==null){var n=vo(e);if(n!==null){if(e=n.tag,e===13){if(e=nC(n),e!==null){t.blockedOn=e,fC(t.priority,function(){dC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zm=r,n.target.dispatchEvent(r),zm=null}else return e=lc(n),e!==null&&Xy(e),t.blockedOn=n,!1;e.shift()}return!0}function M_(t,e,n){Id(t)&&n.delete(e)}function fV(){Gm=!1,Yi!==null&&Id(Yi)&&(Yi=null),Xi!==null&&Id(Xi)&&(Xi=null),Ji!==null&&Id(Ji)&&(Ji=null),vu.forEach(M_),wu.forEach(M_)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,fV)))}function _u(t){function e(i){return _l(i,t)}if(0<Zc.length){_l(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&_l(Yi,t),Xi!==null&&_l(Xi,t),Ji!==null&&_l(Ji,t),vu.forEach(e),wu.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)pC(n),n.blockedOn===null&&Vi.shift()}var na=gi.ReactCurrentBatchConfig,sh=!0;function pV(t,e,n,r){var i=Ve,s=na.transition;na.transition=null;try{Ve=1,Jy(t,e,n,r)}finally{Ve=i,na.transition=s}}function mV(t,e,n,r){var i=Ve,s=na.transition;na.transition=null;try{Ve=4,Jy(t,e,n,r)}finally{Ve=i,na.transition=s}}function Jy(t,e,n,r){if(sh){var i=Qm(t,e,n,r);if(i===null)Fp(t,e,r,oh,n),O_(t,r);else if(hV(i,t,e,n,r))r.stopPropagation();else if(O_(t,r),e&4&&-1<dV.indexOf(t)){for(;i!==null;){var s=lc(i);if(s!==null&&cC(s),s=Qm(t,e,n,r),s===null&&Fp(t,e,r,oh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fp(t,e,r,null,n)}}var oh=null;function Qm(t,e,n,r){if(oh=null,t=Gy(r),t=zs(t),t!==null)if(e=vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oh=t,null}function mC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nV()){case Qy:return 1;case oC:return 4;case rh:case rV:return 16;case aC:return 536870912;default:return 16}default:return 16}}var qi=null,Zy=null,bd=null;function gC(){if(bd)return bd;var t,e=Zy,n=e.length,r,i="value"in qi?qi.value:qi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bd=i.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ed(){return!0}function L_(){return!1}function Dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ed:L_,this.isPropagationStopped=L_,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),e}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ev=Dn(Wa),ac=Ye({},Wa,{view:0,detail:0}),gV=Dn(ac),Pp,Rp,El,cf=Ye({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Pp=t.screenX-El.screenX,Rp=t.screenY-El.screenY):Rp=Pp=0,El=t),Pp)},movementY:function(t){return"movementY"in t?t.movementY:Rp}}),F_=Dn(cf),yV=Ye({},cf,{dataTransfer:0}),vV=Dn(yV),wV=Ye({},ac,{relatedTarget:0}),kp=Dn(wV),_V=Ye({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),EV=Dn(_V),TV=Ye({},Wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xV=Dn(TV),SV=Ye({},Wa,{data:0}),j_=Dn(SV),CV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IV[t])?!!e[t]:!1}function tv(){return bV}var PV=Ye({},ac,{key:function(t){if(t.key){var e=CV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RV=Dn(PV),kV=Ye({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U_=Dn(kV),NV=Ye({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),DV=Dn(NV),VV=Ye({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),OV=Dn(VV),MV=Ye({},cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LV=Dn(MV),FV=[9,13,27,32],nv=ii&&"CompositionEvent"in window,Ql=null;ii&&"documentMode"in document&&(Ql=document.documentMode);var jV=ii&&"TextEvent"in window&&!Ql,yC=ii&&(!nv||Ql&&8<Ql&&11>=Ql),B_=" ",$_=!1;function vC(t,e){switch(t){case"keyup":return FV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function UV(t,e){switch(t){case"compositionend":return wC(e);case"keypress":return e.which!==32?null:($_=!0,B_);case"textInput":return t=e.data,t===B_&&$_?null:t;default:return null}}function BV(t,e){if(Lo)return t==="compositionend"||!nv&&vC(t,e)?(t=gC(),bd=Zy=qi=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yC&&e.locale!=="ko"?null:e.data;default:return null}}var $V={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$V[t.type]:e==="textarea"}function _C(t,e,n,r){XS(r),e=ah(e,"onChange"),0<e.length&&(n=new ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,Eu=null;function zV(t){kC(t,0)}function df(t){var e=Uo(t);if(WS(e))return t}function WV(t,e){if(t==="change")return e}var EC=!1;if(ii){var Np;if(ii){var Dp="oninput"in document;if(!Dp){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Dp=typeof W_.oninput=="function"}Np=Dp}else Np=!1;EC=Np&&(!document.documentMode||9<document.documentMode)}function H_(){Yl&&(Yl.detachEvent("onpropertychange",TC),Eu=Yl=null)}function TC(t){if(t.propertyName==="value"&&df(Eu)){var e=[];_C(e,Eu,t,Gy(t)),tC(zV,e)}}function HV(t,e,n){t==="focusin"?(H_(),Yl=e,Eu=n,Yl.attachEvent("onpropertychange",TC)):t==="focusout"&&H_()}function qV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return df(Eu)}function KV(t,e){if(t==="click")return df(e)}function GV(t,e){if(t==="input"||t==="change")return df(e)}function QV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:QV;function Tu(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!km.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K_(t,e){var n=q_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q_(n)}}function xC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var t=window,e=eh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eh(t.document)}return e}function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YV(t){var e=SC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xC(n.ownerDocument.documentElement,n)){if(r!==null&&rv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=K_(n,s);var o=K_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XV=ii&&"documentMode"in document&&11>=document.documentMode,Fo=null,Ym=null,Xl=null,Xm=!1;function G_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||Fo==null||Fo!==eh(r)||(r=Fo,"selectionStart"in r&&rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&Tu(Xl,r)||(Xl=r,r=ah(Ym,"onSelect"),0<r.length&&(e=new ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function td(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jo={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Vp={},CC={};ii&&(CC=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function hf(t){if(Vp[t])return Vp[t];if(!jo[t])return t;var e=jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CC)return Vp[t]=e[n];return t}var AC=hf("animationend"),IC=hf("animationiteration"),bC=hf("animationstart"),PC=hf("transitionend"),RC=new Map,Q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){RC.set(t,e),yo(e,[t])}for(var Op=0;Op<Q_.length;Op++){var Mp=Q_[Op],JV=Mp.toLowerCase(),ZV=Mp[0].toUpperCase()+Mp.slice(1);Ss(JV,"on"+ZV)}Ss(AC,"onAnimationEnd");Ss(IC,"onAnimationIteration");Ss(bC,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(PC,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dl));function Y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JD(r,e,void 0,t),t.currentTarget=null}function kC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Y_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Y_(i,a,c),s=l}}}if(nh)throw t=qm,nh=!1,qm=null,t}function ze(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(NC(e,t,2,!1),n.add(r))}function Lp(t,e,n){var r=0;e&&(r|=4),NC(n,t,r,e)}var nd="_reactListening"+Math.random().toString(36).slice(2);function xu(t){if(!t[nd]){t[nd]=!0,jS.forEach(function(n){n!=="selectionchange"&&(e2.has(n)||Lp(n,!1,t),Lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nd]||(e[nd]=!0,Lp("selectionchange",!1,e))}}function NC(t,e,n,r){switch(mC(e)){case 1:var i=pV;break;case 4:i=mV;break;default:i=Jy}n=i.bind(null,e,n,t),i=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tC(function(){var c=s,d=Gy(n),h=[];e:{var f=RC.get(t);if(f!==void 0){var m=ev,v=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":m=RV;break;case"focusin":v="focus",m=kp;break;case"focusout":v="blur",m=kp;break;case"beforeblur":case"afterblur":m=kp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=F_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DV;break;case AC:case IC:case bC:m=EV;break;case PC:m=OV;break;case"scroll":m=gV;break;case"wheel":m=LV;break;case"copy":case"cut":case"paste":m=xV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=U_}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?f!==null?f+"Capture":null:f;_=[];for(var y=c,T;y!==null;){T=y;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,w!==null&&(k=yu(y,w),k!=null&&_.push(Su(y,k,T)))),E)break;y=y.return}0<_.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==zm&&(v=n.relatedTarget||n.fromElement)&&(zs(v)||v[si]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?zs(v):null,v!==null&&(E=vo(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=F_,k="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=U_,k="onPointerLeave",w="onPointerEnter",y="pointer"),E=m==null?f:Uo(m),T=v==null?f:Uo(v),f=new _(k,y+"leave",m,n,d),f.target=E,f.relatedTarget=T,k=null,zs(d)===c&&(_=new _(w,y+"enter",v,n,d),_.target=T,_.relatedTarget=E,k=_),E=k,m&&v)t:{for(_=m,w=v,y=0,T=_;T;T=Po(T))y++;for(T=0,k=w;k;k=Po(k))T++;for(;0<y-T;)_=Po(_),y--;for(;0<T-y;)w=Po(w),T--;for(;y--;){if(_===w||w!==null&&_===w.alternate)break t;_=Po(_),w=Po(w)}_=null}else _=null;m!==null&&X_(h,f,m,_,!1),v!==null&&E!==null&&X_(h,E,v,_,!0)}}e:{if(f=c?Uo(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=WV;else if(z_(f))if(EC)D=GV;else{D=qV;var M=HV}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=KV);if(D&&(D=D(t,c))){_C(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Fm(f,"number",f.value)}switch(M=c?Uo(c):window,t){case"focusin":(z_(M)||M.contentEditable==="true")&&(Fo=M,Ym=c,Xl=null);break;case"focusout":Xl=Ym=Fo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,G_(h,n,d);break;case"selectionchange":if(XV)break;case"keydown":case"keyup":G_(h,n,d)}var C;if(nv)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Lo?vC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(yC&&n.locale!=="ko"&&(Lo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Lo&&(C=gC()):(qi=d,Zy="value"in qi?qi.value:qi.textContent,Lo=!0)),M=ah(c,x),0<M.length&&(x=new j_(x,t,null,n,d),h.push({event:x,listeners:M}),C?x.data=C:(C=wC(n),C!==null&&(x.data=C)))),(C=jV?UV(t,n):BV(t,n))&&(c=ah(c,"onBeforeInput"),0<c.length&&(d=new j_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}kC(h,e)})}function Su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ah(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yu(t,n),s!=null&&r.unshift(Su(t,s,i)),s=yu(t,e),s!=null&&r.push(Su(t,s,i))),t=t.return}return r}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=yu(n,s),l!=null&&o.unshift(Su(n,l,a))):i||(l=yu(n,s),l!=null&&o.push(Su(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var t2=/\r\n?/g,n2=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(t2,`
`).replace(n2,"")}function rd(t,e,n){if(e=J_(e),J_(t)!==e&&n)throw Error(Q(425))}function lh(){}var Jm=null,Zm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(s2)}:tg;function s2(t){setTimeout(function(){throw t})}function jp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_u(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ha,Cu="__reactProps$"+Ha,si="__reactContainer$"+Ha,ng="__reactEvents$"+Ha,o2="__reactListeners$"+Ha,a2="__reactHandles$"+Ha;function zs(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eE(t);t!==null;){if(n=t[Tr])return n;t=eE(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[Tr]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function ff(t){return t[Cu]||null}var rg=[],Bo=-1;function Cs(t){return{current:t}}function He(t){0>Bo||(t.current=rg[Bo],rg[Bo]=null,Bo--)}function je(t,e){Bo++,rg[Bo]=t.current,t.current=e}var ds={},Ht=Cs(ds),yn=Cs(!1),ro=ds;function xa(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function uh(){He(yn),He(Ht)}function tE(t,e,n){if(Ht.current!==ds)throw Error(Q(168));je(Ht,e),je(yn,n)}function DC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,HD(t)||"Unknown",i));return Ye({},n,r)}function ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,ro=Ht.current,je(Ht,t),je(yn,yn.current),!0}function nE(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=DC(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,He(yn),He(Ht),je(Ht,t)):He(yn),je(yn,n)}var qr=null,pf=!1,Up=!1;function VC(t){qr===null?qr=[t]:qr.push(t)}function l2(t){pf=!0,VC(t)}function As(){if(!Up&&qr!==null){Up=!0;var t=0,e=Ve;try{var n=qr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,pf=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),sC(Qy,As),i}finally{Ve=e,Up=!1}}return null}var $o=[],zo=0,dh=null,hh=0,$n=[],zn=0,io=null,Kr=1,Gr="";function Fs(t,e){$o[zo++]=hh,$o[zo++]=dh,dh=t,hh=e}function OC(t,e,n){$n[zn++]=Kr,$n[zn++]=Gr,$n[zn++]=io,io=t;var r=Kr;t=Gr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kr=1<<32-sr(e)+i|n<<i|r,Gr=s+t}else Kr=1<<s|n<<i|r,Gr=t}function iv(t){t.return!==null&&(Fs(t,1),OC(t,1,0))}function sv(t){for(;t===dh;)dh=$o[--zo],$o[zo]=null,hh=$o[--zo],$o[zo]=null;for(;t===io;)io=$n[--zn],$n[zn]=null,Gr=$n[--zn],$n[zn]=null,Kr=$n[--zn],$n[zn]=null}var bn=null,An=null,qe=!1,rr=null;function MC(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,An=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:Kr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,An=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sg(t){if(qe){var e=An;if(e){var n=e;if(!rE(t,e)){if(ig(t))throw Error(Q(418));e=Zi(n.nextSibling);var r=bn;e&&rE(t,e)?MC(r,n):(t.flags=t.flags&-4097|2,qe=!1,bn=t)}}else{if(ig(t))throw Error(Q(418));t.flags=t.flags&-4097|2,qe=!1,bn=t}}}function iE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function id(t){if(t!==bn)return!1;if(!qe)return iE(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=An)){if(ig(t))throw LC(),Error(Q(418));for(;e;)MC(t,e),e=Zi(e.nextSibling)}if(iE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=bn?Zi(t.stateNode.nextSibling):null;return!0}function LC(){for(var t=An;t;)t=Zi(t.nextSibling)}function Sa(){An=bn=null,qe=!1}function ov(t){rr===null?rr=[t]:rr.push(t)}var u2=gi.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sE(t){var e=t._init;return e(t._payload)}function FC(t){function e(w,y){if(t){var T=w.deletions;T===null?(w.deletions=[y],w.flags|=16):T.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=rs(w,y),w.index=0,w.sibling=null,w}function s(w,y,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<y?(w.flags|=2,y):T):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,T,k){return y===null||y.tag!==6?(y=Kp(T,w.mode,k),y.return=w,y):(y=i(y,T),y.return=w,y)}function l(w,y,T,k){var D=T.type;return D===Mo?d(w,y,T.props.children,k,T.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ni&&sE(D)===y.type)?(k=i(y,T.props),k.ref=Tl(w,y,T),k.return=w,k):(k=Md(T.type,T.key,T.props,null,w.mode,k),k.ref=Tl(w,y,T),k.return=w,k)}function c(w,y,T,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Gp(T,w.mode,k),y.return=w,y):(y=i(y,T.children||[]),y.return=w,y)}function d(w,y,T,k,D){return y===null||y.tag!==7?(y=to(T,w.mode,k,D),y.return=w,y):(y=i(y,T),y.return=w,y)}function h(w,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kp(""+y,w.mode,T),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gc:return T=Md(y.type,y.key,y.props,null,w.mode,T),T.ref=Tl(w,null,y),T.return=w,T;case Oo:return y=Gp(y,w.mode,T),y.return=w,y;case Ni:var k=y._init;return h(w,k(y._payload),T)}if(kl(y)||yl(y))return y=to(y,w.mode,T,null),y.return=w,y;sd(w,y)}return null}function f(w,y,T,k){var D=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(w,y,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:return T.key===D?l(w,y,T,k):null;case Oo:return T.key===D?c(w,y,T,k):null;case Ni:return D=T._init,f(w,y,D(T._payload),k)}if(kl(T)||yl(T))return D!==null?null:d(w,y,T,k,null);sd(w,T)}return null}function m(w,y,T,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(T)||null,a(y,w,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gc:return w=w.get(k.key===null?T:k.key)||null,l(y,w,k,D);case Oo:return w=w.get(k.key===null?T:k.key)||null,c(y,w,k,D);case Ni:var M=k._init;return m(w,y,T,M(k._payload),D)}if(kl(k)||yl(k))return w=w.get(T)||null,d(y,w,k,D,null);sd(y,k)}return null}function v(w,y,T,k){for(var D=null,M=null,C=y,x=y=0,b=null;C!==null&&x<T.length;x++){C.index>x?(b=C,C=null):b=C.sibling;var P=f(w,C,T[x],k);if(P===null){C===null&&(C=b);break}t&&C&&P.alternate===null&&e(w,C),y=s(P,y,x),M===null?D=P:M.sibling=P,M=P,C=b}if(x===T.length)return n(w,C),qe&&Fs(w,x),D;if(C===null){for(;x<T.length;x++)C=h(w,T[x],k),C!==null&&(y=s(C,y,x),M===null?D=C:M.sibling=C,M=C);return qe&&Fs(w,x),D}for(C=r(w,C);x<T.length;x++)b=m(C,w,x,T[x],k),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?x:b.key),y=s(b,y,x),M===null?D=b:M.sibling=b,M=b);return t&&C.forEach(function(V){return e(w,V)}),qe&&Fs(w,x),D}function _(w,y,T,k){var D=yl(T);if(typeof D!="function")throw Error(Q(150));if(T=D.call(T),T==null)throw Error(Q(151));for(var M=D=null,C=y,x=y=0,b=null,P=T.next();C!==null&&!P.done;x++,P=T.next()){C.index>x?(b=C,C=null):b=C.sibling;var V=f(w,C,P.value,k);if(V===null){C===null&&(C=b);break}t&&C&&V.alternate===null&&e(w,C),y=s(V,y,x),M===null?D=V:M.sibling=V,M=V,C=b}if(P.done)return n(w,C),qe&&Fs(w,x),D;if(C===null){for(;!P.done;x++,P=T.next())P=h(w,P.value,k),P!==null&&(y=s(P,y,x),M===null?D=P:M.sibling=P,M=P);return qe&&Fs(w,x),D}for(C=r(w,C);!P.done;x++,P=T.next())P=m(C,w,x,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?x:P.key),y=s(P,y,x),M===null?D=P:M.sibling=P,M=P);return t&&C.forEach(function(N){return e(w,N)}),qe&&Fs(w,x),D}function E(w,y,T,k){if(typeof T=="object"&&T!==null&&T.type===Mo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:e:{for(var D=T.key,M=y;M!==null;){if(M.key===D){if(D=T.type,D===Mo){if(M.tag===7){n(w,M.sibling),y=i(M,T.props.children),y.return=w,w=y;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ni&&sE(D)===M.type){n(w,M.sibling),y=i(M,T.props),y.ref=Tl(w,M,T),y.return=w,w=y;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===Mo?(y=to(T.props.children,w.mode,k,T.key),y.return=w,w=y):(k=Md(T.type,T.key,T.props,null,w.mode,k),k.ref=Tl(w,y,T),k.return=w,w=k)}return o(w);case Oo:e:{for(M=T.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(w,y.sibling),y=i(y,T.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Gp(T,w.mode,k),y.return=w,w=y}return o(w);case Ni:return M=T._init,E(w,y,M(T._payload),k)}if(kl(T))return v(w,y,T,k);if(yl(T))return _(w,y,T,k);sd(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,T),y.return=w,w=y):(n(w,y),y=Kp(T,w.mode,k),y.return=w,w=y),o(w)):n(w,y)}return E}var Ca=FC(!0),jC=FC(!1),fh=Cs(null),ph=null,Wo=null,av=null;function lv(){av=Wo=ph=null}function uv(t){var e=fh.current;He(fh),t._currentValue=e}function og(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ra(t,e){ph=t,av=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(ph===null)throw Error(Q(308));Wo=t,ph.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Ws=null;function cv(t){Ws===null?Ws=[t]:Ws.push(t)}function UC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cv(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Di=!1;function dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,cv(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function Rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}function oE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mh(t,e,n,r){var i=t.updateQueue;Di=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ye({},h,f);break e;case 2:Di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=h}}function aE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var uc={},Cr=Cs(uc),Au=Cs(uc),Iu=Cs(uc);function Hs(t){if(t===uc)throw Error(Q(174));return t}function hv(t,e){switch(je(Iu,e),je(Au,t),je(Cr,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Um(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Um(e,t)}He(Cr),je(Cr,e)}function Aa(){He(Cr),He(Au),He(Iu)}function $C(t){Hs(Iu.current);var e=Hs(Cr.current),n=Um(e,t.type);e!==n&&(je(Au,t),je(Cr,n))}function fv(t){Au.current===t&&(He(Cr),He(Au))}var Ke=Cs(0);function gh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function pv(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var kd=gi.ReactCurrentDispatcher,$p=gi.ReactCurrentBatchConfig,so=0,Qe=null,mt=null,Et=null,yh=!1,Jl=!1,bu=0,c2=0;function Mt(){throw Error(Q(321))}function mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function gv(t,e,n,r,i,s){if(so=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kd.current=t===null||t.memoizedState===null?p2:m2,t=n(r,i),Jl){s=0;do{if(Jl=!1,bu=0,25<=s)throw Error(Q(301));s+=1,Et=mt=null,e.updateQueue=null,kd.current=g2,t=n(r,i)}while(Jl)}if(kd.current=vh,e=mt!==null&&mt.next!==null,so=0,Et=mt=Qe=null,yh=!1,e)throw Error(Q(300));return t}function yv(){var t=bu!==0;return bu=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=t:Et=Et.next=t,Et}function Gn(){if(mt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Et===null?Qe.memoizedState:Et.next;if(e!==null)Et=e,mt=t;else{if(t===null)throw Error(Q(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Et===null?Qe.memoizedState=Et=t:Et=Et.next=t}return Et}function Pu(t,e){return typeof e=="function"?e(t):e}function zp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((so&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qe.lanes|=d,oo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,oo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ar(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zC(){}function WC(t,e){var n=Qe,r=Gn(),i=e(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,vv(KC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Ru(9,qC.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(Q(349));so&30||HC(n,e,i)}return i}function HC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qC(t,e,n,r){e.value=n,e.getSnapshot=r,GC(e)&&QC(t)}function KC(t,e,n){return n(function(){GC(e)&&QC(t)})}function GC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function QC(t){var e=oi(t,1);e!==null&&or(e,t,1,-1)}function lE(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:t},e.queue=t,t=t.dispatch=f2.bind(null,Qe,t),[e.memoizedState,t]}function Ru(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YC(){return Gn().memoizedState}function Nd(t,e,n,r){var i=yr();Qe.flags|=t,i.memoizedState=Ru(1|e,n,void 0,r===void 0?null:r)}function mf(t,e,n,r){var i=Gn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&mv(r,o.deps)){i.memoizedState=Ru(e,n,s,r);return}}Qe.flags|=t,i.memoizedState=Ru(1|e,n,s,r)}function uE(t,e){return Nd(8390656,8,t,e)}function vv(t,e){return mf(2048,8,t,e)}function XC(t,e){return mf(4,2,t,e)}function JC(t,e){return mf(4,4,t,e)}function ZC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eA(t,e,n){return n=n!=null?n.concat([t]):null,mf(4,4,ZC.bind(null,e,t),n)}function wv(){}function tA(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nA(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rA(t,e,n){return so&21?(ar(n,e)||(n=lC(),Qe.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function d2(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=$p.transition;$p.transition={};try{t(!1),e()}finally{Ve=n,$p.transition=r}}function iA(){return Gn().memoizedState}function h2(t,e,n){var r=ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sA(t))oA(e,n);else if(n=UC(t,e,n,r),n!==null){var i=nn();or(n,t,r,i),aA(n,e,r)}}function f2(t,e,n){var r=ns(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sA(t))oA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(i.next=i,cv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UC(t,e,i,r),n!==null&&(i=nn(),or(n,t,r,i),aA(n,e,r))}}function sA(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function oA(t,e){Jl=yh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}var vh={readContext:Kn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},p2={readContext:Kn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:uE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nd(4194308,4,ZC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nd(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h2.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:lE,useDebugValue:wv,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=lE(!1),e=t[0];return t=d2.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=yr();if(qe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Tt===null)throw Error(Q(349));so&30||HC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,uE(KC.bind(null,r,s,t),[t]),r.flags|=2048,Ru(9,qC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=yr(),e=Tt.identifierPrefix;if(qe){var n=Gr,r=Kr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=c2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m2={readContext:Kn,useCallback:tA,useContext:Kn,useEffect:vv,useImperativeHandle:eA,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:nA,useReducer:zp,useRef:YC,useState:function(){return zp(Pu)},useDebugValue:wv,useDeferredValue:function(t){var e=Gn();return rA(e,mt.memoizedState,t)},useTransition:function(){var t=zp(Pu)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:WC,useId:iA,unstable_isNewReconciler:!1},g2={readContext:Kn,useCallback:tA,useContext:Kn,useEffect:vv,useImperativeHandle:eA,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:nA,useReducer:Wp,useRef:YC,useState:function(){return Wp(Pu)},useDebugValue:wv,useDeferredValue:function(t){var e=Gn();return mt===null?e.memoizedState=t:rA(e,mt.memoizedState,t)},useTransition:function(){var t=Wp(Pu)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:WC,useId:iA,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gf={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ns(t),s=Zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(or(e,t,i,r),Rd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ns(t),s=Zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(or(e,t,i,r),Rd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=ns(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=es(t,i,r),e!==null&&(or(e,t,r,n),Rd(e,t,r))}};function cE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tu(n,r)||!Tu(i,s):!0}function lA(t,e,n){var r=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Kn(s):(i=vn(e)?ro:Ht.current,r=e.contextTypes,s=(r=r!=null)?xa(t,i):ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gf.enqueueReplaceState(e,e.state,null)}function lg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kn(s):(s=vn(e)?ro:Ht.current,i.context=xa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ag(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gf.enqueueReplaceState(i,i.state,null),mh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e){try{var n="",r=e;do n+=WD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y2=typeof WeakMap=="function"?WeakMap:Map;function uA(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_h||(_h=!0,wg=r),ug(t,e)},n}function cA(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ug(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ug(t,e),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=k2.bind(null,t,e,n),e.then(t,t))}function fE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,es(n,e,1))),n.lanes|=1),t)}var v2=gi.ReactCurrentOwner,gn=!1;function Jt(t,e,n,r){e.child=t===null?jC(e,null,n,r):Ca(e,t.child,n,r)}function mE(t,e,n,r,i){n=n.render;var s=e.ref;return ra(e,i),r=gv(t,e,n,r,s,i),n=yv(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(qe&&n&&iv(e),e.flags|=1,Jt(t,e,r,i),e.child)}function gE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Iv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dA(t,e,s,r,i)):(t=Md(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tu,n(o,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=rs(s,r),t.ref=e.ref,t.return=e,e.child=t}function dA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tu(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return cg(t,e,n,r,i)}function hA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(qo,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(qo,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(qo,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(qo,Sn),Sn|=r;return Jt(t,e,i,n),e.child}function fA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cg(t,e,n,r,i){var s=vn(n)?ro:Ht.current;return s=xa(e,s),ra(e,i),n=gv(t,e,n,r,s,i),r=yv(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(qe&&r&&iv(e),e.flags|=1,Jt(t,e,n,i),e.child)}function yE(t,e,n,r,i){if(vn(n)){var s=!0;ch(e)}else s=!1;if(ra(e,i),e.stateNode===null)Dd(t,e),lA(e,n,r),lg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=vn(n)?ro:Ht.current,c=xa(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dE(e,o,r,c),Di=!1;var f=e.memoizedState;o.state=f,mh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yn.current||Di?(typeof d=="function"&&(ag(e,n,d,r),l=e.memoizedState),(a=Di||cE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=vn(n)?ro:Ht.current,l=xa(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dE(e,o,r,l),Di=!1,f=e.memoizedState,o.state=f,mh(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||yn.current||Di?(typeof m=="function"&&(ag(e,n,m,r),v=e.memoizedState),(c=Di||cE(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return dg(t,e,n,r,s,i)}function dg(t,e,n,r,i,s){fA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&nE(e,n,!1),ai(t,e,s);r=e.stateNode,v2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ca(e,t.child,null,s),e.child=Ca(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&nE(e,n,!0),e.child}function pA(t){var e=t.stateNode;e.pendingContext?tE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tE(t,e.context,!1),hv(t,e.containerInfo)}function vE(t,e,n,r,i){return Sa(),ov(i),e.flags|=256,Jt(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function mA(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ke,i&1),t===null)return sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wf(o,r,0,null),t=to(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fg(n),e.memoizedState=hg,t):_v(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return w2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rs(a,s):(s=to(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return s=t.child,t=s.sibling,r=rs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function od(t,e,n,r){return r!==null&&ov(r),Ca(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function w2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hp(Error(Q(422))),od(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wf({mode:"visible",children:r.children},i,0,null),s=to(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ca(e,t.child,null,o),e.child.memoizedState=fg(o),e.memoizedState=hg,s);if(!(e.mode&1))return od(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=Hp(s,r,void 0),od(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oi(t,i),or(r,t,i,-1))}return Av(),r=Hp(Error(Q(421))),od(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=N2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,An=Zi(i.nextSibling),bn=e,qe=!0,rr=null,t!==null&&($n[zn++]=Kr,$n[zn++]=Gr,$n[zn++]=io,Kr=t.id,Gr=t.overflow,io=e),e=_v(e,r.children),e.flags|=4096,e)}function wE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),og(t.return,e,n)}function qp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wE(t,n,e);else if(t.tag===19)wE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qp(e,!0,n,null,s);break;case"together":qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _2(t,e,n){switch(e.tag){case 3:pA(e),Sa();break;case 5:$C(e);break;case 1:vn(e.type)&&ch(e);break;case 4:hv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(fh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?mA(t,e,n):(je(Ke,Ke.current&1),t=ai(t,e,n),t!==null?t.sibling:null);je(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,hA(t,e,n)}return ai(t,e,n)}var yA,pg,vA,wA;yA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pg=function(){};vA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hs(Cr.current);var s=null;switch(n){case"input":i=Mm(t,i),r=Mm(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=jm(t,i),r=jm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lh)}Bm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};wA=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E2(t,e,n){var r=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return vn(e.type)&&uh(),Lt(e),null;case 3:return r=e.stateNode,Aa(),He(yn),He(Ht),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(Tg(rr),rr=null))),pg(t,e),Lt(e),null;case 5:fv(e);var i=Hs(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)vA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Lt(e),null}if(t=Hs(Cr.current),id(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tr]=e,r[Cu]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Dl.length;i++)ze(Dl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":b_(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":R_(r,s),ze("invalid",r)}Bm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",""+a]):mu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Qc(r),P_(r,s,!0);break;case"textarea":Qc(r),k_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tr]=e,t[Cu]=r,yA(t,e,!1,!1),e.stateNode=t;e:{switch(o=$m(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dl.length;i++)ze(Dl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":b_(t,r),i=Mm(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),ze("invalid",t);break;case"textarea":R_(t,r),i=jm(t,r),ze("invalid",t);break;default:i=r}Bm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gu(t,l):typeof l=="number"&&gu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&Wy(t,s,l,o))}switch(n){case"input":Qc(t),P_(t,r,!1);break;case"textarea":Qc(t),k_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)wA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Hs(Iu.current),Hs(Cr.current),id(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Lt(e),null;case 13:if(He(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&An!==null&&e.mode&1&&!(e.flags&128))LC(),Sa(),e.flags|=98560,s=!1;else if(s=id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Tr]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else rr!==null&&(Tg(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?yt===0&&(yt=3):Av())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Aa(),pg(t,e),t===null&&xu(e.stateNode.containerInfo),Lt(e),null;case 10:return uv(e.type._context),Lt(e),null;case 17:return vn(e.type)&&uh(),Lt(e),null;case 19:if(He(Ke),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xl(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gh(t),o!==null){for(e.flags|=128,xl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>ba&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304)}else{if(!r)if(t=gh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Lt(e),null}else 2*ot()-s.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Ke.current,je(Ke,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function T2(t,e){switch(sv(e),e.tag){case 1:return vn(e.type)&&uh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(),He(yn),He(Ht),pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fv(e),null;case 13:if(He(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ke),null;case 4:return Aa(),null;case 10:return uv(e.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var ad=!1,$t=!1,x2=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function mg(t,e,n){try{n()}catch(r){tt(t,e,r)}}var _E=!1;function S2(t,e){if(Jm=sh,t=SC(),rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},sh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,E=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Zn(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){tt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return v=_E,_E=!1,v}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mg(e,n,s)}i=i.next}while(i!==r)}}function yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _A(t){var e=t.alternate;e!==null&&(t.alternate=null,_A(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[Cu],delete e[ng],delete e[o2],delete e[a2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EA(t){return t.tag===5||t.tag===3||t.tag===4}function EE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lh));else if(r!==4&&(t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}var St=null,nr=!1;function Ci(t,e,n){for(n=n.child;n!==null;)TA(t,e,n),n=n.sibling}function TA(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:$t||Ho(n,e);case 6:var r=St,i=nr;St=null,Ci(t,e,n),St=r,nr=i,St!==null&&(nr?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(nr?(t=St,n=n.stateNode,t.nodeType===8?jp(t.parentNode,n):t.nodeType===1&&jp(t,n),_u(t)):jp(St,n.stateNode));break;case 4:r=St,i=nr,St=n.stateNode.containerInfo,nr=!0,Ci(t,e,n),St=r,nr=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mg(n,e,o),i=i.next}while(i!==r)}Ci(t,e,n);break;case 1:if(!$t&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Ci(t,e,n),$t=r):Ci(t,e,n);break;default:Ci(t,e,n)}}function TE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x2),e.forEach(function(r){var i=D2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,nr=!1;break e;case 3:St=a.stateNode.containerInfo,nr=!0;break e;case 4:St=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(St===null)throw Error(Q(160));TA(s,o,i),St=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xA(e,t),e=e.sibling}function xA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),gr(t),r&4){try{Zl(3,t,t.return),yf(3,t)}catch(_){tt(t,t.return,_)}try{Zl(5,t,t.return)}catch(_){tt(t,t.return,_)}}break;case 1:Xn(e,t),gr(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(Xn(e,t),gr(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{gu(i,"")}catch(_){tt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HS(i,s),$m(a,o);var c=$m(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?YS(i,h):d==="dangerouslySetInnerHTML"?GS(i,h):d==="children"?gu(i,h):Wy(i,d,h,c)}switch(a){case"input":Lm(i,s);break;case"textarea":qS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Zo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cu]=s}catch(_){tt(t,t.return,_)}}break;case 6:if(Xn(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){tt(t,t.return,_)}}break;case 3:if(Xn(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(e.containerInfo)}catch(_){tt(t,t.return,_)}break;case 4:Xn(e,t),gr(t);break;case 13:Xn(e,t),gr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xv=ot())),r&4&&TE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||d,Xn(e,t),$t=c):Xn(e,t),gr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(h=ie=d;ie!==null;){switch(f=ie,m=f.child,f.tag){case 0:case 11:case 14:case 15:Zl(4,f,f.return);break;case 1:Ho(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){tt(r,n,_)}}break;case 5:Ho(f,f.return);break;case 22:if(f.memoizedState!==null){SE(h);continue}}m!==null?(m.return=f,ie=m):SE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QS("display",o))}catch(_){tt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){tt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(e,t),gr(t),r&4&&TE(t);break;case 21:break;default:Xn(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EA(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gu(i,""),r.flags&=-33);var s=EE(t);vg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=EE(t);yg(t,a,o);break;default:throw Error(Q(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C2(t,e,n){ie=t,SA(t)}function SA(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ad;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=ad;var c=$t;if(ad=o,($t=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?CE(i):l!==null?(l.return=o,ie=l):CE(i);for(;s!==null;)ie=s,SA(s),s=s.sibling;ie=i,ad=a,$t=c}xE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):xE(t)}}function xE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&aE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}aE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&_u(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}$t||e.flags&512&&gg(e)}catch(f){tt(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function SE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function CE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yf(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{gg(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{gg(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var A2=Math.ceil,wh=gi.ReactCurrentDispatcher,Ev=gi.ReactCurrentOwner,qn=gi.ReactCurrentBatchConfig,Pe=0,Tt=null,ct=null,bt=0,Sn=0,qo=Cs(0),yt=0,ku=null,oo=0,vf=0,Tv=0,eu=null,pn=null,xv=0,ba=1/0,Hr=null,_h=!1,wg=null,ts=null,ld=!1,Ki=null,Eh=0,tu=0,_g=null,Vd=-1,Od=0;function nn(){return Pe&6?ot():Vd!==-1?Vd:Vd=ot()}function ns(t){return t.mode&1?Pe&2&&bt!==0?bt&-bt:u2.transition!==null?(Od===0&&(Od=lC()),Od):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:mC(t.type)),t):1}function or(t,e,n,r){if(50<tu)throw tu=0,_g=null,Error(Q(185));oc(t,n,r),(!(Pe&2)||t!==Tt)&&(t===Tt&&(!(Pe&2)&&(vf|=n),yt===4&&Oi(t,bt)),wn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(ba=ot()+500,pf&&As()))}function wn(t,e){var n=t.callbackNode;uV(t,e);var r=ih(t,t===Tt?bt:0);if(r===0)n!==null&&V_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V_(n),e===1)t.tag===0?l2(AE.bind(null,t)):VC(AE.bind(null,t)),i2(function(){!(Pe&6)&&As()}),n=null;else{switch(uC(r)){case 1:n=Qy;break;case 4:n=oC;break;case 16:n=rh;break;case 536870912:n=aC;break;default:n=rh}n=NA(n,CA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CA(t,e){if(Vd=-1,Od=0,Pe&6)throw Error(Q(327));var n=t.callbackNode;if(ia()&&t.callbackNode!==n)return null;var r=ih(t,t===Tt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Th(t,r);else{e=r;var i=Pe;Pe|=2;var s=IA();(Tt!==t||bt!==e)&&(Hr=null,ba=ot()+500,eo(t,e));do try{P2();break}catch(a){AA(t,a)}while(!0);lv(),wh.current=s,Pe=i,ct!==null?e=0:(Tt=null,bt=0,e=yt)}if(e!==0){if(e===2&&(i=Km(t),i!==0&&(r=i,e=Eg(t,i))),e===1)throw n=ku,eo(t,0),Oi(t,r),wn(t,ot()),n;if(e===6)Oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!I2(i)&&(e=Th(t,r),e===2&&(s=Km(t),s!==0&&(r=s,e=Eg(t,s))),e===1))throw n=ku,eo(t,0),Oi(t,r),wn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:js(t,pn,Hr);break;case 3:if(Oi(t,r),(r&130023424)===r&&(e=xv+500-ot(),10<e)){if(ih(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tg(js.bind(null,t,pn,Hr),e);break}js(t,pn,Hr);break;case 4:if(Oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A2(r/1960))-r,10<r){t.timeoutHandle=tg(js.bind(null,t,pn,Hr),r);break}js(t,pn,Hr);break;case 5:js(t,pn,Hr);break;default:throw Error(Q(329))}}}return wn(t,ot()),t.callbackNode===n?CA.bind(null,t):null}function Eg(t,e){var n=eu;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=Th(t,e),t!==2&&(e=pn,pn=n,e!==null&&Tg(e)),t}function Tg(t){pn===null?pn=t:pn.push.apply(pn,t)}function I2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~Tv,e&=~vf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function AE(t){if(Pe&6)throw Error(Q(327));ia();var e=ih(t,0);if(!(e&1))return wn(t,ot()),null;var n=Th(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=Eg(t,r))}if(n===1)throw n=ku,eo(t,0),Oi(t,e),wn(t,ot()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,pn,Hr),wn(t,ot()),null}function Sv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(ba=ot()+500,pf&&As())}}function ao(t){Ki!==null&&Ki.tag===0&&!(Pe&6)&&ia();var e=Pe;Pe|=1;var n=qn.transition,r=Ve;try{if(qn.transition=null,Ve=1,t)return t()}finally{Ve=r,qn.transition=n,Pe=e,!(Pe&6)&&As()}}function Cv(){Sn=qo.current,He(qo)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r2(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uh();break;case 3:Aa(),He(yn),He(Ht),pv();break;case 5:fv(r);break;case 4:Aa();break;case 13:He(Ke);break;case 19:He(Ke);break;case 10:uv(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(Tt=t,ct=t=rs(t.current,null),bt=Sn=e,yt=0,ku=null,Tv=vf=oo=0,pn=eu=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function AA(t,e){do{var n=ct;try{if(lv(),kd.current=vh,yh){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yh=!1}if(so=0,Et=mt=Qe=null,Jl=!1,bu=0,Ev.current=null,n===null||n.return===null){yt=1,ku=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fE(o);if(m!==null){m.flags&=-257,pE(m,o,a,s,e),m.mode&1&&hE(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){hE(s,c,e),Av();break e}l=Error(Q(426))}}else if(qe&&a.mode&1){var E=fE(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),pE(E,o,a,s,e),ov(Ia(l,a));break e}}s=l=Ia(l,a),yt!==4&&(yt=2),eu===null?eu=[s]:eu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=uA(s,l,e);oE(s,w);break e;case 1:a=l;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ts===null||!ts.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=cA(s,a,e);oE(s,k);break e}}s=s.return}while(s!==null)}PA(n)}catch(D){e=D,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function IA(){var t=wh.current;return wh.current=vh,t===null?vh:t}function Av(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||!(oo&268435455)&&!(vf&268435455)||Oi(Tt,bt)}function Th(t,e){var n=Pe;Pe|=2;var r=IA();(Tt!==t||bt!==e)&&(Hr=null,eo(t,e));do try{b2();break}catch(i){AA(t,i)}while(!0);if(lv(),Pe=n,wh.current=r,ct!==null)throw Error(Q(261));return Tt=null,bt=0,yt}function b2(){for(;ct!==null;)bA(ct)}function P2(){for(;ct!==null&&!eV();)bA(ct)}function bA(t){var e=kA(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?PA(t):ct=e,Ev.current=null}function PA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T2(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ct=null;return}}else if(n=E2(n,e,Sn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);yt===0&&(yt=5)}function js(t,e,n){var r=Ve,i=qn.transition;try{qn.transition=null,Ve=1,R2(t,e,n,r)}finally{qn.transition=i,Ve=r}return null}function R2(t,e,n,r){do ia();while(Ki!==null);if(Pe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cV(t,s),t===Tt&&(ct=Tt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ld||(ld=!0,NA(rh,function(){return ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var o=Ve;Ve=1;var a=Pe;Pe|=4,Ev.current=null,S2(t,n),xA(n,t),YV(Zm),sh=!!Jm,Zm=Jm=null,t.current=n,C2(n),tV(),Pe=a,Ve=o,qn.transition=s}else t.current=n;if(ld&&(ld=!1,Ki=t,Eh=i),s=t.pendingLanes,s===0&&(ts=null),iV(n.stateNode),wn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_h)throw _h=!1,t=wg,wg=null,t;return Eh&1&&t.tag!==0&&ia(),s=t.pendingLanes,s&1?t===_g?tu++:(tu=0,_g=t):tu=0,As(),null}function ia(){if(Ki!==null){var t=uC(Eh),e=qn.transition,n=Ve;try{if(qn.transition=null,Ve=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,Eh=0,Pe&6)throw Error(Q(331));var i=Pe;for(Pe|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:Zl(8,d,s)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var f=d.sibling,m=d.return;if(_A(d),d===c){ie=null;break}if(f!==null){f.return=m,ie=f;break}ie=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ie=w;break e}ie=s.return}}var y=t.current;for(ie=y;ie!==null;){o=ie;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ie=T;else e:for(o=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yf(9,a)}}catch(D){tt(a,a.return,D)}if(a===o){ie=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ie=k;break e}ie=a.return}}if(Pe=i,As(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(uf,t)}catch{}r=!0}return r}finally{Ve=n,qn.transition=e}}return!1}function IE(t,e,n){e=Ia(n,e),e=uA(t,e,1),t=es(t,e,1),e=nn(),t!==null&&(oc(t,1,e),wn(t,e))}function tt(t,e,n){if(t.tag===3)IE(t,t,n);else for(;e!==null;){if(e.tag===3){IE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){t=Ia(n,t),t=cA(e,t,1),e=es(e,t,1),t=nn(),e!==null&&(oc(e,1,t),wn(e,t));break}}e=e.return}}function k2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(bt&n)===n&&(yt===4||yt===3&&(bt&130023424)===bt&&500>ot()-xv?eo(t,0):Tv|=n),wn(t,e)}function RA(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=nn();t=oi(t,e),t!==null&&(oc(t,e,n),wn(t,n))}function N2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RA(t,n)}function D2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),RA(t,n)}var kA;kA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,_2(t,e,n);gn=!!(t.flags&131072)}else gn=!1,qe&&e.flags&1048576&&OC(e,hh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=xa(e,Ht.current);ra(e,n),i=gv(null,e,r,t,i,n);var s=yv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(s=!0,ch(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dv(e),i.updater=gf,e.stateNode=i,i._reactInternals=e,lg(e,r,t,n),e=dg(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&iv(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=O2(r),t=Zn(r,t),i){case 0:e=cg(null,e,r,t,n);break e;case 1:e=yE(null,e,r,t,n);break e;case 11:e=mE(null,e,r,t,n);break e;case 14:e=gE(null,e,r,Zn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),cg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),yE(t,e,r,i,n);case 3:e:{if(pA(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,BC(t,e),mh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ia(Error(Q(423)),e),e=vE(t,e,r,n,i);break e}else if(r!==i){i=Ia(Error(Q(424)),e),e=vE(t,e,r,n,i);break e}else for(An=Zi(e.stateNode.containerInfo.firstChild),bn=e,qe=!0,rr=null,n=jC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===i){e=ai(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return $C(e),t===null&&sg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,eg(r,i)?o=null:s!==null&&eg(r,s)&&(e.flags|=32),fA(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&sg(e),null;case 13:return mA(t,e,n);case 4:return hv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),mE(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(fh,r._currentValue),r._currentValue=o,s!==null)if(ar(s.value,o)){if(s.children===i.children&&!yn.current){e=ai(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),og(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),og(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ra(e,n),i=Kn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),gE(t,e,r,i,n);case 15:return dA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Dd(t,e),e.tag=1,vn(r)?(t=!0,ch(e)):t=!1,ra(e,n),lA(e,r,i),lg(e,r,i,n),dg(null,e,r,!0,t,n);case 19:return gA(t,e,n);case 22:return hA(t,e,n)}throw Error(Q(156,e.tag))};function NA(t,e){return sC(t,e)}function V2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new V2(t,e,n,r)}function Iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O2(t){if(typeof t=="function")return Iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qy)return 11;if(t===Ky)return 14}return 2}function rs(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Md(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Iv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mo:return to(n.children,i,s,e);case Hy:o=8,i|=8;break;case Nm:return t=Hn(12,n,e,i|2),t.elementType=Nm,t.lanes=s,t;case Dm:return t=Hn(13,n,e,i),t.elementType=Dm,t.lanes=s,t;case Vm:return t=Hn(19,n,e,i),t.elementType=Vm,t.lanes=s,t;case $S:return wf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case US:o=10;break e;case BS:o=9;break e;case qy:o=11;break e;case Ky:o=14;break e;case Ni:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function to(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function wf(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=$S,t.lanes=n,t.stateNode={isHidden:!1},t}function Kp(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Gp(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bv(t,e,n,r,i,s,o,a,l){return t=new M2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(s),t}function L2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DA(t){if(!t)return ds;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(vn(n))return DC(t,n,e)}return e}function VA(t,e,n,r,i,s,o,a,l){return t=bv(n,r,!0,t,i,s,o,a,l),t.context=DA(null),n=t.current,r=nn(),i=ns(n),s=Zr(r,i),s.callback=e??null,es(n,s,i),t.current.lanes=i,oc(t,i,r),wn(t,r),t}function _f(t,e,n,r){var i=e.current,s=nn(),o=ns(i);return n=DA(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=es(i,e,o),t!==null&&(or(t,i,o,s),Rd(t,i,o)),o}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pv(t,e){bE(t,e),(t=t.alternate)&&bE(t,e)}function F2(){return null}var OA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rv(t){this._internalRoot=t}Ef.prototype.render=Rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));_f(t,e,null,null)};Ef.prototype.unmount=Rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){_f(null,t,null,null)}),e[si]=null}};function Ef(t){this._internalRoot=t}Ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=hC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&pC(t)}};function kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PE(){}function j2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xh(o);s.call(c)}}var o=VA(e,r,t,0,null,!1,!1,"",PE);return t._reactRootContainer=o,t[si]=o.current,xu(t.nodeType===8?t.parentNode:t),ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xh(l);a.call(c)}}var l=bv(t,0,!1,null,null,!1,!1,"",PE);return t._reactRootContainer=l,t[si]=l.current,xu(t.nodeType===8?t.parentNode:t),ao(function(){_f(e,l,n,r)}),l}function xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xh(o);a.call(l)}}_f(e,o,t,i)}else o=j2(n,e,t,i,r);return xh(o)}cC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nl(e.pendingLanes);n!==0&&(Yy(e,n|1),wn(e,ot()),!(Pe&6)&&(ba=ot()+500,As()))}break;case 13:ao(function(){var r=oi(t,1);if(r!==null){var i=nn();or(r,t,1,i)}}),Pv(t,1)}};Xy=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=nn();or(e,t,134217728,n)}Pv(t,134217728)}};dC=function(t){if(t.tag===13){var e=ns(t),n=oi(t,e);if(n!==null){var r=nn();or(n,t,e,r)}Pv(t,e)}};hC=function(){return Ve};fC=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Wm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ff(r);if(!i)throw Error(Q(90));WS(r),Lm(r,i)}}}break;case"textarea":qS(t,n);break;case"select":e=n.value,e!=null&&Zo(t,!!n.multiple,e,!1)}};ZS=Sv;eC=ao;var U2={usingClientEntryPoint:!1,Events:[lc,Uo,ff,XS,JS,Sv]},Sl={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B2={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rC(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||F2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{uf=ud.inject(B2),Sr=ud}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U2;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(e))throw Error(Q(200));return L2(t,e,null,n)};Nn.createRoot=function(t,e){if(!kv(t))throw Error(Q(299));var n=!1,r="",i=OA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bv(t,1,!1,null,null,n,!1,r,i),t[si]=e.current,xu(t.nodeType===8?t.parentNode:t),new Rv(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=rC(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return ao(t)};Nn.hydrate=function(t,e,n){if(!Tf(e))throw Error(Q(200));return xf(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!kv(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=OA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VA(e,null,t,1,n??null,i,!1,s,o),t[si]=e.current,xu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ef(e)};Nn.render=function(t,e,n){if(!Tf(e))throw Error(Q(200));return xf(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Tf(t))throw Error(Q(40));return t._reactRootContainer?(ao(function(){xf(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Nn.unstable_batchedUpdates=Sv;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return xf(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function MA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MA)}catch(t){console.error(t)}}MA(),MS.exports=Nn;var cc=MS.exports;const LA=SS(cc);var FA,RE=cc;FA=RE.createRoot,RE.hydrateRoot;const $2=1,z2=1e6;let Qp=0;function W2(){return Qp=(Qp+1)%Number.MAX_SAFE_INTEGER,Qp.toString()}const Yp=new Map,kE=t=>{if(Yp.has(t))return;const e=setTimeout(()=>{Yp.delete(t),nu({type:"REMOVE_TOAST",toastId:t})},z2);Yp.set(t,e)},H2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,$2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?kE(n):t.toasts.forEach(r=>{kE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ld=[];let Fd={toasts:[]};function nu(t){Fd=H2(Fd,t),Ld.forEach(e=>{e(Fd)})}function q2({...t}){const e=W2(),n=i=>nu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>nu({type:"DISMISS_TOAST",toastId:e});return nu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Sf(){const[t,e]=A.useState(Fd);return A.useEffect(()=>(Ld.push(e),()=>{const n=Ld.indexOf(e);n>-1&&Ld.splice(n,1)}),[t]),{...t,toast:q2,dismiss:n=>nu({type:"DISMISS_TOAST",toastId:n})}}function gt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function K2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function jA(...t){return e=>t.forEach(n=>K2(n,e))}function lr(...t){return A.useCallback(jA(...t),t)}function G2(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...v}=h,_=(f==null?void 0:f[t][l])||a,E=A.useMemo(()=>v,Object.values(v));return S.jsx(_.Provider,{value:E,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,v=A.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Q2(i,...e)]}function Q2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Pa=A.forwardRef((t,e)=>{const{children:n,...r}=t,i=A.Children.toArray(n),s=i.find(Y2);if(s){const o=s.props.children,a=i.map(l=>l===s?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:l);return S.jsx(xg,{...r,ref:e,children:A.isValidElement(o)?A.cloneElement(o,void 0,a):null})}return S.jsx(xg,{...r,ref:e,children:n})});Pa.displayName="Slot";var xg=A.forwardRef((t,e)=>{const{children:n,...r}=t;if(A.isValidElement(n)){const i=J2(n);return A.cloneElement(n,{...X2(r,n.props),ref:e?jA(e,i):i})}return A.Children.count(n)>1?A.Children.only(null):null});xg.displayName="SlotClone";var UA=({children:t})=>S.jsx(S.Fragment,{children:t});function Y2(t){return A.isValidElement(t)&&t.type===UA}function X2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function J2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Z2(t){const e=t+"CollectionProvider",[n,r]=G2(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:_}=m,E=W.useRef(null),w=W.useRef(new Map).current;return S.jsx(i,{scope:v,itemMap:w,collectionRef:E,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((m,v)=>{const{scope:_,children:E}=m,w=s(a,_),y=lr(v,w.collectionRef);return S.jsx(Pa,{ref:y,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=W.forwardRef((m,v)=>{const{scope:_,children:E,...w}=m,y=W.useRef(null),T=lr(v,y),k=s(c,_);return W.useEffect(()=>(k.itemMap.set(y,{ref:y,...w}),()=>void k.itemMap.delete(y))),S.jsx(Pa,{[d]:"",ref:T,children:E})});h.displayName=c;function f(m){const v=s(t+"CollectionConsumer",m);return W.useCallback(()=>{const E=v.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((k,D)=>w.indexOf(k.ref.current)-w.indexOf(D.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function BA(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:f,children:m,...v}=h,_=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,E=A.useMemo(()=>v,Object.values(v));return S.jsx(_.Provider,{value:E,children:m})};c.displayName=s+"Provider";function d(h,f){var _;const m=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,v=A.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,eO(i,...e)]}function eO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var tO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],an=tO.reduce((t,e)=>{const n=A.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Pa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $A(t,e){t&&cc.flushSync(()=>t.dispatchEvent(e))}function Dr(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nO(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rO="DismissableLayer",Sg="dismissableLayer.update",iO="dismissableLayer.pointerDownOutside",sO="dismissableLayer.focusOutside",NE,zA=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nv=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=A.useContext(zA),[d,h]=A.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),v=lr(e,C=>h(C)),_=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(E),y=d?_.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,k=y>=w,D=aO(C=>{const x=C.target,b=[...c.branches].some(P=>P.contains(x));!k||b||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),M=lO(C=>{const x=C.target;[...c.branches].some(P=>P.contains(x))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return nO(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),A.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(NE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),DE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=NE)}},[d,f,n,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),DE())},[d,c]),A.useEffect(()=>{const C=()=>m({});return document.addEventListener(Sg,C),()=>document.removeEventListener(Sg,C)},[]),S.jsx(an.div,{...l,ref:v,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:gt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:gt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:gt(t.onPointerDownCapture,D.onPointerDownCapture)})});Nv.displayName=rO;var oO="DismissableLayerBranch",WA=A.forwardRef((t,e)=>{const n=A.useContext(zA),r=A.useRef(null),i=lr(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),S.jsx(an.div,{...t,ref:i})});WA.displayName=oO;function aO(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){HA(iO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lO(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&HA(sO,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DE(){const t=new CustomEvent(Sg);document.dispatchEvent(t)}function HA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$A(i,s):i.dispatchEvent(s)}var uO=Nv,cO=WA,lo=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},dO="Portal",qA=A.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=A.useState(!1);lo(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?LA.createPortal(S.jsx(an.div,{...r,ref:e}),o):null});qA.displayName=dO;function hO(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Dv=t=>{const{present:e,children:n}=t,r=fO(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=lr(r.ref,pO(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};Dv.displayName="Presence";function fO(t){const[e,n]=A.useState(),r=A.useRef({}),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=cd(r.current);s.current=a==="mounted"?c:"none"},[a]),lo(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,m=cd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),lo(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const _=cd(r.current).includes(m.animationName);if(m.target===e&&_&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=m=>{m.target===e&&(s.current=cd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function cd(t){return(t==null?void 0:t.animationName)||"none"}function pO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mO({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=gO({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Dr(n),l=A.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function gO({defaultProp:t,onChange:e}){const n=A.useState(t),[r]=n,i=A.useRef(r),s=Dr(e);return A.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var yO="VisuallyHidden",Cf=A.forwardRef((t,e)=>S.jsx(an.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Cf.displayName=yO;var vO=Cf,Vv="ToastProvider",[Ov,wO,_O]=Z2("Toast"),[KA,k8]=BA("Toast",[_O]),[EO,Af]=KA(Vv),GA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=A.useState(null),[c,d]=A.useState(0),h=A.useRef(!1),f=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vv}\`. Expected non-empty \`string\`.`),S.jsx(Ov.Provider,{scope:e,children:S.jsx(EO,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:A.useCallback(()=>d(m=>m+1),[]),onToastRemove:A.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};GA.displayName=Vv;var QA="ToastViewport",TO=["F8"],Cg="toast.viewportPause",Ag="toast.viewportResume",YA=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=TO,label:i="Notifications ({hotkey})",...s}=t,o=Af(QA,n),a=wO(n),l=A.useRef(null),c=A.useRef(null),d=A.useRef(null),h=A.useRef(null),f=lr(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;A.useEffect(()=>{const E=w=>{var T;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),A.useEffect(()=>{const E=l.current,w=h.current;if(v&&E&&w){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Cg);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Ag);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!E.contains(M.relatedTarget)&&T()},D=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",y),E.addEventListener("focusout",k),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",T)}}},[v,o.isClosePausedRef]);const _=A.useCallback(({tabbingDirection:E})=>{const y=a().map(T=>{const k=T.ref.current,D=[k,...OO(k)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return A.useEffect(()=>{const E=h.current;if(E){const w=y=>{var D,M,C;const T=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!T){const x=document.activeElement,b=y.shiftKey;if(y.target===E&&b){(D=c.current)==null||D.focus();return}const N=_({tabbingDirection:b?"backwards":"forwards"}),R=N.findIndex(q=>q===x);Xp(N.slice(R+1))?y.preventDefault():b?(M=c.current)==null||M.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,_]),S.jsxs(cO,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&S.jsx(Ig,{ref:c,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});Xp(E)}}),S.jsx(Ov.Slot,{scope:n,children:S.jsx(an.ol,{tabIndex:-1,...s,ref:f})}),v&&S.jsx(Ig,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});Xp(E)}})]})});YA.displayName=QA;var XA="ToastFocusProxy",Ig=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Af(XA,n);return S.jsx(Cf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Ig.displayName=XA;var If="Toast",xO="toast.swipeStart",SO="toast.swipeMove",CO="toast.swipeCancel",AO="toast.swipeEnd",JA=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=mO({prop:r,defaultProp:i,onChange:s});return S.jsx(Dv,{present:n||a,children:S.jsx(PO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Dr(t.onPause),onResume:Dr(t.onResume),onSwipeStart:gt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:gt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});JA.displayName=If;var[IO,bO]=KA(If,{onClose(){}}),PO=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=t,_=Af(If,n),[E,w]=A.useState(null),y=lr(e,q=>w(q)),T=A.useRef(null),k=A.useRef(null),D=i||_.duration,M=A.useRef(0),C=A.useRef(D),x=A.useRef(0),{onToastAdd:b,onToastRemove:P}=_,V=Dr(()=>{var oe;(E==null?void 0:E.contains(document.activeElement))&&((oe=_.viewport)==null||oe.focus()),o()}),N=A.useCallback(q=>{!q||q===1/0||(window.clearTimeout(x.current),M.current=new Date().getTime(),x.current=window.setTimeout(V,q))},[V]);A.useEffect(()=>{const q=_.viewport;if(q){const oe=()=>{N(C.current),c==null||c()},ae=()=>{const ee=new Date().getTime()-M.current;C.current=C.current-ee,window.clearTimeout(x.current),l==null||l()};return q.addEventListener(Cg,ae),q.addEventListener(Ag,oe),()=>{q.removeEventListener(Cg,ae),q.removeEventListener(Ag,oe)}}},[_.viewport,D,l,c,N]),A.useEffect(()=>{s&&!_.isClosePausedRef.current&&N(D)},[s,D,_.isClosePausedRef,N]),A.useEffect(()=>(b(),()=>P()),[b,P]);const R=A.useMemo(()=>E?sI(E):null,[E]);return _.viewport?S.jsxs(S.Fragment,{children:[R&&S.jsx(RO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),S.jsx(IO,{scope:n,onClose:V,children:cc.createPortal(S.jsx(Ov.ItemSlot,{scope:n,children:S.jsx(uO,{asChild:!0,onEscapeKeyDown:gt(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||V(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(an.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:gt(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:gt(t.onPointerDown,q=>{q.button===0&&(T.current={x:q.clientX,y:q.clientY})}),onPointerMove:gt(t.onPointerMove,q=>{if(!T.current)return;const oe=q.clientX-T.current.x,ae=q.clientY-T.current.y,ee=!!k.current,j=["left","right"].includes(_.swipeDirection),K=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,te=j?K(0,oe):0,ne=j?0:K(0,ae),le=q.pointerType==="touch"?10:2,ce={x:te,y:ne},Oe={originalEvent:q,delta:ce};ee?(k.current=ce,dd(SO,h,Oe,{discrete:!1})):VE(ce,_.swipeDirection,le)?(k.current=ce,dd(xO,d,Oe,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(oe)>le||Math.abs(ae)>le)&&(T.current=null)}),onPointerUp:gt(t.onPointerUp,q=>{const oe=k.current,ae=q.target;if(ae.hasPointerCapture(q.pointerId)&&ae.releasePointerCapture(q.pointerId),k.current=null,T.current=null,oe){const ee=q.currentTarget,j={originalEvent:q,delta:oe};VE(oe,_.swipeDirection,_.swipeThreshold)?dd(AO,m,j,{discrete:!0}):dd(CO,f,j,{discrete:!0}),ee.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),RO=t=>{const{__scopeToast:e,children:n,...r}=t,i=Af(If,e),[s,o]=A.useState(!1),[a,l]=A.useState(!1);return DO(()=>o(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:S.jsx(qA,{asChild:!0,children:S.jsx(Cf,{...r,children:s&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},kO="ToastTitle",ZA=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(an.div,{...r,ref:e})});ZA.displayName=kO;var NO="ToastDescription",eI=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(an.div,{...r,ref:e})});eI.displayName=NO;var tI="ToastAction",nI=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?S.jsx(iI,{altText:n,asChild:!0,children:S.jsx(Mv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tI}\`. Expected non-empty \`string\`.`),null)});nI.displayName=tI;var rI="ToastClose",Mv=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=bO(rI,n);return S.jsx(iI,{asChild:!0,children:S.jsx(an.button,{type:"button",...r,ref:e,onClick:gt(t.onClick,i.onClose)})})});Mv.displayName=rI;var iI=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return S.jsx(an.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function sI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...sI(r))}}),e}function dd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$A(i,s):i.dispatchEvent(s)}var VE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function DO(t=()=>{}){const e=Dr(t);lo(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function VO(t){return t.nodeType===t.ELEMENT_NODE}function OO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Xp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var MO=GA,oI=YA,aI=JA,lI=ZA,uI=eI,cI=nI,dI=Mv;function hI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hI(t))&&(r&&(r+=" "),r+=e);return r}const OE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ME=fI,Lv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ME(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const f=OE(d)||OE(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[_,E]=v;return Array.isArray(E)?E.includes({...s,...a}[_]):{...s,...a}[_]===E})?[...c,h,f]:c},[]);return ME(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>A.createElement("svg",{ref:l,...FO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pI("lucide",i),...a},[...o.map(([c,d])=>A.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(jO,{ref:s,iconNode:e,className:pI(`lucide-${LO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Kt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Kt("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Kt("EyeClosed",[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Kt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Kt("FolderCog",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v3.3",key:"1k8050"}],["path",{d:"m21.7 19.4-.9-.3",key:"1qgwi9"}],["path",{d:"m15.2 16.9-.9-.3",key:"1t7mvx"}],["path",{d:"m16.6 21.7.3-.9",key:"1j67ps"}],["path",{d:"m19.1 15.2.3-.9",key:"18r7jp"}],["path",{d:"m19.6 21.7-.4-1",key:"z2vh2"}],["path",{d:"m16.8 15.3-.4-1",key:"1ei7r6"}],["path",{d:"m14.3 19.6 1-.4",key:"11sv9r"}],["path",{d:"m20.7 16.8 1-.4",key:"19m87a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Kt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jv="-",QO=t=>{const e=XO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(jv);return a[0]===""&&a.length!==1&&a.shift(),yI(a,e)||YO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},yI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?yI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(jv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},FE=/^\[(.+)\]$/,YO=t=>{if(FE.test(t)){const e=FE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},XO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ZO(Object.entries(t.classGroups),n).forEach(([s,o])=>{kg(o,r,s,e)}),r},kg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:jE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(JO(i)){kg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{kg(o,jE(e,s),n,r)})})},jE=(t,e)=>{let n=t;return e.split(jv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JO=t=>t.isThemeGetter,ZO=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,eM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},vI="!",tM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let E=0;E<a.length;E++){let w=a[E];if(c===0){if(w===i&&(r||a.slice(E,E+s)===e)){l.push(a.slice(d,E)),d=E+s;continue}if(w==="/"){h=E;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(vI),v=m?f.substring(1):f,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},nM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},rM=t=>({cache:eM(t.cacheSize),parseClassName:tM(t),...QO(t)}),iM=/\s+/,sM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(iM);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let v=!!m,_=r(v?f.substring(0,m):f);if(!_){if(!v){a=c+(a.length>0?" "+a:a);continue}if(_=r(f),!_){a=c+(a.length>0?" "+a:a);continue}v=!1}const E=nM(d).join(":"),w=h?E+vI:E,y=w+_;if(s.includes(y))continue;s.push(y);const T=i(_,v);for(let k=0;k<T.length;++k){const D=T[k];s.push(w+D)}a=c+(a.length>0?" "+a:a)}return a};function oM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wI(e))&&(r&&(r+=" "),r+=n);return r}const wI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wI(t[r]))&&(n&&(n+=" "),n+=e);return n};function aM(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=rM(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=sM(l,n);return i(l,d),d}return function(){return s(oM.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_I=/^\[(?:([a-z-]+):)?(.+)\]$/i,lM=/^\d+\/\d+$/,uM=new Set(["px","full","screen"]),cM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=t=>sa(t)||uM.has(t)||lM.test(t),Ai=t=>qa(t,"length",TM),sa=t=>!!t&&!Number.isNaN(Number(t)),Jp=t=>qa(t,"number",sa),Cl=t=>!!t&&Number.isInteger(Number(t)),mM=t=>t.endsWith("%")&&sa(t.slice(0,-1)),_e=t=>_I.test(t),Ii=t=>cM.test(t),gM=new Set(["length","size","percentage"]),yM=t=>qa(t,gM,EI),vM=t=>qa(t,"position",EI),wM=new Set(["image","url"]),_M=t=>qa(t,wM,SM),EM=t=>qa(t,"",xM),Al=()=>!0,qa=(t,e,n)=>{const r=_I.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},TM=t=>dM.test(t)&&!hM.test(t),EI=()=>!1,xM=t=>fM.test(t),SM=t=>pM.test(t),CM=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),i=$e("borderColor"),s=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),c=$e("grayscale"),d=$e("hueRotate"),h=$e("invert"),f=$e("gap"),m=$e("gradientColorStops"),v=$e("gradientColorStopPositions"),_=$e("inset"),E=$e("margin"),w=$e("opacity"),y=$e("padding"),T=$e("saturate"),k=$e("scale"),D=$e("sepia"),M=$e("skew"),C=$e("space"),x=$e("translate"),b=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",_e,e],N=()=>[_e,e],R=()=>["",$r,Ai],q=()=>["auto",sa,_e],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",_e],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[sa,_e];return{cacheSize:500,separator:":",theme:{colors:[Al],spacing:[$r,Ai],blur:["none","",Ii,_e],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Ii,_e],borderSpacing:N(),borderWidth:R(),contrast:ne(),grayscale:K(),hueRotate:ne(),invert:K(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[mM,Ai],inset:V(),margin:V(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:K(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ii]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),_e]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,_e]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Cl,_e]}],"grid-cols":[{"grid-cols":[Al]}],"col-start-end":[{col:["auto",{span:["full",Cl,_e]},_e]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Al]}],"row-start-end":[{row:["auto",{span:[Cl,_e]},_e]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Ii]},Ii]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ii,Ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jp]}],"font-family":[{font:[Al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",sa,Jp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,Ai]}],"underline-offset":[{"underline-offset":["auto",$r,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),vM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_M]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[$r,_e]}],"outline-w":[{outline:[$r,Ai]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[$r,Ai]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ii,EM]}],"shadow-color":[{shadow:[Al]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ii,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Cl,_e]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$r,Ai,Jp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AM=aM(CM);function ht(...t){return AM(fI(t))}const IM=MO,TI=A.forwardRef(({className:t,...e},n)=>S.jsx(oI,{ref:n,className:ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TI.displayName=oI.displayName;const bM=Lv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xI=A.forwardRef(({className:t,variant:e,...n},r)=>S.jsx(aI,{ref:r,className:ht(bM({variant:e}),t),...n}));xI.displayName=aI.displayName;const PM=A.forwardRef(({className:t,...e},n)=>S.jsx(cI,{ref:n,className:ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));PM.displayName=cI.displayName;const SI=A.forwardRef(({className:t,...e},n)=>S.jsx(dI,{ref:n,className:ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(gI,{className:"h-4 w-4"})}));SI.displayName=dI.displayName;const CI=A.forwardRef(({className:t,...e},n)=>S.jsx(lI,{ref:n,className:ht("text-sm font-semibold",t),...e}));CI.displayName=lI.displayName;const AI=A.forwardRef(({className:t,...e},n)=>S.jsx(uI,{ref:n,className:ht("text-sm opacity-90",t),...e}));AI.displayName=uI.displayName;function RM(){const{toasts:t}=Sf();return S.jsxs(IM,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return S.jsxs(xI,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(CI,{children:n}),r&&S.jsx(AI,{children:r})]}),i,S.jsx(SI,{})]},e)}),S.jsx(TI,{})]})}var UE=["light","dark"],kM="(prefers-color-scheme: dark)",NM=A.createContext(void 0),DM={setTheme:t=>{},themes:[]},VM=()=>{var t;return(t=A.useContext(NM))!=null?t:DM};A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?UE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,_=!1,E=!0)=>{let w=o?o[v]:v,y=_?v+"|| ''":`'${w}'`,T="";return i&&E&&!_&&UE.includes(v)&&(T+=`d.style.colorScheme = '${v}';`),n==="class"?_||w?T+=`c.add(${y})`:T+="null":w&&(T+=`d[s](n,${y})`),T},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${kM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return A.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var OM=t=>{switch(t){case"success":return FM;case"info":return UM;case"warning":return jM;case"error":return BM;default:return null}},MM=Array(12).fill(0),LM=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},MM.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FM=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jM=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UM=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BM=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$M=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ng=1,zM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ng++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(HM(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ng++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},xn=new zM,WM=(t,e)=>{let n=(e==null?void 0:e.id)||Ng++;return xn.addToast({title:t,...e,id:n}),n},HM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qM=WM,KM=()=>xn.toasts;Object.assign(qM,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:KM});function GM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}GM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hd(t){return t.label!==void 0}var QM=3,YM="32px",XM=4e3,JM=356,ZM=14,eL=20,tL=200;function nL(...t){return t.filter(Boolean).join(" ")}var rL=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:h,toast:f,unstyled:m,interacting:v,setHeights:_,visibleToasts:E,heights:w,index:y,toasts:T,expanded:k,removeToast:D,defaultRichColors:M,closeButton:C,style:x,cancelButtonStyle:b,actionButtonStyle:P,className:V="",descriptionClassName:N="",duration:R,position:q,gap:oe,loadingIcon:ae,expandByDefault:ee,classNames:j,icons:K,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ne,cn:le}=t,[ce,Oe]=W.useState(!1),[rt,Ie]=W.useState(!1),[ft,ln]=W.useState(!1),[_n,Gt]=W.useState(!1),[Vn,On]=W.useState(0),[un,Mn]=W.useState(0),Lr=W.useRef(null),Ln=W.useRef(null),xo=y===0,O=y+1<=E,L=f.type,B=f.dismissible!==!1,Z=f.className||"",Y=f.descriptionClassName||"",G=W.useMemo(()=>w.findIndex(me=>me.toastId===f.id)||0,[w,f.id]),ue=W.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:C},[f.closeButton,C]),ye=W.useMemo(()=>f.duration||R||XM,[f.duration,R]),Te=W.useRef(0),we=W.useRef(0),Qt=W.useRef(0),Qn=W.useRef(null),[Fr,Ds]=q.split("-"),fr=W.useMemo(()=>w.reduce((me,Me,De)=>De>=G?me:me+Me.height,0),[w,G]),_i=$M(),So=f.invert||h,pr=L==="loading";we.current=W.useMemo(()=>G*oe+fr,[G,fr]),W.useEffect(()=>{Oe(!0)},[]),W.useLayoutEffect(()=>{if(!ce)return;let me=Ln.current,Me=me.style.height;me.style.height="auto";let De=me.getBoundingClientRect().height;me.style.height=Me,Mn(De),_(Nt=>Nt.find(cn=>cn.toastId===f.id)?Nt.map(cn=>cn.toastId===f.id?{...cn,height:De}:cn):[{toastId:f.id,height:De,position:f.position},...Nt])},[ce,f.title,f.description,_,f.id]);let mr=W.useCallback(()=>{Ie(!0),On(we.current),_(me=>me.filter(Me=>Me.toastId!==f.id)),setTimeout(()=>{D(f)},tL)},[f,D,_,we]);W.useEffect(()=>{if(f.promise&&L==="loading"||f.duration===1/0||f.type==="loading")return;let me,Me=ye;return k||v||ne&&_i?(()=>{if(Qt.current<Te.current){let De=new Date().getTime()-Te.current;Me=Me-De}Qt.current=new Date().getTime()})():Me!==1/0&&(Te.current=new Date().getTime(),me=setTimeout(()=>{var De;(De=f.onAutoClose)==null||De.call(f,f),mr()},Me)),()=>clearTimeout(me)},[k,v,ee,f,ye,mr,f.promise,L,ne,_i]),W.useEffect(()=>{let me=Ln.current;if(me){let Me=me.getBoundingClientRect().height;return Mn(Me),_(De=>[{toastId:f.id,height:Me,position:f.position},...De]),()=>_(De=>De.filter(Nt=>Nt.toastId!==f.id))}},[_,f.id]),W.useEffect(()=>{f.delete&&mr()},[mr,f.delete]);function up(){return K!=null&&K.loading?W.createElement("div",{className:"sonner-loader","data-visible":L==="loading"},K.loading):ae?W.createElement("div",{className:"sonner-loader","data-visible":L==="loading"},ae):W.createElement(LM,{visible:L==="loading"})}return W.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ln,className:le(V,Z,j==null?void 0:j.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[L],(n=f==null?void 0:f.classNames)==null?void 0:n[L]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ce,"data-promise":!!f.promise,"data-removed":rt,"data-visible":O,"data-y-position":Fr,"data-x-position":Ds,"data-index":y,"data-front":xo,"data-swiping":ft,"data-dismissible":B,"data-type":L,"data-invert":So,"data-swipe-out":_n,"data-expanded":!!(k||ee&&ce),style:{"--index":y,"--toasts-before":y,"--z-index":T.length-y,"--offset":`${rt?Vn:we.current}px`,"--initial-height":ee?"auto":`${un}px`,...x,...f.style},onPointerDown:me=>{pr||!B||(Lr.current=new Date,On(we.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(ln(!0),Qn.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Me,De,Nt;if(_n||!B)return;Qn.current=null;let cn=Number(((me=Ln.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ei=new Date().getTime()-((Me=Lr.current)==null?void 0:Me.getTime()),jr=Math.abs(cn)/Ei;if(Math.abs(cn)>=eL||jr>.11){On(we.current),(De=f.onDismiss)==null||De.call(f,f),mr(),Gt(!0);return}(Nt=Ln.current)==null||Nt.style.setProperty("--swipe-amount","0px"),ln(!1)},onPointerMove:me=>{var Me;if(!Qn.current||!B)return;let De=me.clientY-Qn.current.y,Nt=me.clientX-Qn.current.x,cn=(Fr==="top"?Math.min:Math.max)(0,De),Ei=me.pointerType==="touch"?10:2;Math.abs(cn)>Ei?(Me=Ln.current)==null||Me.style.setProperty("--swipe-amount",`${De}px`):Math.abs(Nt)>Ei&&(Qn.current=null)}},ue&&!f.jsx?W.createElement("button",{"aria-label":te,"data-disabled":pr,"data-close-button":!0,onClick:pr||!B?()=>{}:()=>{var me;mr(),(me=f.onDismiss)==null||me.call(f,f)},className:le(j==null?void 0:j.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||W.isValidElement(f.title)?f.jsx||f.title:W.createElement(W.Fragment,null,L||f.icon||f.promise?W.createElement("div",{"data-icon":"",className:le(j==null?void 0:j.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||up():null,f.type!=="loading"?f.icon||(K==null?void 0:K[L])||OM(L):null):null,W.createElement("div",{"data-content":"",className:le(j==null?void 0:j.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:le(j==null?void 0:j.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?W.createElement("div",{"data-description":"",className:le(N,Y,j==null?void 0:j.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),W.isValidElement(f.cancel)?f.cancel:f.cancel&&hd(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||b,onClick:me=>{var Me,De;hd(f.cancel)&&B&&((De=(Me=f.cancel).onClick)==null||De.call(Me,me),mr())},className:le(j==null?void 0:j.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,W.isValidElement(f.action)?f.action:f.action&&hd(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:me=>{var Me,De;hd(f.action)&&(me.defaultPrevented||((De=(Me=f.action).onClick)==null||De.call(Me,me),mr()))},className:le(j==null?void 0:j.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function BE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var iL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=QM,toastOptions:m,dir:v=BE(),gap:_=ZM,loadingIcon:E,icons:w,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:T,cn:k=nL}=t,[D,M]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(ne=>ne.position).map(ne=>ne.position)))),[D,n]),[x,b]=W.useState([]),[P,V]=W.useState(!1),[N,R]=W.useState(!1),[q,oe]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=W.useRef(null),ee=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=W.useRef(null),K=W.useRef(!1),te=W.useCallback(ne=>{var le;(le=D.find(ce=>ce.id===ne.id))!=null&&le.delete||xn.dismiss(ne.id),M(ce=>ce.filter(({id:Oe})=>Oe!==ne.id))},[D]);return W.useEffect(()=>xn.subscribe(ne=>{if(ne.dismiss){M(le=>le.map(ce=>ce.id===ne.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{LA.flushSync(()=>{M(le=>{let ce=le.findIndex(Oe=>Oe.id===ne.id);return ce!==-1?[...le.slice(0,ce),{...le[ce],...ne},...le.slice(ce+1)]:[ne,...le]})})})}),[]),W.useEffect(()=>{if(l!=="system"){oe(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{oe(ne?"dark":"light")})},[l]),W.useEffect(()=>{D.length<=1&&V(!1)},[D]),W.useEffect(()=>{let ne=le=>{var ce,Oe;r.every(rt=>le[rt]||le.code===rt)&&(V(!0),(ce=ae.current)==null||ce.focus()),le.code==="Escape"&&(document.activeElement===ae.current||(Oe=ae.current)!=null&&Oe.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[r]),W.useEffect(()=>{if(ae.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,K.current=!1)}},[ae.current]),D.length?W.createElement("section",{"aria-label":`${y} ${ee}`,tabIndex:-1},C.map((ne,le)=>{var ce;let[Oe,rt]=ne.split("-");return W.createElement("ol",{key:ne,dir:v==="auto"?BE():v,tabIndex:-1,ref:ae,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Oe,"data-x-position":rt,style:{"--front-toast-height":`${((ce=x[0])==null?void 0:ce.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||YM,"--width":`${JM}px`,"--gap":`${_}px`,...h},onBlur:Ie=>{K.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(K.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||K.current||(K.current=!0,j.current=Ie.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{N||V(!1)},onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},D.filter(Ie=>!Ie.position&&le===0||Ie.position===ne).map((Ie,ft)=>{var ln,_n;return W.createElement(rL,{key:Ie.id,icons:w,index:ft,toast:Ie,defaultRichColors:c,duration:(ln=m==null?void 0:m.duration)!=null?ln:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(_n=m==null?void 0:m.closeButton)!=null?_n:s,interacting:N,position:ne,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:te,toasts:D.filter(Gt=>Gt.position==Ie.position),heights:x.filter(Gt=>Gt.position==Ie.position),setHeights:b,expandByDefault:i,gap:_,loadingIcon:E,expanded:P,pauseWhenPageIsHidden:T,cn:k})}))})):null};const sL=({...t})=>{const{theme:e="system"}=VM();return S.jsx(iL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},oL=["top","right","bottom","left"],hs=Math.min,Cn=Math.max,Sh=Math.round,fd=Math.floor,fs=t=>({x:t,y:t}),aL={left:"right",right:"left",bottom:"top",top:"bottom"},lL={start:"end",end:"start"};function Dg(t,e,n){return Cn(t,hs(e,n))}function li(t,e){return typeof t=="function"?t(e):t}function ui(t){return t.split("-")[0]}function Ka(t){return t.split("-")[1]}function Uv(t){return t==="x"?"y":"x"}function Bv(t){return t==="y"?"height":"width"}function ps(t){return["top","bottom"].includes(ui(t))?"y":"x"}function $v(t){return Uv(ps(t))}function uL(t,e,n){n===void 0&&(n=!1);const r=Ka(t),i=$v(t),s=Bv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ch(o)),[o,Ch(o)]}function cL(t){const e=Ch(t);return[Vg(t),e,Vg(e)]}function Vg(t){return t.replace(/start|end/g,e=>lL[e])}function dL(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function hL(t,e,n,r){const i=Ka(t);let s=dL(ui(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Vg)))),s}function Ch(t){return t.replace(/left|right|bottom|top/g,e=>aL[e])}function fL(t){return{top:0,right:0,bottom:0,left:0,...t}}function II(t){return typeof t!="number"?fL(t):{top:t,right:t,bottom:t,left:t}}function Ah(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $E(t,e,n){let{reference:r,floating:i}=t;const s=ps(e),o=$v(e),a=Bv(o),l=ui(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ka(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const pL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=$E(c,r,l),f=r,m={},v=0;for(let _=0;_<a.length;_++){const{name:E,fn:w}=a[_],{x:y,y:T,data:k,reset:D}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,h=T??h,m={...m,[E]:{...m[E],...k}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:h}=$E(c,f,l)),_=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function Nu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=li(e,t),v=II(m),E=a[f?h==="floating"?"reference":"floating":h],w=Ah(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Ah(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:l}):y);return{top:(w.top-D.top+v.top)/k.y,bottom:(D.bottom-w.bottom+v.bottom)/k.y,left:(w.left-D.left+v.left)/k.x,right:(D.right-w.right+v.right)/k.x}}const mL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=li(t,e)||{};if(c==null)return{};const h=II(d),f={x:n,y:r},m=$v(i),v=Bv(m),_=await o.getDimensions(c),E=m==="y",w=E?"top":"left",y=E?"bottom":"right",T=E?"clientHeight":"clientWidth",k=s.reference[v]+s.reference[m]-f[m]-s.floating[v],D=f[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||s.floating[v]);const x=k/2-D/2,b=C/2-_[v]/2-1,P=hs(h[w],b),V=hs(h[y],b),N=P,R=C-_[v]-V,q=C/2-_[v]/2+x,oe=Dg(N,q,R),ae=!l.arrow&&Ka(i)!=null&&q!==oe&&s.reference[v]/2-(q<N?P:V)-_[v]/2<0,ee=ae?q<N?q-N:q-R:0;return{[m]:f[m]+ee,data:{[m]:oe,centerOffset:q-oe-ee,...ae&&{alignmentOffset:ee}},reset:ae}}}),gL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...E}=li(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=ui(i),y=ps(a),T=ui(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=f||(T||!_?[Ch(a)]:cL(a)),M=v!=="none";!f&&M&&D.push(...hL(a,_,v,k));const C=[a,...D],x=await Nu(e,E),b=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&b.push(x[w]),h){const q=uL(i,o,k);b.push(x[q[0]],x[q[1]])}if(P=[...P,{placement:i,overflows:b}],!b.every(q=>q<=0)){var V,N;const q=(((V=s.flip)==null?void 0:V.index)||0)+1,oe=C[q];if(oe)return{data:{index:q,overflows:P},reset:{placement:oe}};let ae=(N=P.filter(ee=>ee.overflows[0]<=0).sort((ee,j)=>ee.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!ae)switch(m){case"bestFit":{var R;const ee=(R=P.filter(j=>{if(M){const K=ps(j.placement);return K===y||K==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(K=>K>0).reduce((K,te)=>K+te,0)]).sort((j,K)=>j[1]-K[1])[0])==null?void 0:R[0];ee&&(ae=ee);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function zE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WE(t){return oL.some(e=>t[e]>=0)}const yL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=li(t,e);switch(r){case"referenceHidden":{const s=await Nu(e,{...i,elementContext:"reference"}),o=zE(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WE(o)}}}case"escaped":{const s=await Nu(e,{...i,altBoundary:!0}),o=zE(s,n.floating);return{data:{escapedOffsets:o,escaped:WE(o)}}}default:return{}}}}};async function vL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ui(n),a=Ka(n),l=ps(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=li(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const wL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await vL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},_L=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y}=E;return{x:w,y}}},...l}=li(t,e),c={x:n,y:r},d=await Nu(e,l),h=ps(ui(i)),f=Uv(h);let m=c[f],v=c[h];if(s){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=m+d[E],T=m-d[w];m=Dg(y,m,T)}if(o){const E=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=v+d[E],T=v-d[w];v=Dg(y,v,T)}const _=a.fn({...e,[f]:m,[h]:v});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[f]:s,[h]:o}}}}}},EL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=li(t,e),d={x:n,y:r},h=ps(i),f=Uv(h);let m=d[f],v=d[h];const _=li(a,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=f==="y"?"height":"width",k=s.reference[f]-s.floating[T]+E.mainAxis,D=s.reference[f]+s.reference[T]-E.mainAxis;m<k?m=k:m>D&&(m=D)}if(c){var w,y;const T=f==="y"?"width":"height",k=["top","left"].includes(ui(i)),D=s.reference[h]-s.floating[T]+(k&&((w=o.offset)==null?void 0:w[h])||0)+(k?0:E.crossAxis),M=s.reference[h]+s.reference[T]+(k?0:((y=o.offset)==null?void 0:y[h])||0)-(k?E.crossAxis:0);v<D?v=D:v>M&&(v=M)}return{[f]:m,[h]:v}}}},TL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=li(t,e),d=await Nu(e,c),h=ui(i),f=Ka(i),m=ps(i)==="y",{width:v,height:_}=s.floating;let E,w;h==="top"||h==="bottom"?(E=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,E=f==="end"?"top":"bottom");const y=_-d.top-d.bottom,T=v-d.left-d.right,k=hs(_-d[E],y),D=hs(v-d[w],T),M=!e.middlewareData.shift;let C=k,x=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),M&&!f){const P=Cn(d.left,0),V=Cn(d.right,0),N=Cn(d.top,0),R=Cn(d.bottom,0);m?x=v-2*(P!==0||V!==0?P+V:Cn(d.left,d.right)):C=_-2*(N!==0||R!==0?N+R:Cn(d.top,d.bottom))}await l({...e,availableWidth:x,availableHeight:C});const b=await o.getDimensions(a.floating);return v!==b.width||_!==b.height?{reset:{rects:!0}}:{}}}};function bf(){return typeof window<"u"}function Ga(t){return bI(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mr(t){var e;return(e=(bI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bI(t){return bf()?t instanceof Node||t instanceof Pn(t).Node:!1}function ur(t){return bf()?t instanceof Element||t instanceof Pn(t).Element:!1}function Vr(t){return bf()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function HE(t){return!bf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}function dc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function xL(t){return["table","td","th"].includes(Ga(t))}function Pf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function zv(t){const e=Wv(),n=ur(t)?cr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function SL(t){let e=ms(t);for(;Vr(e)&&!Ra(e);){if(zv(e))return e;if(Pf(e))return null;e=ms(e)}return null}function Wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ra(t){return["html","body","#document"].includes(Ga(t))}function cr(t){return Pn(t).getComputedStyle(t)}function Rf(t){return ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(Ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HE(t)&&t.host||Mr(t);return HE(e)?e.host:e}function PI(t){const e=ms(t);return Ra(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&dc(e)?e:PI(e)}function Du(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=PI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Pn(i);if(s){const a=Og(o);return e.concat(o,o.visualViewport||[],dc(i)?i:[],a&&n?Du(a):[])}return e.concat(i,Du(i,[],n))}function Og(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RI(t){const e=cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Sh(n)!==s||Sh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Hv(t){return ur(t)?t:t.contextElement}function oa(t){const e=Hv(t);if(!Vr(e))return fs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=RI(e);let o=(s?Sh(n.width):n.width)/r,a=(s?Sh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const CL=fs(0);function kI(t){const e=Pn(t);return!Wv()||!e.visualViewport?CL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function uo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Hv(t);let o=fs(1);e&&(r?ur(r)&&(o=oa(r)):o=oa(t));const a=AL(s,n,r)?kI(s):fs(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Pn(s),m=r&&ur(r)?Pn(r):r;let v=f,_=Og(v);for(;_&&r&&m!==v;){const E=oa(_),w=_.getBoundingClientRect(),y=cr(_),T=w.left+(_.clientLeft+parseFloat(y.paddingLeft))*E.x,k=w.top+(_.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,h*=E.y,l+=T,c+=k,v=Pn(_),_=Og(v)}}return Ah({width:d,height:h,x:l,y:c})}function IL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Mr(r),a=e?Pf(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=fs(1);const d=fs(0),h=Vr(r);if((h||!h&&!s)&&((Ga(r)!=="body"||dc(o))&&(l=Rf(r)),Vr(r))){const f=uo(r);c=oa(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function bL(t){return Array.from(t.getClientRects())}function Mg(t,e){const n=Rf(t).scrollLeft;return e?e.left+n:uo(Mr(t)).left+n}function PL(t){const e=Mr(t),n=Rf(t),r=t.ownerDocument.body,i=Cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Mg(t);const a=-n.scrollTop;return cr(r).direction==="rtl"&&(o+=Cn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function RL(t,e){const n=Pn(t),r=Mr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Wv();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function kL(t,e){const n=uo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Vr(t)?oa(t):fs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function qE(t,e,n){let r;if(e==="viewport")r=RL(t,n);else if(e==="document")r=PL(Mr(t));else if(ur(e))r=kL(e,n);else{const i=kI(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ah(r)}function NI(t,e){const n=ms(t);return n===e||!ur(n)||Ra(n)?!1:cr(n).position==="fixed"||NI(n,e)}function NL(t,e){const n=e.get(t);if(n)return n;let r=Du(t,[],!1).filter(a=>ur(a)&&Ga(a)!=="body"),i=null;const s=cr(t).position==="fixed";let o=s?ms(t):t;for(;ur(o)&&!Ra(o);){const a=cr(o),l=zv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dc(o)&&!l&&NI(t,o))?r=r.filter(d=>d!==o):i=a,o=ms(o)}return e.set(t,r),r}function DL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Pf(e)?[]:NL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=qE(e,d,i);return c.top=Cn(h.top,c.top),c.right=hs(h.right,c.right),c.bottom=hs(h.bottom,c.bottom),c.left=Cn(h.left,c.left),c},qE(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VL(t){const{width:e,height:n}=RI(t);return{width:e,height:n}}function OL(t,e,n){const r=Vr(e),i=Mr(e),s=n==="fixed",o=uo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=fs(0);if(r||!r&&!s)if((Ga(e)!=="body"||dc(i))&&(a=Rf(e)),r){const m=uo(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=Mg(i));let c=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-Mg(i,m)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Zp(t){return cr(t).position==="static"}function KE(t,e){if(!Vr(t)||cr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mr(t)===n&&(n=n.ownerDocument.body),n}function DI(t,e){const n=Pn(t);if(Pf(t))return n;if(!Vr(t)){let i=ms(t);for(;i&&!Ra(i);){if(ur(i)&&!Zp(i))return i;i=ms(i)}return n}let r=KE(t,e);for(;r&&xL(r)&&Zp(r);)r=KE(r,e);return r&&Ra(r)&&Zp(r)&&!zv(r)?n:r||SL(t)||n}const ML=async function(t){const e=this.getOffsetParent||DI,n=this.getDimensions,r=await n(t.floating);return{reference:OL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LL(t){return cr(t).direction==="rtl"}const FL={convertOffsetParentRelativeRectToViewportRelativeRect:IL,getDocumentElement:Mr,getClippingRect:DL,getOffsetParent:DI,getElementRects:ML,getClientRects:bL,getDimensions:VL,getScale:oa,isElement:ur,isRTL:LL};function jL(t,e){let n=null,r;const i=Mr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=fd(d),v=fd(i.clientWidth-(c+h)),_=fd(i.clientHeight-(d+f)),E=fd(c),y={rootMargin:-m+"px "+-v+"px "+-_+"px "+-E+"px",threshold:Cn(0,hs(1,l))||1};let T=!0;function k(D){const M=D[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(k,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(t)}return o(!0),s}function UL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Hv(t),d=i||s?[...c?Du(c):[],...Du(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=c&&a?jL(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,_=l?uo(t):null;l&&E();function E(){const w=uo(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,v=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h==null||h(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const BL=wL,$L=_L,zL=gL,WL=TL,HL=yL,GE=mL,qL=EL,KL=(t,e,n)=>{const r=new Map,i={platform:FL,...n},s={...i.platform,_c:r};return pL(t,e,{...i,platform:s})};var jd=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ih(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ih(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function VI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QE(t,e){const n=VI(t);return Math.round(e*n)/n}function em(t){const e=A.useRef(t);return jd(()=>{e.current=t}),e}function GL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=A.useState(r);Ih(f,r)||m(r);const[v,_]=A.useState(null),[E,w]=A.useState(null),y=A.useCallback(j=>{j!==M.current&&(M.current=j,_(j))},[]),T=A.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),k=s||v,D=o||E,M=A.useRef(null),C=A.useRef(null),x=A.useRef(d),b=l!=null,P=em(l),V=em(i),N=em(c),R=A.useCallback(()=>{if(!M.current||!C.current)return;const j={placement:e,strategy:n,middleware:f};V.current&&(j.platform=V.current),KL(M.current,C.current,j).then(K=>{const te={...K,isPositioned:N.current!==!1};q.current&&!Ih(x.current,te)&&(x.current=te,cc.flushSync(()=>{h(te)}))})},[f,e,n,V,N]);jd(()=>{c===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const q=A.useRef(!1);jd(()=>(q.current=!0,()=>{q.current=!1}),[]),jd(()=>{if(k&&(M.current=k),D&&(C.current=D),k&&D){if(P.current)return P.current(k,D,R);R()}},[k,D,R,P,b]);const oe=A.useMemo(()=>({reference:M,floating:C,setReference:y,setFloating:T}),[y,T]),ae=A.useMemo(()=>({reference:k,floating:D}),[k,D]),ee=A.useMemo(()=>{const j={position:n,left:0,top:0};if(!ae.floating)return j;const K=QE(ae.floating,d.x),te=QE(ae.floating,d.y);return a?{...j,transform:"translate("+K+"px, "+te+"px)",...VI(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:te}},[n,a,ae.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:R,refs:oe,elements:ae,floatingStyles:ee}),[d,R,oe,ae,ee])}const QL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?GE({element:r.current,padding:i}).fn(n):{}:r?GE({element:r,padding:i}).fn(n):{}}}},YL=(t,e)=>({...BL(t),options:[t,e]}),XL=(t,e)=>({...$L(t),options:[t,e]}),JL=(t,e)=>({...qL(t),options:[t,e]}),ZL=(t,e)=>({...zL(t),options:[t,e]}),eF=(t,e)=>({...WL(t),options:[t,e]}),tF=(t,e)=>({...HL(t),options:[t,e]}),nF=(t,e)=>({...QL(t),options:[t,e]});var rF="Arrow",OI=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return S.jsx(an.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});OI.displayName=rF;var iF=OI;function sF(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...v}=h,_=(f==null?void 0:f[t][l])||a,E=A.useMemo(()=>v,Object.values(v));return S.jsx(_.Provider,{value:E,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,v=A.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,oF(i,...e)]}function oF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function aF(t){const[e,n]=A.useState(void 0);return lo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var MI="Popper",[LI,FI]=sF(MI),[N8,jI]=LI(MI),UI="PopperAnchor",BI=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=jI(UI,n),o=A.useRef(null),a=lr(e,o);return A.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:S.jsx(an.div,{...i,ref:a})});BI.displayName=UI;var qv="PopperContent",[lF,uF]=LI(qv),$I=A.forwardRef((t,e)=>{var ft,ln,_n,Gt,Vn,On;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,..._}=t,E=jI(qv,n),[w,y]=A.useState(null),T=lr(e,un=>y(un)),[k,D]=A.useState(null),M=aF(k),C=(M==null?void 0:M.width)??0,x=(M==null?void 0:M.height)??0,b=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],N=V.length>0,R={padding:P,boundary:V.filter(dF),altBoundary:N},{refs:q,floatingStyles:oe,placement:ae,isPositioned:ee,middlewareData:j}=GL({strategy:"fixed",placement:b,whileElementsMounted:(...un)=>UL(...un,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[YL({mainAxis:i+x,alignmentAxis:o}),l&&XL({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?JL():void 0,...R}),l&&ZL({...R}),eF({...R,apply:({elements:un,rects:Mn,availableWidth:Lr,availableHeight:Ln})=>{const{width:xo,height:O}=Mn.reference,L=un.floating.style;L.setProperty("--radix-popper-available-width",`${Lr}px`),L.setProperty("--radix-popper-available-height",`${Ln}px`),L.setProperty("--radix-popper-anchor-width",`${xo}px`),L.setProperty("--radix-popper-anchor-height",`${O}px`)}}),k&&nF({element:k,padding:a}),hF({arrowWidth:C,arrowHeight:x}),f&&tF({strategy:"referenceHidden",...R})]}),[K,te]=HI(ae),ne=Dr(v);lo(()=>{ee&&(ne==null||ne())},[ee,ne]);const le=(ft=j.arrow)==null?void 0:ft.x,ce=(ln=j.arrow)==null?void 0:ln.y,Oe=((_n=j.arrow)==null?void 0:_n.centerOffset)!==0,[rt,Ie]=A.useState();return lo(()=>{w&&Ie(window.getComputedStyle(w).zIndex)},[w]),S.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ee?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[(Gt=j.transformOrigin)==null?void 0:Gt.x,(Vn=j.transformOrigin)==null?void 0:Vn.y].join(" "),...((On=j.hide)==null?void 0:On.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(lF,{scope:n,placedSide:K,onArrowChange:D,arrowX:le,arrowY:ce,shouldHideArrow:Oe,children:S.jsx(an.div,{"data-side":K,"data-align":te,..._,ref:T,style:{..._.style,animation:ee?void 0:"none"}})})})});$I.displayName=qv;var zI="PopperArrow",cF={top:"bottom",right:"left",bottom:"top",left:"right"},WI=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=uF(zI,r),o=cF[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(iF,{...i,ref:n,style:{...i.style,display:"block"}})})});WI.displayName=zI;function dF(t){return t!==null}var hF=t=>({name:"transformOrigin",options:t,fn(e){var E,w,y;const{placement:n,rects:r,middlewareData:i}=e,o=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=HI(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,m=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${f}px`,_=`${-l}px`):c==="top"?(v=o?h:`${f}px`,_=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:v,y:_}}}});function HI(t){const[e,n="center"]=t.split("-");return[e,n]}var fF=BI,pF=$I,mF=WI,[kf,D8]=BA("Tooltip",[FI]),Kv=FI(),qI="TooltipProvider",gF=700,YE="tooltip.open",[yF,KI]=kf(qI),GI=t=>{const{__scopeTooltip:e,delayDuration:n=gF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=A.useState(!0),l=A.useRef(!1),c=A.useRef(0);return A.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),S.jsx(yF,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:A.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:A.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};GI.displayName=qI;var QI="Tooltip",[V8,Nf]=kf(QI),Lg="TooltipTrigger",vF=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Nf(Lg,n),s=KI(Lg,n),o=Kv(n),a=A.useRef(null),l=lr(e,a,i.onTriggerChange),c=A.useRef(!1),d=A.useRef(!1),h=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),S.jsx(fF,{asChild:!0,...o,children:S.jsx(an.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:gt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:gt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:gt(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:gt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:gt(t.onBlur,i.onClose),onClick:gt(t.onClick,i.onClose)})})});vF.displayName=Lg;var wF="TooltipPortal",[O8,_F]=kf(wF,{forceMount:void 0}),ka="TooltipContent",YI=A.forwardRef((t,e)=>{const n=_F(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Nf(ka,t.__scopeTooltip);return S.jsx(Dv,{present:r||o.open,children:o.disableHoverableContent?S.jsx(XI,{side:i,...s,ref:e}):S.jsx(EF,{side:i,...s,ref:e})})}),EF=A.forwardRef((t,e)=>{const n=Nf(ka,t.__scopeTooltip),r=KI(ka,t.__scopeTooltip),i=A.useRef(null),s=lr(e,i),[o,a]=A.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,f=A.useCallback(()=>{a(null),h(!1)},[h]),m=A.useCallback((v,_)=>{const E=v.currentTarget,w={x:v.clientX,y:v.clientY},y=CF(w,E.getBoundingClientRect()),T=AF(w,y),k=IF(_.getBoundingClientRect()),D=PF([...T,...k]);a(D),h(!0)},[h]);return A.useEffect(()=>()=>f(),[f]),A.useEffect(()=>{if(l&&d){const v=E=>m(E,d),_=E=>m(E,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",_)}}},[l,d,m,f]),A.useEffect(()=>{if(o){const v=_=>{const E=_.target,w={x:_.clientX,y:_.clientY},y=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!bF(w,o);y?f():T&&(f(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,f]),S.jsx(XI,{...t,ref:s})}),[TF,xF]=kf(QI,{isInside:!1}),XI=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Nf(ka,n),c=Kv(n),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(YE,d),()=>document.removeEventListener(YE,d)),[d]),A.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),S.jsx(Nv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:S.jsxs(pF,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(UA,{children:r}),S.jsx(TF,{scope:n,isInside:!0,children:S.jsx(vO,{id:l.contentId,role:"tooltip",children:i||r})})]})})});YI.displayName=ka;var JI="TooltipArrow",SF=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Kv(n);return xF(JI,n).isInside?null:S.jsx(mF,{...i,...r,ref:e})});SF.displayName=JI;function CF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function IF(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function bF(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function PF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),RF(e)}function RF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var kF=GI,ZI=YI;const NF=kF,DF=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(ZI,{ref:r,sideOffset:e,className:ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));DF.displayName=ZI.displayName;var Df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vf=typeof window>"u"||"Deno"in globalThis;function er(){}function VF(t,e){return typeof t=="function"?t(e):t}function OF(t){return typeof t=="number"&&t>=0&&t!==1/0}function MF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function XE(t,e){return typeof t=="function"?t(e):t}function LF(t,e){return typeof t=="function"?t(e):t}function JE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Gv(o,e.options))return!1}else if(!Ou(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function ZE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Vu(e.options.mutationKey)!==Vu(s))return!1}else if(!Ou(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Gv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Vu)(t)}function Vu(t){return JSON.stringify(t,(e,n)=>Fg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ou(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ou(t[n],e[n])):!1}function eb(t,e){if(t===e)return t;const n=eT(t)&&eT(e);if(n||Fg(t)&&Fg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=eb(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function eT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fg(t){if(!tT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tT(t){return Object.prototype.toString.call(t)==="[object Object]"}function FF(t){return new Promise(e=>{setTimeout(e,t)})}function jF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?eb(t,e):e}function UF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function BF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Qv=Symbol();function tb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Qv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ys,Bi,fa,gS,$F=(gS=class extends Df{constructor(){super();ke(this,Ys);ke(this,Bi);ke(this,fa);Ee(this,fa,e=>{if(!Vf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Bi)||this.setEventListener(z(this,fa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Bi))==null||e.call(this),Ee(this,Bi,void 0))}setEventListener(e){var n;Ee(this,fa,e),(n=z(this,Bi))==null||n.call(this),Ee(this,Bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Ys)!==e&&(Ee(this,Ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Ys)=="boolean"?z(this,Ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ys=new WeakMap,Bi=new WeakMap,fa=new WeakMap,gS),nb=new $F,pa,$i,ma,yS,zF=(yS=class extends Df{constructor(){super();ke(this,pa,!0);ke(this,$i);ke(this,ma);Ee(this,ma,e=>{if(!Vf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,$i)||this.setEventListener(z(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,$i))==null||e.call(this),Ee(this,$i,void 0))}setEventListener(e){var n;Ee(this,ma,e),(n=z(this,$i))==null||n.call(this),Ee(this,$i,e(this.setOnline.bind(this)))}setOnline(e){z(this,pa)!==e&&(Ee(this,pa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,pa)}},pa=new WeakMap,$i=new WeakMap,ma=new WeakMap,yS),bh=new zF;function WF(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function HF(t){return Math.min(1e3*2**t,3e4)}function rb(t){return(t??"online")==="online"?bh.isOnline():!0}var ib=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tm(t){return t instanceof ib}function sb(t){let e=!1,n=0,r=!1,i;const s=WF(),o=_=>{var E;r||(f(new ib(_)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>nb.isFocused()&&(t.networkMode==="always"||bh.isOnline())&&t.canRun(),d=()=>rb(t.networkMode)&&t.canRun(),h=_=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,_),i==null||i(),s.resolve(_))},f=_=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,_),i==null||i(),s.reject(_))},m=()=>new Promise(_=>{var E;i=w=>{(r||c())&&_(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),v=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(h).catch(w=>{var M;if(r)return;const y=t.retry??(Vf?0:3),T=t.retryDelay??HF,k=typeof T=="function"?T(n,w):T,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!D){f(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),FF(k).then(()=>c()?void 0:m()).then(()=>{e?f(w):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}function qF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var en=qF(),Xs,vS,ob=(vS=class{constructor(){ke(this,Xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OF(this.gcTime)&&Ee(this,Xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vf?1/0:5*60*1e3))}clearGcTimeout(){z(this,Xs)&&(clearTimeout(z(this,Xs)),Ee(this,Xs,void 0))}},Xs=new WeakMap,vS),ga,ya,Un,jt,rc,Js,tr,Wr,wS,KF=(wS=class extends ob{constructor(n){super();ke(this,tr);ke(this,ga);ke(this,ya);ke(this,Un);ke(this,jt);ke(this,rc);ke(this,Js);Ee(this,Js,!1),Ee(this,rc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,Un,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,ga,QF(this.options)),this.state=n.state??z(this,ga),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,jt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,rc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Un).remove(this)}setData(n,r){const i=jF(this.state.data,n,this.options);return Ot(this,tr,Wr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ot(this,tr,Wr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,jt))==null?void 0:i.promise;return(s=z(this,jt))==null||s.cancel(n),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ga))}isActive(){return this.observers.some(n=>LF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!MF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,jt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,jt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Un).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,jt)&&(z(this,Js)?z(this,jt).cancel({revert:!0}):z(this,jt).cancelRetry()),this.scheduleGc()),z(this,Un).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,tr,Wr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,jt))return z(this,jt).continueRetry(),z(this,jt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ee(this,Js,!0),i.signal)})},o=()=>{const f=tb(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),Ee(this,Js,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ee(this,ya,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ot(this,tr,Wr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,v,_,E;tm(f)&&f.silent||Ot(this,tr,Wr).call(this,{type:"error",error:f}),tm(f)||((v=(m=z(this,Un).config).onError)==null||v.call(m,f,this),(E=(_=z(this,Un).config).onSettled)==null||E.call(_,this.state.data,f,this)),this.scheduleGc()};return Ee(this,jt,sb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,v,_,E;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(v=(m=z(this,Un).config).onSuccess)==null||v.call(m,f,this),(E=(_=z(this,Un).config).onSettled)==null||E.call(_,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Ot(this,tr,Wr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Ot(this,tr,Wr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,tr,Wr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,jt).start()}},ga=new WeakMap,ya=new WeakMap,Un=new WeakMap,jt=new WeakMap,rc=new WeakMap,Js=new WeakMap,tr=new WeakSet,Wr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...GF(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return tm(s)&&s.revert&&z(this,ya)?{...z(this,ya),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),en.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,Un).notify({query:this,type:"updated",action:n})})},wS);function GF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wr,_S,YF=(_S=class extends Df{constructor(e={}){super();ke(this,wr);this.config=e,Ee(this,wr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Gv(i,n);let o=this.get(s);return o||(o=new KF({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,wr).has(e.queryHash)||(z(this,wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,wr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,wr).get(e)}getAll(){return[...z(this,wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>JE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>JE(e,r)):n}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wr=new WeakMap,_S),_r,Xt,Zs,Er,Pi,ES,XF=(ES=class extends ob{constructor(n){super();ke(this,Er);ke(this,_r);ke(this,Xt);ke(this,Zs);this.mutationId=n.mutationId,Ee(this,Xt,n.mutationCache),Ee(this,_r,[]),this.state=n.state||JF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,_r).includes(n)||(z(this,_r).push(n),this.clearGcTimeout(),z(this,Xt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,_r,z(this,_r).filter(r=>r!==n)),this.scheduleGc(),z(this,Xt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,_r).length||(this.state.status==="pending"?this.scheduleGc():z(this,Xt).remove(this))}continue(){var n;return((n=z(this,Zs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,d,h,f,m,v,_,E,w,y,T,k,D,M,C,x;Ee(this,Zs,sb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,P)=>{Ot(this,Er,Pi).call(this,{type:"failed",failureCount:b,error:P})},onPause:()=>{Ot(this,Er,Pi).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Er,Pi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Xt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,Zs).canStart();try{if(!r){Ot(this,Er,Pi).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,Xt).config).onMutate)==null?void 0:o.call(s,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&Ot(this,Er,Pi).call(this,{type:"pending",context:P,variables:n,isPaused:i})}const b=await z(this,Zs).start();return await((d=(c=z(this,Xt).config).onSuccess)==null?void 0:d.call(c,b,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,b,n,this.state.context)),await((v=(m=z(this,Xt).config).onSettled)==null?void 0:v.call(m,b,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,b,null,n,this.state.context)),Ot(this,Er,Pi).call(this,{type:"success",data:b}),b}catch(b){try{throw await((y=(w=z(this,Xt).config).onError)==null?void 0:y.call(w,b,n,this.state.context,this)),await((k=(T=this.options).onError)==null?void 0:k.call(T,b,n,this.state.context)),await((M=(D=z(this,Xt).config).onSettled)==null?void 0:M.call(D,void 0,b,this.state.variables,this.state.context,this)),await((x=(C=this.options).onSettled)==null?void 0:x.call(C,void 0,b,n,this.state.context)),b}finally{Ot(this,Er,Pi).call(this,{type:"error",error:b})}}finally{z(this,Xt).runNext(this)}}},_r=new WeakMap,Xt=new WeakMap,Zs=new WeakMap,Er=new WeakSet,Pi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),en.batch(()=>{z(this,_r).forEach(i=>{i.onMutationUpdate(n)}),z(this,Xt).notify({mutation:this,type:"updated",action:n})})},ES);function JF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tn,ic,TS,ZF=(TS=class extends Df{constructor(e={}){super();ke(this,Tn);ke(this,ic);this.config=e,Ee(this,Tn,new Map),Ee(this,ic,Date.now())}build(e,n,r){const i=new XF({mutationCache:this,mutationId:++qc(this,ic)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=pd(e),r=z(this,Tn).get(n)??[];r.push(e),z(this,Tn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=pd(e);if(z(this,Tn).has(n)){const i=(r=z(this,Tn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,Tn).delete(n):z(this,Tn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Tn).get(pd(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Tn).get(pd(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Tn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ZE(n,r))}findAll(e={}){return this.getAll().filter(n=>ZE(e,n))}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(e.map(n=>n.continue().catch(er))))}},Tn=new WeakMap,ic=new WeakMap,TS);function pd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function nT(t){return{onFetch:(e,n)=>{var d,h,f,m,v;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=tb(e.options,e.fetchOptions),y=async(T,k,D)=>{if(_)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const M={queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};E(M);const C=await w(M),{maxPages:x}=e.options,b=D?BF:UF;return{pages:b(T.pages,C,x),pageParams:b(T.pageParams,k,x)}};if(i&&s.length){const T=i==="backward",k=T?ej:rT,D={pages:s,pageParams:o},M=k(r,D);a=await y(D,M,T)}else{const T=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:rT(r,a);if(l>0&&k==null)break;a=await y(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function rT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ej(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ze,zi,Wi,va,wa,Hi,_a,Ea,xS,tj=(xS=class{constructor(t={}){ke(this,Ze);ke(this,zi);ke(this,Wi);ke(this,va);ke(this,wa);ke(this,Hi);ke(this,_a);ke(this,Ea);Ee(this,Ze,t.queryCache||new YF),Ee(this,zi,t.mutationCache||new ZF),Ee(this,Wi,t.defaultOptions||{}),Ee(this,va,new Map),Ee(this,wa,new Map),Ee(this,Hi,0)}mount(){qc(this,Hi)._++,z(this,Hi)===1&&(Ee(this,_a,nb.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ze).onFocus())})),Ee(this,Ea,bh.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ze).onOnline())})))}unmount(){var t,e;qc(this,Hi)._--,z(this,Hi)===0&&((t=z(this,_a))==null||t.call(this),Ee(this,_a,void 0),(e=z(this,Ea))==null||e.call(this),Ee(this,Ea,void 0))}isFetching(t){return z(this,Ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,zi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(XE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=VF(e,s);if(o!==void 0)return z(this,Ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>z(this,Ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Ze);en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Ze),r={type:"active",...t};return en.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=en.batch(()=>z(this,Ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t={},e={}){return en.batch(()=>{if(z(this,Ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=en.batch(()=>z(this,Ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(er)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Ze).build(this,e);return n.isStaleByTime(XE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=nT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=nT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bh.isOnline()?z(this,zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ze)}getMutationCache(){return z(this,zi)}getDefaultOptions(){return z(this,Wi)}setDefaultOptions(t){Ee(this,Wi,t)}setQueryDefaults(t,e){z(this,va).set(Vu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,va).values()];let n={};return e.forEach(r=>{Ou(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,wa).set(Vu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,wa).values()];let n={};return e.forEach(r=>{Ou(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Gv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Qv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Ze).clear(),z(this,zi).clear()}},Ze=new WeakMap,zi=new WeakMap,Wi=new WeakMap,va=new WeakMap,wa=new WeakMap,Hi=new WeakMap,_a=new WeakMap,Ea=new WeakMap,xS),nj=A.createContext(void 0),rj=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(nj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}var Gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gi||(Gi={}));const iT="popstate";function ij(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return jg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ph(i)}return oj(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ab(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sj(){return Math.random().toString(36).substr(2,8)}function sT(t,e){return{usr:t.state,key:t.key,idx:e}}function jg(t,e,n,r){return n===void 0&&(n=null),Mu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qa(e):e,{state:n,key:e&&e.key||r||sj()})}function Ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Mu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gi.Pop;let E=d(),w=E==null?null:E-c;c=E,l&&l({action:a,location:_.location,delta:w})}function f(E,w){a=Gi.Push;let y=jg(_.location,E,w);c=d()+1;let T=sT(y,c),k=_.createHref(y);try{o.pushState(T,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}s&&l&&l({action:a,location:_.location,delta:1})}function m(E,w){a=Gi.Replace;let y=jg(_.location,E,w);c=d();let T=sT(y,c),k=_.createHref(y);o.replaceState(T,"",k),s&&l&&l({action:a,location:_.location,delta:0})}function v(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:Ph(E);return y=y.replace(/ $/,"%20"),at(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iT,h),l=E,()=>{i.removeEventListener(iT,h),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let w=v(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(E){return o.go(E)}};return _}var oT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oT||(oT={}));function aj(t,e,n){return n===void 0&&(n="/"),lj(t,e,n,!1)}function lj(t,e,n,r){let i=typeof e=="string"?Qa(e):e,s=Yv(i.pathname||"/",n);if(s==null)return null;let o=lb(t);uj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_j(s);a=vj(o[l],c,r)}return a}function lb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=is([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lb(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:gj(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ub(s.path))i(s,o,l)}),e}function ub(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ub(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cj=/^:[\w-]+$/,dj=3,hj=2,fj=1,pj=10,mj=-2,aT=t=>t==="*";function gj(t,e){let n=t.split("/"),r=n.length;return n.some(aT)&&(r+=mj),e&&(r+=hj),n.filter(i=>!aT(i)).reduce((i,s)=>i+(cj.test(s)?dj:s===""?fj:pj),r)}function yj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vj(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=lT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=lT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:is([s,h.pathname]),pathnameBase:Sj(is([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=is([s,h.pathnameBase]))}return o}function lT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ab(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _j(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ab(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ej(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qa(t):t;return{pathname:n?n.startsWith("/")?n:Tj(n,e):e,search:Cj(r),hash:Aj(i)}}function Tj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xv(t,e){let n=xj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qa(t):(i=Mu({},t),at(!i.pathname||!i.pathname.includes("?"),nm("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),nm("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),nm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Ej(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),Sj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Aj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cb=["post","put","patch","delete"];new Set(cb);const bj=["get",...cb];new Set(bj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}const Zv=A.createContext(null),Pj=A.createContext(null),Is=A.createContext(null),Of=A.createContext(null),bs=A.createContext({outlet:null,matches:[],isDataRoute:!1}),db=A.createContext(null);function Rj(t,e){let{relative:n}=e===void 0?{}:e;Ya()||at(!1);let{basename:r,navigator:i}=A.useContext(Is),{hash:s,pathname:o,search:a}=fb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:is([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ya(){return A.useContext(Of)!=null}function wo(){return Ya()||at(!1),A.useContext(Of).location}function hb(t){A.useContext(Is).static||A.useLayoutEffect(t)}function hc(){let{isDataRoute:t}=A.useContext(bs);return t?zj():kj()}function kj(){Ya()||at(!1);let t=A.useContext(Zv),{basename:e,future:n,navigator:r}=A.useContext(Is),{matches:i}=A.useContext(bs),{pathname:s}=wo(),o=JSON.stringify(Xv(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return hb(()=>{a.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Jv(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:is([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function fb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Is),{matches:i}=A.useContext(bs),{pathname:s}=wo(),o=JSON.stringify(Xv(i,r.v7_relativeSplatPath));return A.useMemo(()=>Jv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Nj(t,e){return Dj(t,e)}function Dj(t,e,n,r){Ya()||at(!1);let{navigator:i}=A.useContext(Is),{matches:s}=A.useContext(bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wo(),d;if(e){var h;let E=typeof e=="string"?Qa(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||at(!1),d=E}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=aj(t,{pathname:m}),_=Fj(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:is([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:is([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?A.createElement(Of.Provider,{value:{location:Lu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gi.Pop}},_):_}function Vj(){let t=$j(),e=Ij(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const Oj=A.createElement(Vj,null);class Mj extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(bs.Provider,{value:this.props.routeContext},A.createElement(db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lj(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(Zv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(bs.Provider,{value:e},r)}function Fj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,_=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||Oj,l&&(c<0&&f===0?(v=!0,E=null):c===f&&(v=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),y=()=>{let T;return m?T=_:v?T=E:h.route.Component?T=A.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,A.createElement(Lj,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(Mj,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var pb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pb||{}),Rh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rh||{});function jj(t){let e=A.useContext(Zv);return e||at(!1),e}function Uj(t){let e=A.useContext(Pj);return e||at(!1),e}function Bj(t){let e=A.useContext(bs);return e||at(!1),e}function mb(t){let e=Bj(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function $j(){var t;let e=A.useContext(db),n=Uj(Rh.UseRouteError),r=mb(Rh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zj(){let{router:t}=jj(pb.UseNavigateStable),e=mb(Rh.UseNavigateStable),n=A.useRef(!1);return hb(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lu({fromRouteId:e},s)))},[t,e])}function Wj(t){let{to:e,replace:n,state:r,relative:i}=t;Ya()||at(!1);let{future:s,static:o}=A.useContext(Is),{matches:a}=A.useContext(bs),{pathname:l}=wo(),c=hc(),d=Jv(e,Xv(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return A.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Ri(t){at(!1)}function Hj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gi.Pop,navigator:s,static:o=!1,future:a}=t;Ya()&&at(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:s,static:o,future:Lu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Qa(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,_=A.useMemo(()=>{let E=Yv(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:v},navigationType:i}},[l,d,h,f,m,v,i]);return _==null?null:A.createElement(Is.Provider,{value:c},A.createElement(Of.Provider,{children:n,value:_}))}function qj(t){let{children:e,location:n}=t;return Nj(Ug(e),n)}new Promise(()=>{});function Ug(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,Ug(r.props.children,s));return}r.type!==Ri&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ug(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function Kj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qj(t,e){return t.button===0&&(!e||e==="_self")&&!Gj(t)}const Yj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xj="6";try{window.__reactRouterVersion=Xj}catch{}const Jj="startTransition",uT=kD[Jj];function Zj(t){let{basename:e,children:n,future:r,window:i}=t,s=A.useRef();s.current==null&&(s.current=ij({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=A.useCallback(h=>{c&&uT?uT(()=>l(h)):l(h)},[l,c]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.createElement(Hj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=Kj(e,Yj),{basename:m}=A.useContext(Is),v,_=!1;if(typeof c=="string"&&tU.test(c)&&(v=c,eU))try{let T=new URL(window.location.href),k=c.startsWith("//")?new URL(T.protocol+c):new URL(c),D=Yv(k.pathname,m);k.origin===T.origin&&D!=null?c=D+k.search+k.hash:_=!0}catch{}let E=Rj(c,{relative:i}),w=nU(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function y(T){r&&r(T),T.defaultPrevented||w(T)}return A.createElement("a",Bg({},f,{href:v||E,onClick:_||s?r:y,ref:n,target:l}))});var cT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cT||(cT={}));var dT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dT||(dT={}));function nU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=hc(),c=wo(),d=fb(t,{relative:o});return A.useCallback(h=>{if(Qj(h,n)){h.preventDefault();let f=r!==void 0?r:Ph(c)===Ph(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const rU=()=>{};var hT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new sU;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oU=function(t){const e=gb(t);return yb.encodeByteArray(e,!0)},kh=function(t){return oU(t).replace(/\./g,"")},vb=function(t){try{return yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=()=>aU().__FIREBASE_DEFAULTS__,uU=()=>{if(typeof process>"u"||typeof hT>"u")return;const t=hT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vb(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return rU()||lU()||uU()||cU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wb=t=>{var e,n;return(n=(e=Mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dU=t=>{const e=wb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_b=()=>{var t;return(t=Mf())===null||t===void 0?void 0:t.config},Eb=t=>{var e;return(e=Mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kh(JSON.stringify(n)),kh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function mU(){var t;const e=(t=Mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wU(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _U(){return!mU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EU(){try{return typeof indexedDB=="object"}catch{return!1}}function TU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xU,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function SU(t,e){return t.replace(CU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CU=/\{\$([^}]+)}/g;function AU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fT(s)&&fT(o)){if(!co(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IU(t,e){const n=new bU(t,e);return n.subscribe.bind(n)}class bU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rm),i.error===void 0&&(i.error=rm),i.complete===void 0&&(i.complete=rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NU(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kU(t){return t===Us?void 0:t}function NU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const VU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},OU=Ce.INFO,MU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},LU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t0{constructor(e){this.name=e,this._logLevel=OU,this._logHandler=LU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const FU=(t,e)=>e.some(n=>t instanceof n);let pT,mT;function jU(){return pT||(pT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UU(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tb=new WeakMap,$g=new WeakMap,xb=new WeakMap,im=new WeakMap,n0=new WeakMap;function BU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ss(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tb.set(n,t)}).catch(()=>{}),n0.set(e,t),e}function $U(t){if($g.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$g.set(t,e)}let zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zU(t){zg=t(zg)}function WU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sm(this),e,...n);return xb.set(r,e.sort?e.sort():[e]),ss(r)}:UU().includes(t)?function(...e){return t.apply(sm(this),e),ss(Tb.get(this))}:function(...e){return ss(t.apply(sm(this),e))}}function HU(t){return typeof t=="function"?WU(t):(t instanceof IDBTransaction&&$U(t),FU(t,jU())?new Proxy(t,zg):t)}function ss(t){if(t instanceof IDBRequest)return BU(t);if(im.has(t))return im.get(t);const e=HU(t);return e!==t&&(im.set(t,e),n0.set(e,t)),e}const sm=t=>n0.get(t);function qU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ss(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ss(o.result),l.oldVersion,l.newVersion,ss(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const KU=["get","getKey","getAll","getAllKeys","count"],GU=["put","add","delete","clear"],om=new Map;function gT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return om.set(e,s),s}zU(t=>({...t,get:(e,n,r)=>gT(e,n)||t.get(e,n,r),has:(e,n)=>!!gT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wg="@firebase/app",yT="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new t0("@firebase/app"),XU="@firebase/app-compat",JU="@firebase/analytics-compat",ZU="@firebase/analytics",e4="@firebase/app-check-compat",t4="@firebase/app-check",n4="@firebase/auth",r4="@firebase/auth-compat",i4="@firebase/database",s4="@firebase/data-connect",o4="@firebase/database-compat",a4="@firebase/functions",l4="@firebase/functions-compat",u4="@firebase/installations",c4="@firebase/installations-compat",d4="@firebase/messaging",h4="@firebase/messaging-compat",f4="@firebase/performance",p4="@firebase/performance-compat",m4="@firebase/remote-config",g4="@firebase/remote-config-compat",y4="@firebase/storage",v4="@firebase/storage-compat",w4="@firebase/firestore",_4="@firebase/vertexai",E4="@firebase/firestore-compat",T4="firebase",x4="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",S4={[Wg]:"fire-core",[XU]:"fire-core-compat",[ZU]:"fire-analytics",[JU]:"fire-analytics-compat",[t4]:"fire-app-check",[e4]:"fire-app-check-compat",[n4]:"fire-auth",[r4]:"fire-auth-compat",[i4]:"fire-rtdb",[s4]:"fire-data-connect",[o4]:"fire-rtdb-compat",[a4]:"fire-fn",[l4]:"fire-fn-compat",[u4]:"fire-iid",[c4]:"fire-iid-compat",[d4]:"fire-fcm",[h4]:"fire-fcm-compat",[f4]:"fire-perf",[p4]:"fire-perf-compat",[m4]:"fire-rc",[g4]:"fire-rc-compat",[y4]:"fire-gcs",[v4]:"fire-gcs-compat",[w4]:"fire-fst",[E4]:"fire-fst-compat",[_4]:"fire-vertex","fire-js":"fire-js",[T4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,C4=new Map,qg=new Map;function vT(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(qg.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,t);for(const n of Nh.values())vT(n,t);for(const n of C4.values())vT(n,t);return!0}function r0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new fc("app","Firebase",A4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=x4;function Sb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(n||(n=_b()),!n)throw os.create("no-options");const s=Nh.get(i);if(s){if(co(n,s.options)&&co(r,s.config))return s;throw os.create("duplicate-app",{appName:i})}const o=new DU(i);for(const l of qg.values())o.addComponent(l);const a=new I4(n,r,o);return Nh.set(i,a),a}function Cb(t=Hg){const e=Nh.get(t);if(!e&&t===Hg&&_b())return Sb();if(!e)throw os.create("no-app",{appName:t});return e}function as(t,e,n){var r;let i=(r=S4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(a.join(" "));return}Na(new ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-heartbeat-database",P4=1,Fu="firebase-heartbeat-store";let am=null;function Ab(){return am||(am=qU(b4,P4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),am}async function R4(t){try{const n=(await Ab()).transaction(Fu),r=await n.objectStore(Fu).get(Ib(t));return await n.done,r}catch(e){if(e instanceof yi)ci.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function wT(t,e){try{const r=(await Ab()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,Ib(t)),await r.done}catch(n){if(n instanceof yi)ci.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function Ib(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1024,N4=30;class D4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_T();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>N4){const o=M4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_T(),{heartbeatsToSend:r,unsentEntries:i}=V4(this._heartbeatsCache.heartbeats),s=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ci.warn(n),""}}}function _T(){return new Date().toISOString().substring(0,10)}function V4(t,e=k4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ET(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ET(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EU()?TU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ET(t){return kh(JSON.stringify({version:2,heartbeats:t})).length}function M4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){Na(new ho("platform-logger",e=>new QU(e),"PRIVATE")),Na(new ho("heartbeat",e=>new D4(e),"PRIVATE")),as(Wg,yT,t),as(Wg,yT,"esm2017"),as("fire-js","")}L4("");var F4="firebase",j4="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(F4,j4,"app");function i0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U4=bb,Pb=new fc("auth","Firebase",bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new t0("@firebase/auth");function B4(t,...e){Dh.logLevel<=Ce.WARN&&Dh.warn(`Auth (${Xa}): ${t}`,...e)}function Ud(t,...e){Dh.logLevel<=Ce.ERROR&&Dh.error(`Auth (${Xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw s0(t,...e)}function Ar(t,...e){return s0(t,...e)}function Rb(t,e,n){const r=Object.assign(Object.assign({},U4()),{[e]:n});return new fc("auth","Firebase",r).create(e,{appName:t.name})}function ei(t){return Rb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Pb.create(t,...e)}function fe(t,e,...n){if(!t)throw s0(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function di(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $4(){return TT()==="http:"||TT()==="https:"}function TT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($4()||yU()||"connection"in navigator)?navigator.onLine:!0}function W4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=pU()||vU()}get(){return z4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new mc(3e4,6e4);function vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wi(t,e,n,r,i={}){return Nb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return gU()||(c.referrerPolicy="no-referrer"),kb.fetch()(Db(t,t.config.apiHost,n,a),c)})}async function Nb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},H4),e);try{const i=new G4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw md(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw md(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw md(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rb(t,d,c);dr(t,d)}}catch(i){if(i instanceof yi)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function gc(t,e,n,r,i={}){const s=await wi(t,e,n,r,i);return"mfaPendingCredential"in s&&dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Db(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o0(t.config,i):`${t.config.apiScheme}://${i}`}function K4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),q4.get())})}}function md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ar(t,e,r);return i.customData._tokenResponse=n,i}function xT(t){return t!==void 0&&t.enterprise!==void 0}class Q4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y4(t,e){return wi(t,"GET","/v2/recaptchaConfig",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function Vb(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J4(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=a0(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ru(lm(i.auth_time)),issuedAtTime:ru(lm(i.iat)),expirationTime:ru(lm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lm(t){return Number(t)*1e3}function a0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=vb(n);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ST(t){const e=a0(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&Z4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ju(t,Vb(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ob(s.providerUserInfo):[],a=n5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function t5(t){const e=Rt(t);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ob(t){return t.map(e=>{var{providerId:n}=e,r=i0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e){const n=await Nb(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Db(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i5(t,e){return wi(t,"POST","/v2/accounts:revokeToken",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ST(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=ST(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new aa;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=i0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ju(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J4(this,e)}reload(){return t5(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await ju(this,X4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:D,providerData:M,stsTokenManager:C}=n;fe(T&&C,e,"internal-error");const x=aa.fromJSON(this.name,C);fe(typeof T=="string",e,"internal-error"),bi(h,e.name),bi(f,e.name),fe(typeof k=="boolean",e,"internal-error"),fe(typeof D=="boolean",e,"internal-error"),bi(m,e.name),bi(v,e.name),bi(_,e.name),bi(E,e.name),bi(w,e.name),bi(y,e.name);const b=new Yr({uid:T,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:_,stsTokenManager:x,createdAt:w,lastLoginAt:y});return M&&Array.isArray(M)&&(b.providerData=M.map(P=>Object.assign({},P))),E&&(b._redirectEventId=E),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new aa;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ob(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new aa;a.updateFromIdToken(r);const l=new Yr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;function Xr(t){di(t instanceof Function,"Expected a class definition");let e=CT.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mb.type="NONE";const AT=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new la(Xr(AT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Xr(AT);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Yr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new la(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new la(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($b(e))return"Blackberry";if(zb(e))return"Webos";if(Fb(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lb(t=qt()){return/firefox\//i.test(t)}function Fb(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(t=qt()){return/crios\//i.test(t)}function Ub(t=qt()){return/iemobile/i.test(t)}function Bb(t=qt()){return/android/i.test(t)}function $b(t=qt()){return/blackberry/i.test(t)}function zb(t=qt()){return/webos/i.test(t)}function l0(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s5(t=qt()){var e;return l0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o5(){return wU()&&document.documentMode===10}function Wb(t=qt()){return l0(t)||Bb(t)||zb(t)||$b(t)||/windows phone/i.test(t)||Ub(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e=[]){let n;switch(t){case"Browser":n=IT(qt());break;case"Worker":n=`${IT(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e={}){return wi(t,"GET","/v2/passwordPolicy",vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=6;class c5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:u5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bT(this),this.idTokenSubscription=new bT(this),this.beforeStateQueue=new a5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vb(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ei(this));const n=e?Rt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l5(this),n=new c5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(t){return Rt(t)}class bT{constructor(e){this.auth=e,this.observer=null,this.addObserver=IU(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h5(t){Lf=t}function qb(t){return Lf.loadJS(t)}function f5(){return Lf.recaptchaEnterpriseScript}function p5(){return Lf.gapiScript}function m5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class g5{constructor(){this.enterprise=new y5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const v5="recaptcha-enterprise",Kb="NO_RECAPTCHA";class w5{constructor(e){this.type=v5,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Y4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Q4(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;xT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Kb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&xT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=f5();l.length!==0&&(l+=a),qb(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function PT(t,e,n,r=!1,i=!1){const s=new w5(t);let o;if(i)o=Kb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Oh(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await PT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await PT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){const n=r0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(co(s,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function E5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T5(t,e,n){const r=Ps(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Gb(e),{host:o,port:a}=x5(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(co(c,r.config.emulator)&&co(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,S5()}function Gb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x5(t){const e=Gb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:RT(o)}}}function RT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function C5(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e){return gc(t,"POST","/v1/accounts:signInWithPassword",vi(t,e))}async function I5(t,e){return wi(t,"POST","/v1/accounts:sendOobCode",vi(t,e))}async function b5(t,e){return I5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))}async function R5(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends u0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,n,"signInWithPassword",A5);case"emailLink":return P5(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,r,"signUpPassword",C5);case"emailLink":return R5(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e){return gc(t,"POST","/v1/accounts:signInWithIdp",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="http://localhost";class fo extends u0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=i0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ua(e,n)}buildRequest(){const e={requestUri:k5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D5(t){const e=Vl(Ol(t)).link,n=e?Vl(Ol(e)).deep_link_id:null,r=Vl(Ol(t)).deep_link_id;return(r?Vl(Ol(r)).link:null)||r||n||e||t}class c0{constructor(e){var n,r,i,s,o,a;const l=Vl(Ol(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=N5((i=l.mode)!==null&&i!==void 0?i:null);fe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=D5(e);try{return new c0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=c0.parseLink(n);return fe(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends yc{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fo._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends yc{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends yc{constructor(){super("twitter.com")}static credential(e,n){return fo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return gc(t,"POST","/v1/accounts:signUp",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),o=kT(r);return new po({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kT(r);return new po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function Yb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,s,e,r):s})}async function O5(t,e,n=!1){const r=await ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(ei(r));const i="reauthenticate";try{const s=await ju(t,Yb(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=a0(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),po._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e,n=!1){if(Wn(t.app))return Promise.reject(ei(t));const r="signIn",i=await Yb(t,r,e),s=await po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function L5(t,e){return Xb(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F5(t,e,n){const r=Ps(t);await Oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",b5)}async function j5(t,e,n){if(Wn(t.app))return Promise.reject(ei(t));const r=Ps(t),o=await Oh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jb(t),l}),a=await po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function NT(t,e,n){return Wn(t.app)?Promise.reject(ei(t)):L5(Rt(t),Ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jb(t),r})}function U5(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function B5(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function $5(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=1e3,W5=10;class eP extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);o5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eP.type="LOCAL";const H5=eP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tP.type="SESSION";const nP=tP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await q5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=d0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function G5(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function Q5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X5(){return rP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebaseLocalStorageDb",J5=1,Fh="firebaseLocalStorage",sP="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function Z5(){const t=indexedDB.deleteDatabase(iP);return new vc(t).toPromise()}function Qg(){const t=indexedDB.open(iP,J5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:sP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await Z5(),e(await Qg()))})})}async function DT(t,e,n){const r=jf(t,!0).put({[sP]:e,value:n});return new vc(r).toPromise()}async function eB(t,e){const n=jf(t,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function VT(t,e){const n=jf(t,!0).delete(e);return new vc(n).toPromise()}const tB=800,nB=3;class oP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(X5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q5(),!this.activeServiceWorker)return;this.sender=new K5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await DT(e,Lh,"1"),await VT(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jf(i,!1).getAll();return new vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oP.type="LOCAL";const rB=oP;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(t,e){return e?Xr(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends u0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sB(t){return Xb(t.auth,new h0(t),t.bypassAuthState)}function oB(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),M5(n,new h0(t),t.bypassAuthState)}async function aB(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),O5(n,new h0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sB;case"linkViaPopup":case"linkViaRedirect":return aB;case"reauthViaPopup":case"reauthViaRedirect":return oB;default:dr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new mc(2e3,1e4);class Ko extends aP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=d0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lB.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="pendingRedirect",$d=new Map;class cB extends aP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const r=await dB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dB(t,e){const n=pB(e),r=fB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hB(t,e){$d.set(t._key(),e)}function fB(t){return Xr(t._redirectPersistence)}function pB(t){return Bd(uB,t.config.apiKey,t.name)}async function mB(t,e,n=!1){if(Wn(t.app))return Promise.reject(ei(t));const r=Ps(t),i=iB(r,e),o=await new cB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=10*60*1e3;class yB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gB&&this.cachedEventUids.clear(),this.cachedEventUids.has(OT(e))}saveEventToCache(e){this.cachedEventUids.add(OT(e)),this.lastProcessedEventTime=Date.now()}}function OT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EB=/^https?/;async function TB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wB(t);for(const n of e)try{if(xB(n))return}catch{}dr(t,"unauthorized-domain")}function xB(t){const e=Kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!EB.test(n))return!1;if(_B.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new mc(3e4,6e4);function MT(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CB(t){return new Promise((e,n)=>{var r,i,s;function o(){MT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MT(),n(Ar(t,"network-request-failed"))},timeout:SB.get()})}if(!((i=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ir().gapi)===null||s===void 0)&&s.load)o();else{const a=m5("iframefcb");return Ir()[a]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},qb(`${p5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function AB(t){return zd=zd||CB(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new mc(5e3,15e3),bB="__/auth/iframe",PB="emulator/auth/iframe",RB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NB(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o0(e,PB):`https://${t.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:t.name,v:Xa},i=kB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pc(r).slice(1)}`}async function DB(t){const e=await AB(t),n=Ir().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:NB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),a=Ir().setTimeout(()=>{s(o)},IB.get());function l(){Ir().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OB=500,MB=600,LB="_blank",FB="http://localhost";class LT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jB(t,e,n,r=OB,i=MB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=qt().toLowerCase();n&&(a=jb(c)?LB:n),Lb(c)&&(e=e||FB,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(s5(c)&&a!=="_self")return UB(e||"",a),new LT(null);const h=window.open(e||"",a,d);fe(h,t,"popup-blocked");try{h.focus()}catch{}return new LT(h)}function UB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="__/auth/handler",$B="emulator/auth/handler",zB=encodeURIComponent("fac");async function FT(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xa,eventId:i};if(e instanceof Qb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof yc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${zB}=${encodeURIComponent(l)}`:"";return`${WB(t)}?${pc(a).slice(1)}${c}`}function WB({config:t}){return t.emulator?o0(t,$B):`https://${t.authDomain}/${BB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class HB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nP,this._completeRedirectFn=mB,this._overrideRedirectResult=hB}async _openPopup(e,n,r,i){var s;di((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await FT(e,n,r,Kg(),i);return jB(e,o,d0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await FT(e,n,r,Kg(),i);return G5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(di(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DB(e),r=new yB(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[um];o!==void 0&&n(!!o),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Fb()||l0()}}const qB=HB;var jT="@firebase/auth",UT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QB(t){Na(new ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(t)},c=new d5(r,i,s,l);return E5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Na(new ho("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new KB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(jT,UT,GB(t)),as(jT,UT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=5*60,XB=Eb("authIdTokenMaxAge")||YB;let BT=null;const JB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XB)return;const i=n==null?void 0:n.token;BT!==i&&(BT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yg(t=Cb()){const e=r0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_5(t,{popupRedirectResolver:qB,persistence:[rB,H5,nP]}),r=Eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JB(s.toString());B5(n,o,()=>o(n.currentUser)),U5(n,a=>o(a))}}const i=wb("auth");return i&&T5(n,`http://${i}`),n}function ZB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ZB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QB("Browser");var $T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,uP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function b(){}b.prototype=x.prototype,C.D=x.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(P,V,N){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return x.prototype[V].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,x,b){b||(b=0);var P=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)P[V]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(V=0;16>V;++V)P[V]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=C.g[0],b=C.g[1],V=C.g[2];var N=C.g[3],R=x+(N^b&(V^N))+P[0]+3614090360&4294967295;x=b+(R<<7&4294967295|R>>>25),R=N+(V^x&(b^V))+P[1]+3905402710&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(b^N&(x^b))+P[2]+606105819&4294967295,V=N+(R<<17&4294967295|R>>>15),R=b+(x^V&(N^x))+P[3]+3250441966&4294967295,b=V+(R<<22&4294967295|R>>>10),R=x+(N^b&(V^N))+P[4]+4118548399&4294967295,x=b+(R<<7&4294967295|R>>>25),R=N+(V^x&(b^V))+P[5]+1200080426&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(b^N&(x^b))+P[6]+2821735955&4294967295,V=N+(R<<17&4294967295|R>>>15),R=b+(x^V&(N^x))+P[7]+4249261313&4294967295,b=V+(R<<22&4294967295|R>>>10),R=x+(N^b&(V^N))+P[8]+1770035416&4294967295,x=b+(R<<7&4294967295|R>>>25),R=N+(V^x&(b^V))+P[9]+2336552879&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(b^N&(x^b))+P[10]+4294925233&4294967295,V=N+(R<<17&4294967295|R>>>15),R=b+(x^V&(N^x))+P[11]+2304563134&4294967295,b=V+(R<<22&4294967295|R>>>10),R=x+(N^b&(V^N))+P[12]+1804603682&4294967295,x=b+(R<<7&4294967295|R>>>25),R=N+(V^x&(b^V))+P[13]+4254626195&4294967295,N=x+(R<<12&4294967295|R>>>20),R=V+(b^N&(x^b))+P[14]+2792965006&4294967295,V=N+(R<<17&4294967295|R>>>15),R=b+(x^V&(N^x))+P[15]+1236535329&4294967295,b=V+(R<<22&4294967295|R>>>10),R=x+(V^N&(b^V))+P[1]+4129170786&4294967295,x=b+(R<<5&4294967295|R>>>27),R=N+(b^V&(x^b))+P[6]+3225465664&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^b&(N^x))+P[11]+643717713&4294967295,V=N+(R<<14&4294967295|R>>>18),R=b+(N^x&(V^N))+P[0]+3921069994&4294967295,b=V+(R<<20&4294967295|R>>>12),R=x+(V^N&(b^V))+P[5]+3593408605&4294967295,x=b+(R<<5&4294967295|R>>>27),R=N+(b^V&(x^b))+P[10]+38016083&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^b&(N^x))+P[15]+3634488961&4294967295,V=N+(R<<14&4294967295|R>>>18),R=b+(N^x&(V^N))+P[4]+3889429448&4294967295,b=V+(R<<20&4294967295|R>>>12),R=x+(V^N&(b^V))+P[9]+568446438&4294967295,x=b+(R<<5&4294967295|R>>>27),R=N+(b^V&(x^b))+P[14]+3275163606&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^b&(N^x))+P[3]+4107603335&4294967295,V=N+(R<<14&4294967295|R>>>18),R=b+(N^x&(V^N))+P[8]+1163531501&4294967295,b=V+(R<<20&4294967295|R>>>12),R=x+(V^N&(b^V))+P[13]+2850285829&4294967295,x=b+(R<<5&4294967295|R>>>27),R=N+(b^V&(x^b))+P[2]+4243563512&4294967295,N=x+(R<<9&4294967295|R>>>23),R=V+(x^b&(N^x))+P[7]+1735328473&4294967295,V=N+(R<<14&4294967295|R>>>18),R=b+(N^x&(V^N))+P[12]+2368359562&4294967295,b=V+(R<<20&4294967295|R>>>12),R=x+(b^V^N)+P[5]+4294588738&4294967295,x=b+(R<<4&4294967295|R>>>28),R=N+(x^b^V)+P[8]+2272392833&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^b)+P[11]+1839030562&4294967295,V=N+(R<<16&4294967295|R>>>16),R=b+(V^N^x)+P[14]+4259657740&4294967295,b=V+(R<<23&4294967295|R>>>9),R=x+(b^V^N)+P[1]+2763975236&4294967295,x=b+(R<<4&4294967295|R>>>28),R=N+(x^b^V)+P[4]+1272893353&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^b)+P[7]+4139469664&4294967295,V=N+(R<<16&4294967295|R>>>16),R=b+(V^N^x)+P[10]+3200236656&4294967295,b=V+(R<<23&4294967295|R>>>9),R=x+(b^V^N)+P[13]+681279174&4294967295,x=b+(R<<4&4294967295|R>>>28),R=N+(x^b^V)+P[0]+3936430074&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^b)+P[3]+3572445317&4294967295,V=N+(R<<16&4294967295|R>>>16),R=b+(V^N^x)+P[6]+76029189&4294967295,b=V+(R<<23&4294967295|R>>>9),R=x+(b^V^N)+P[9]+3654602809&4294967295,x=b+(R<<4&4294967295|R>>>28),R=N+(x^b^V)+P[12]+3873151461&4294967295,N=x+(R<<11&4294967295|R>>>21),R=V+(N^x^b)+P[15]+530742520&4294967295,V=N+(R<<16&4294967295|R>>>16),R=b+(V^N^x)+P[2]+3299628645&4294967295,b=V+(R<<23&4294967295|R>>>9),R=x+(V^(b|~N))+P[0]+4096336452&4294967295,x=b+(R<<6&4294967295|R>>>26),R=N+(b^(x|~V))+P[7]+1126891415&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~b))+P[14]+2878612391&4294967295,V=N+(R<<15&4294967295|R>>>17),R=b+(N^(V|~x))+P[5]+4237533241&4294967295,b=V+(R<<21&4294967295|R>>>11),R=x+(V^(b|~N))+P[12]+1700485571&4294967295,x=b+(R<<6&4294967295|R>>>26),R=N+(b^(x|~V))+P[3]+2399980690&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~b))+P[10]+4293915773&4294967295,V=N+(R<<15&4294967295|R>>>17),R=b+(N^(V|~x))+P[1]+2240044497&4294967295,b=V+(R<<21&4294967295|R>>>11),R=x+(V^(b|~N))+P[8]+1873313359&4294967295,x=b+(R<<6&4294967295|R>>>26),R=N+(b^(x|~V))+P[15]+4264355552&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~b))+P[6]+2734768916&4294967295,V=N+(R<<15&4294967295|R>>>17),R=b+(N^(V|~x))+P[13]+1309151649&4294967295,b=V+(R<<21&4294967295|R>>>11),R=x+(V^(b|~N))+P[4]+4149444226&4294967295,x=b+(R<<6&4294967295|R>>>26),R=N+(b^(x|~V))+P[11]+3174756917&4294967295,N=x+(R<<10&4294967295|R>>>22),R=V+(x^(N|~b))+P[2]+718787259&4294967295,V=N+(R<<15&4294967295|R>>>17),R=b+(N^(V|~x))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var b=x-this.blockSize,P=this.B,V=this.h,N=0;N<x;){if(V==0)for(;N<=b;)i(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<x;)if(P[V++]=C.charCodeAt(N++),V==this.blockSize){i(this,P),V=0;break}}else for(;N<x;)if(P[V++]=C[N++],V==this.blockSize){i(this,P),V=0;break}}this.h=V,this.o+=x},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var b=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=b&255,b/=256;for(this.u(C),C=Array(16),x=b=0;4>x;++x)for(var P=0;32>P;P+=8)C[b++]=this.g[x]>>>P&255;return C};function s(C,x){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=x(C)}function o(C,x){this.h=x;for(var b=[],P=!0,V=C.length-1;0<=V;V--){var N=C[V]|0;P&&N==x||(b[V]=N,P=!1)}this.g=b}var a={};function l(C){return-128<=C&&128>C?s(C,function(x){return new o([x|0],0>x?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return E(c(-C));for(var x=[],b=1,P=0;C>=b;P++)x[P]=C/b|0,b*=4294967296;return new o(x,0)}function d(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return E(d(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(x,8)),P=h,V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V),R=parseInt(C.substring(V,V+N),x);8>N?(N=c(Math.pow(x,N)),P=P.j(N).add(c(R))):(P=P.j(b),P=P.add(c(R)))}return P}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();for(var C=0,x=1,b=0;b<this.g.length;b++){var P=this.i(b);C+=(0<=P?P:4294967296+P)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(_(this))return"-"+E(this).toString(C);for(var x=c(Math.pow(C,6)),b=this,P="";;){var V=k(b,x).g;b=w(b,V.j(x));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=V,v(b))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function _(C){return C.h==-1}t.l=function(C){return C=w(this,C),_(C)?-1:v(C)?0:1};function E(C){for(var x=C.g.length,b=[],P=0;P<x;P++)b[P]=~C.g[P];return new o(b,~C.h).add(f)}t.abs=function(){return _(this)?E(this):this},t.add=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0,V=0;V<=x;V++){var N=P+(this.i(V)&65535)+(C.i(V)&65535),R=(N>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);P=R>>>16,N&=65535,R&=65535,b[V]=R<<16|N}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(C,x){return C.add(E(x))}t.j=function(C){if(v(this)||v(C))return h;if(_(this))return _(C)?E(this).j(E(C)):E(E(this).j(C));if(_(C))return E(this.j(E(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var x=this.g.length+C.g.length,b=[],P=0;P<2*x;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<C.g.length;V++){var N=this.i(P)>>>16,R=this.i(P)&65535,q=C.i(V)>>>16,oe=C.i(V)&65535;b[2*P+2*V]+=R*oe,y(b,2*P+2*V),b[2*P+2*V+1]+=N*oe,y(b,2*P+2*V+1),b[2*P+2*V+1]+=R*q,y(b,2*P+2*V+1),b[2*P+2*V+2]+=N*q,y(b,2*P+2*V+2)}for(P=0;P<x;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=x;P<2*x;P++)b[P]=0;return new o(b,0)};function y(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function T(C,x){this.g=C,this.h=x}function k(C,x){if(v(x))throw Error("division by zero");if(v(C))return new T(h,h);if(_(C))return x=k(E(C),x),new T(E(x.g),E(x.h));if(_(x))return x=k(C,E(x)),new T(E(x.g),x.h);if(30<C.g.length){if(_(C)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var b=f,P=x;0>=P.l(C);)b=D(b),P=D(P);var V=M(b,1),N=M(P,1);for(P=M(P,2),b=M(b,2);!v(P);){var R=N.add(P);0>=R.l(C)&&(V=V.add(b),N=R),P=M(P,1),b=M(b,1)}return x=w(C,V.j(x)),new T(V,x)}for(V=h;0<=C.l(x);){for(b=Math.max(1,Math.floor(C.m()/x.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(b),R=N.j(x);_(R)||0<R.l(C);)b-=P,N=c(b),R=N.j(x);v(N)&&(N=f),V=V.add(N),C=w(C,R)}return new T(V,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)&C.i(P);return new o(b,this.h&C.h)},t.or=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)|C.i(P);return new o(b,this.h|C.h)},t.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)^C.i(P);return new o(b,this.h^C.h)};function D(C){for(var x=C.g.length+1,b=[],P=0;P<x;P++)b[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(b,C.h)}function M(C,x){var b=x>>5;x%=32;for(var P=C.g.length-b,V=[],N=0;N<P;N++)V[N]=0<x?C.i(N+b)>>>x|C.i(N+b+1)<<32-x:C.i(N+b);return new o(V,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ls=o}).apply(typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cP,Ml,dP,Wd,Xg,hP,fP,pP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var F=u[I];if(!(F in g))break e;g=g[F]}u=u[u.length-1],I=g[u],p=p(I),p!=I&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,I=!1,F={next:function(){if(!I&&g<u.length){var U=g++;return{value:p(U,u[U]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function h(u,p,g){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),u.apply(p,F)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function v(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(I,F,U){for(var X=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)X[Le-2]=arguments[Le];return p.prototype[F].apply(I,X)}}function _(u){const p=u.length;if(0<p){const g=Array(p);for(let I=0;I<p;I++)g[I]=u[I];return g}return[]}function E(u,p){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(l(I)){const F=u.length||0,U=I.length||0;u.length=F+U;for(let X=0;X<U;X++)u[F+X]=I[X]}else u.push(I)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,p,g){for(const I in u)p.call(g,u[I],I,u)}function C(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function x(u){const p={};for(const g in u)p[g]=u[g];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let g,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(g in I)u[g]=I[g];for(let U=0;U<b.length;U++)g=b[U],Object.prototype.hasOwnProperty.call(I,g)&&(u[g]=I[g])}}function V(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function N(u){a.setTimeout(()=>{throw u},0)}function R(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class q{constructor(){this.h=this.g=null}add(p,g){const I=oe.get();I.set(p,g),this.h?this.h.next=I:this.g=I,this.h=I}}var oe=new w(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,j=!1,K=new q,te=()=>{const u=a.Promise.resolve(void 0);ee=()=>{u.then(ne)}};var ne=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){N(g)}var p=oe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}j=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function rt(u,p){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{k(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ie[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}v(rt,ce);var Ie={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),ln=0;function _n(u,p,g,I,F){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!I,this.ha=F,this.key=++ln,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vn(u){this.src=u,this.g={},this.h=0}Vn.prototype.add=function(u,p,g,I,F){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var X=un(u,p,I,F);return-1<X?(p=u[X],g||(p.fa=!1)):(p=new _n(p,this.src,U,!!I,F),p.fa=g,u.push(p)),p};function On(u,p){var g=p.type;if(g in u.g){var I=u.g[g],F=Array.prototype.indexOf.call(I,p,void 0),U;(U=0<=F)&&Array.prototype.splice.call(I,F,1),U&&(Gt(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function un(u,p,g,I){for(var F=0;F<u.length;++F){var U=u[F];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==I)return F}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),Lr={};function Ln(u,p,g,I,F){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Ln(u,p[U],g,I,F);return null}return g=ye(g),u&&u[ft]?u.K(p,g,c(I)?!!I.capture:!!I,F):xo(u,p,g,!1,I,F)}function xo(u,p,g,I,F,U){if(!p)throw Error("Invalid event type");var X=c(F)?!!F.capture:!!F,Le=G(u);if(Le||(u[Mn]=Le=new Vn(u)),g=Le.add(p,g,I,X,U),g.proxy)return g;if(I=O(),g.proxy=I,I.src=u,I.listener=g,u.addEventListener)Oe||(F=X),F===void 0&&(F=!1),u.addEventListener(p.toString(),I,F);else if(u.attachEvent)u.attachEvent(Z(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function O(){function u(g){return p.call(u.src,u.listener,g)}const p=Y;return u}function L(u,p,g,I,F){if(Array.isArray(p))for(var U=0;U<p.length;U++)L(u,p[U],g,I,F);else I=c(I)?!!I.capture:!!I,g=ye(g),u&&u[ft]?(u=u.i,p=String(p).toString(),p in u.g&&(U=u.g[p],g=un(U,g,I,F),-1<g&&(Gt(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete u.g[p],u.h--)))):u&&(u=G(u))&&(p=u.g[p.toString()],u=-1,p&&(u=un(p,g,I,F)),(g=-1<u?p[u]:null)&&B(g))}function B(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ft])On(p.i,u);else{var g=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(g,I,u.capture):p.detachEvent?p.detachEvent(Z(g),I):p.addListener&&p.removeListener&&p.removeListener(I),(g=G(p))?(On(g,u),g.h==0&&(g.src=null,p[Mn]=null)):Gt(u)}}}function Z(u){return u in Lr?Lr[u]:Lr[u]="on"+u}function Y(u,p){if(u.da)u=!0;else{p=new rt(p,this);var g=u.listener,I=u.ha||u.src;u.fa&&B(u),u=g.call(I,p)}return u}function G(u){return u=u[Mn],u instanceof Vn?u:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(u){return typeof u=="function"?u:(u[ue]||(u[ue]=function(p){return u.handleEvent(p)}),u[ue])}function Te(){le.call(this),this.i=new Vn(this),this.M=this,this.F=null}v(Te,le),Te.prototype[ft]=!0,Te.prototype.removeEventListener=function(u,p,g,I){L(this,u,p,g,I)};function we(u,p){var g,I=u.F;if(I)for(g=[];I;I=I.F)g.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new ce(p,u);else if(p instanceof ce)p.target=p.target||u;else{var F=p;p=new ce(I,u),P(p,F)}if(F=!0,g)for(var U=g.length-1;0<=U;U--){var X=p.g=g[U];F=Qt(X,I,!0,p)&&F}if(X=p.g=u,F=Qt(X,I,!0,p)&&F,F=Qt(X,I,!1,p)&&F,g)for(U=0;U<g.length;U++)X=p.g=g[U],F=Qt(X,I,!1,p)&&F}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],I=0;I<g.length;I++)Gt(g[I]);delete u.g[p],u.h--}}this.F=null},Te.prototype.K=function(u,p,g,I){return this.i.add(String(u),p,!1,g,I)},Te.prototype.L=function(u,p,g,I){return this.i.add(String(u),p,!0,g,I)};function Qt(u,p,g,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,U=0;U<p.length;++U){var X=p[U];if(X&&!X.da&&X.capture==g){var Le=X.listener,xt=X.ha||X.src;X.fa&&On(u.i,X),F=Le.call(xt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Qn(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Fr(u){u.g=Qn(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ds extends le{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(u){le.call(this),this.h=u,this.g={}}v(fr,le);var _i=[];function So(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&B(p)},u),u.g={}}fr.prototype.N=function(){fr.aa.N.call(this),So(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=a.JSON.stringify,mr=a.JSON.parse,up=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function me(){}me.prototype.h=null;function Me(u){return u.h||(u.h=u.i())}function De(){}var Nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){ce.call(this,"d")}v(cn,ce);function Ei(){ce.call(this,"c")}v(Ei,ce);var jr={},Nw=null;function kc(){return Nw=Nw||new Te}jr.La="serverreachability";function Dw(u){ce.call(this,jr.La,u)}v(Dw,ce);function ol(u){const p=kc();we(p,new Dw(p))}jr.STAT_EVENT="statevent";function Vw(u,p){ce.call(this,jr.STAT_EVENT,u),this.stat=p}v(Vw,ce);function Yt(u){const p=kc();we(p,new Vw(p,u))}jr.Ma="timingevent";function Ow(u,p){ce.call(this,jr.Ma,u),this.size=p}v(Ow,ce);function al(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function qN(u,p,g,I,F,U){u.info(function(){if(u.g)if(U)for(var X="",Le=U.split("&"),xt=0;xt<Le.length;xt++){var Re=Le[xt].split("=");if(1<Re.length){var Dt=Re[0];Re=Re[1];var Vt=Dt.split("_");X=2<=Vt.length&&Vt[1]=="type"?X+(Dt+"="+Re+"&"):X+(Dt+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+p+`
`+g+`
`+X})}function KN(u,p,g,I,F,U,X){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+p+`
`+g+`
`+U+" "+X})}function Co(u,p,g,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+QN(u,g)+(I?" "+I:"")})}function GN(u,p){u.info(function(){return"TIMEOUT: "+p})}ll.prototype.info=function(){};function QN(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var I=g[u];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<F.length;X++)F[X]=""}}}}return pr(g)}catch{return p}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cp;function Dc(){}v(Dc,me),Dc.prototype.g=function(){return new XMLHttpRequest},Dc.prototype.i=function(){return{}},cp=new Dc;function Ti(u,p,g,I){this.j=u,this.i=p,this.l=g,this.R=I||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lw}function Lw(){this.i=null,this.g="",this.h=!1}var Fw={},dp={};function hp(u,p,g){u.L=1,u.v=Lc(Ur(p)),u.m=g,u.P=!0,jw(u,null)}function jw(u,p){u.F=Date.now(),Vc(u),u.A=Ur(u.v);var g=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Zw(g.i,"t",I),u.C=0,g=u.j.J,u.h=new Lw,u.g=y_(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Ds(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,I=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(_i[0]=F.toString()),F=_i);for(var U=0;U<F.length;U++){var X=Ln(g,F[U],I||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ol(),qN(u.i,u.u,u.A,u.l,u.R,u.m)}Ti.prototype.ca=function(u){u=u.target;const p=this.M;p&&Br(u)==3?p.j():this.Y(u)},Ti.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Br(this.g);var p=this.g.Ba();const bo=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||o_(this.g)))){this.J||Vt!=4||p==7||(p==8||0>=bo?ol(3):ol(2)),fp(this);var g=this.g.Z();this.X=g;t:if(Uw(this)){var I=o_(this.g);u="";var F=I.length,U=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),ul(this);var X="";break t}this.h.i=new a.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(U&&p==F-1)});I.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,KN(this.i,this.u,this.A,this.l,this.R,Vt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Le)){var Re=Le;break t}}Re=null}if(g=Re)Co(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pp(this,g);else{this.o=!1,this.s=3,Yt(12),Vs(this),ul(this);break e}}if(this.P){g=!0;let Yn;for(;!this.J&&this.C<X.length;)if(Yn=YN(this,X),Yn==dp){Vt==4&&(this.s=4,Yt(14),g=!1),Co(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Fw){this.s=4,Yt(15),Co(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else Co(this.i,this.l,Yn,null),pp(this,Yn);if(Uw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||X.length!=0||this.h.h||(this.s=1,Yt(16),g=!1),this.o=this.o&&g,!g)Co(this.i,this.l,X,"[Invalid Chunked Response]"),Vs(this),ul(this);else if(0<X.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),_p(Dt),Dt.M=!0,Yt(11))}}else Co(this.i,this.l,X,null),pp(this,X);Vt==4&&Vs(this),this.o&&!this.J&&(Vt==4?f_(this.j,this):(this.o=!1,Vc(this)))}else fD(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Vs(this),ul(this)}}}catch{}finally{}};function Uw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function YN(u,p){var g=u.C,I=p.indexOf(`
`,g);return I==-1?dp:(g=Number(p.substring(g,I)),isNaN(g)?Fw:(I+=1,I+g>p.length?dp:(p=p.slice(I,I+g),u.C=I+g,p)))}Ti.prototype.cancel=function(){this.J=!0,Vs(this)};function Vc(u){u.S=Date.now()+u.I,Bw(u,u.I)}function Bw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=al(f(u.ba,u),p)}function fp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ti.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(GN(this.i,this.A),this.L!=2&&(ol(),Yt(17)),Vs(this),this.s=2,ul(this)):Bw(this,this.S-u)};function ul(u){u.j.G==0||u.J||f_(u.j,u)}function Vs(u){fp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,So(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function pp(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||mp(g.h,u))){if(!u.K&&mp(g.h,u)&&g.G==3){try{var I=g.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)zc(g),Bc(g);else break e;wp(g),Yt(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=al(f(g.Za,g),6e3));if(1>=Ww(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ms(g,11)}else if((u.K||g.g==u)&&zc(g),!y(p))for(F=g.Da.g.parse(p),p=0;p<F.length;p++){let Re=F[p];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];const Dt=Re[3];Dt!=null&&(g.la=Dt,g.j.info("VER="+g.la));const Vt=Re[4];Vt!=null&&(g.Aa=Vt,g.j.info("SVER="+g.Aa));const bo=Re[5];bo!=null&&typeof bo=="number"&&0<bo&&(I=1.5*bo,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const Yn=u.g;if(Yn){const Hc=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var U=I.h;U.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(gp(U,U.h),U.h=null))}if(I.D){const Ep=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ep&&(I.ya=Ep,Be(I.I,I.D,Ep))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var X=u;if(I.qa=g_(I,I.J?I.ia:null,I.W),X.K){Hw(I.h,X);var Le=X,xt=I.L;xt&&(Le.I=xt),Le.B&&(fp(Le),Vc(Le)),I.g=X}else d_(I);0<g.i.length&&$c(g)}else Re[0]!="stop"&&Re[0]!="close"||Ms(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Ms(g,7):vp(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}ol(4)}catch{}}var XN=class{constructor(u,p){this.g=u,this.map=p}};function $w(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ww(u){return u.h?1:u.g?u.g.size:0}function mp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function gp(u,p){u.g?u.g.add(p):u.h=p}function Hw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}$w.prototype.cancel=function(){if(this.i=qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return _(u.i)}function JN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,I=0;I<g;I++)p.push(u[I]);return p}p=[],g=0;for(I in u)p[g++]=u[I];return p}function ZN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const I in u)p[g++]=I;return p}}}function Kw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=ZN(u),I=JN(u),F=I.length,U=0;U<F;U++)p.call(void 0,I[U],g&&g[U],u)}var Gw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eD(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var I=u[g].indexOf("="),F=null;if(0<=I){var U=u[g].substring(0,I);F=u[g].substring(I+1)}else U=u[g];p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Os(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Os){this.h=u.h,Oc(this,u.j),this.o=u.o,this.g=u.g,Mc(this,u.s),this.l=u.l;var p=u.i,g=new hl;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Qw(this,g),this.m=u.m}else u&&(p=String(u).match(Gw))?(this.h=!1,Oc(this,p[1]||"",!0),this.o=cl(p[2]||""),this.g=cl(p[3]||"",!0),Mc(this,p[4]),this.l=cl(p[5]||"",!0),Qw(this,p[6]||"",!0),this.m=cl(p[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Os.prototype.toString=function(){var u=[],p=this.j;p&&u.push(dl(p,Yw,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(dl(p,Yw,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(dl(g,g.charAt(0)=="/"?rD:nD,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",dl(g,sD)),u.join("")};function Ur(u){return new Os(u)}function Oc(u,p,g){u.j=g?cl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Mc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Qw(u,p,g){p instanceof hl?(u.i=p,oD(u.i,u.h)):(g||(p=dl(p,iD)),u.i=new hl(p,u.h))}function Be(u,p,g){u.i.set(p,g)}function Lc(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function cl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dl(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,tD),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yw=/[#\/\?@]/g,nD=/[#\?:]/g,rD=/[#\?]/g,iD=/[#\?@]/g,sD=/#/g;function hl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xi(u){u.g||(u.g=new Map,u.h=0,u.i&&eD(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=hl.prototype,t.add=function(u,p){xi(this),this.i=null,u=Ao(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function Xw(u,p){xi(u),p=Ao(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Jw(u,p){return xi(u),p=Ao(u,p),u.g.has(p)}t.forEach=function(u,p){xi(this),this.g.forEach(function(g,I){g.forEach(function(F){u.call(p,F,I,this)},this)},this)},t.na=function(){xi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let I=0;I<p.length;I++){const F=u[I];for(let U=0;U<F.length;U++)g.push(p[I])}return g},t.V=function(u){xi(this);let p=[];if(typeof u=="string")Jw(this,u)&&(p=p.concat(this.g.get(Ao(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return xi(this),this.i=null,u=Ao(this,u),Jw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Zw(u,p,g){Xw(u,p),0<g.length&&(u.i=null,u.g.set(Ao(u,p),_(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var I=p[g];const U=encodeURIComponent(String(I)),X=this.V(I);for(I=0;I<X.length;I++){var F=U;X[I]!==""&&(F+="="+encodeURIComponent(String(X[I]))),u.push(F)}}return this.i=u.join("&")};function Ao(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function oD(u,p){p&&!u.j&&(xi(u),u.i=null,u.g.forEach(function(g,I){var F=I.toLowerCase();I!=F&&(Xw(this,I),Zw(this,F,g))},u)),u.j=p}function aD(u,p){const g=new ll;if(a.Image){const I=new Image;I.onload=m(Si,g,"TestLoadImage: loaded",!0,p,I),I.onerror=m(Si,g,"TestLoadImage: error",!1,p,I),I.onabort=m(Si,g,"TestLoadImage: abort",!1,p,I),I.ontimeout=m(Si,g,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function lD(u,p){const g=new ll,I=new AbortController,F=setTimeout(()=>{I.abort(),Si(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(U=>{clearTimeout(F),U.ok?Si(g,"TestPingServer: ok",!0,p):Si(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Si(g,"TestPingServer: error",!1,p)})}function Si(u,p,g,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(g)}catch{}}function uD(){this.g=new up}function cD(u,p,g){const I=g||"";try{Kw(u,function(F,U){let X=F;c(F)&&(X=pr(F)),p.push(I+U+"="+encodeURIComponent(X))})}catch(F){throw p.push(I+"type="+encodeURIComponent("_badmap")),F}}function Fc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Fc,me),Fc.prototype.g=function(){return new jc(this.l,this.j)},Fc.prototype.i=function(u){return function(){return u}}({});function jc(u,p){Te.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(jc,Te),t=jc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,pl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;e_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function e_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?fl(this):pl(this),this.readyState==3&&e_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,fl(this))},t.Qa=function(u){this.g&&(this.response=u,fl(this))},t.ga=function(){this.g&&fl(this)};function fl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function pl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function t_(u){let p="";return M(u,function(g,I){p+=I,p+=":",p+=g,p+=`\r
`}),p}function yp(u,p,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=t_(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Be(u,p,g))}function Je(u){Te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Je,Te);var dD=/^https?$/i,hD=["POST","PUT"];t=Je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cp.g(),this.v=this.o?Me(this.o):Me(cp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){n_(this,U);return}if(u=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)g.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const U of I.keys())g.set(U,I.get(U));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hD,p,void 0))||I||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of g)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{s_(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){n_(this,U)}};function n_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,r_(u),Uc(u)}function r_(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,we(this,"complete"),we(this,"abort"),Uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?i_(this):this.bb())},t.bb=function(){i_(this)};function i_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Br(u)!=4||u.Z()!=2)){if(u.u&&Br(u)==4)Qn(u.Ea,0,u);else if(we(u,"readystatechange"),Br(u)==4){u.h=!1;try{const X=u.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var I;if(I=X===0){var F=String(u.D).match(Gw)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),I=!dD.test(F?F.toLowerCase():"")}g=I}if(g)we(u,"complete"),we(u,"success");else{u.m=6;try{var U=2<Br(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",r_(u)}}finally{Uc(u)}}}}function Uc(u,p){if(u.g){s_(u);const g=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||we(u,"ready");try{g.onreadystatechange=I}catch{}}}function s_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Br(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),mr(p)}};function o_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fD(u){const p={};u=(u.g&&2<=Br(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var g=V(u[I]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[F]||[];p[F]=U,U.push(g)}C(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function a_(u){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,u),this.cb=ml("retryDelaySeedMs",1e4,u),this.Wa=ml("forwardChannelMaxRetries",2,u),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new $w(u&&u.concurrentRequestLimit),this.Da=new uD,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=a_.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,I){Yt(0),this.W=u,this.H=p||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=g_(this,null,this.W),$c(this)};function vp(u){if(l_(u),u.G==3){var p=u.U++,g=Ur(u.I);if(Be(g,"SID",u.K),Be(g,"RID",p),Be(g,"TYPE","terminate"),gl(u,g),p=new Ti(u,u.j,p),p.L=2,p.v=Lc(Ur(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=y_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Vc(p)}m_(u)}function Bc(u){u.g&&(_p(u),u.g.cancel(),u.g=null)}function l_(u){Bc(u),u.u&&(a.clearTimeout(u.u),u.u=null),zc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function $c(u){if(!zw(u.h)&&!u.s){u.s=!0;var p=u.Ga;ee||te(),j||(ee(),j=!0),K.add(p,u),u.B=0}}function pD(u,p){return Ww(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=al(f(u.Ga,u,p),p_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Ti(this,this.j,u);let U=this.o;if(this.S&&(U?(U=x(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=c_(this,F,p),g=Ur(this.I),Be(g,"RID",u),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),gl(this,g),U&&(this.O?p="headers="+encodeURIComponent(String(t_(U)))+"&"+p:this.m&&yp(g,this.m,U)),gp(this.h,F),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",p),Be(g,"SID","null"),F.T=!0,hp(F,g,null)):hp(F,g,p),this.G=2}}else this.G==3&&(u?u_(this,u):this.i.length==0||zw(this.h)||u_(this))};function u_(u,p){var g;p?g=p.l:g=u.U++;const I=Ur(u.I);Be(I,"SID",u.K),Be(I,"RID",g),Be(I,"AID",u.T),gl(u,I),u.m&&u.o&&yp(I,u.m,u.o),g=new Ti(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=c_(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),gp(u.h,g),hp(g,I,p)}function gl(u,p){u.H&&M(u.H,function(g,I){Be(p,I,g)}),u.l&&Kw({},function(g,I){Be(p,I,g)})}function c_(u,p,g){g=Math.min(u.i.length,g);var I=u.l?f(u.l.Na,u.l,u):null;e:{var F=u.i;let U=-1;for(;;){const X=["count="+g];U==-1?0<g?(U=F[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let Le=!0;for(let xt=0;xt<g;xt++){let Re=F[xt].g;const Dt=F[xt].map;if(Re-=U,0>Re)U=Math.max(0,F[xt].g-100),Le=!1;else try{cD(Dt,X,"req"+Re+"_")}catch{I&&I(Dt)}}if(Le){I=X.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,I}function d_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ee||te(),j||(ee(),j=!0),K.add(p,u),u.v=0}}function wp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=al(f(u.Fa,u),p_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,h_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=al(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Bc(this),h_(this))};function _p(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function h_(u){u.g=new Ti(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ur(u.qa);Be(p,"RID","rpc"),Be(p,"SID",u.K),Be(p,"AID",u.T),Be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(p,"TO",u.ja),Be(p,"TYPE","xmlhttp"),gl(u,p),u.m&&u.o&&yp(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Lc(Ur(p)),g.m=null,g.P=!0,jw(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Bc(this),wp(this),Yt(19))};function zc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function f_(u,p){var g=null;if(u.g==p){zc(u),_p(u),u.g=null;var I=2}else if(mp(u.h,p))g=p.D,Hw(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var F=u.B;I=kc(),we(I,new Ow(I,g)),$c(u)}else d_(u);else if(F=p.s,F==3||F==0&&0<p.X||!(I==1&&pD(u,p)||I==2&&wp(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),F){case 1:Ms(u,5);break;case 4:Ms(u,10);break;case 3:Ms(u,6);break;default:Ms(u,2)}}}function p_(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Ms(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),I=u.Xa;const F=!I;I=new Os(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oc(I,"https"),Lc(I),F?aD(I.toString(),g):lD(I.toString(),g)}else Yt(2);u.G=0,u.l&&u.l.sa(p),m_(u),l_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function m_(u){if(u.G=0,u.ka=[],u.l){const p=qw(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ka,p),E(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function g_(u,p,g){var I=g instanceof Os?Ur(g):new Os(g);if(I.g!="")p&&(I.g=p+"."+I.g),Mc(I,I.s);else{var F=a.location;I=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var U=new Os(null);I&&Oc(U,I),p&&(U.g=p),F&&Mc(U,F),g&&(U.l=g),I=U}return g=u.D,p=u.ya,g&&p&&Be(I,g,p),Be(I,"VER",u.la),gl(u,I),I}function y_(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Je(new Fc({eb:g})):new Je(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function v_(){}t=v_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wc(){}Wc.prototype.g=function(u,p){return new En(u,p)};function En(u,p){Te.call(this),this.g=new a_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Io(this)}v(En,Te),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){vp(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=pr(u),u=g);p.i.push(new XN(p.Ya++,u)),p.G==3&&$c(p)},En.prototype.N=function(){this.g.l=null,delete this.j,vp(this.g),delete this.g,En.aa.N.call(this)};function w_(u){cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(w_,cn);function __(){Ei.call(this),this.status=1}v(__,Ei);function Io(u){this.g=u}v(Io,v_),Io.prototype.ua=function(){we(this.g,"a")},Io.prototype.ta=function(u){we(this.g,new w_(u))},Io.prototype.sa=function(u){we(this.g,new __)},Io.prototype.ra=function(){we(this.g,"b")},Wc.prototype.createWebChannel=Wc.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,pP=function(){return new Wc},fP=function(){return kc()},hP=jr,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,Wd=Nc,Mw.COMPLETE="complete",dP=Mw,De.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Ml=De,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,cP=Je}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const zT="@firebase/firestore",WT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new t0("@firebase/firestore");function ko(){return mo.logLevel}function re(t,...e){if(mo.logLevel<=Ce.DEBUG){const n=e.map(f0);mo.debug(`Firestore (${Za}): ${t}`,...n)}}function hi(t,...e){if(mo.logLevel<=Ce.ERROR){const n=e.map(f0);mo.error(`Firestore (${Za}): ${t}`,...n)}}function Da(t,...e){if(mo.logLevel<=Ce.WARN){const n=e.map(f0);mo.warn(`Firestore (${Za}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function Ne(t,e){t||pe()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class t3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n3{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ti,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ti)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new mP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Bt(e)}}class r3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class i3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new r3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s3{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new HT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new HT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=o3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return xe(r,i);{const s=gP(),o=a3(s.encode(qT(t,n)),s.encode(qT(e,n)));return o!==0?o:xe(r,i)}}n+=r>65535?2:1}return xe(t.length,e.length)}function qT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function a3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xe(t[n],e[n]);return xe(t.length,e.length)}function Va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=-62135596800,GT=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GT);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KT)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GT}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new vt(0,0))}static max(){return new ge(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=vr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return xe(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),i=vr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?vr.extractNumericId(e).compare(vr.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class We extends vr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const l3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends vr{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return l3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QT}static keyField(){return new It([QT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(We.fromString(e))}static fromName(e){return new de(We.fromString(e).popFirst(5))}static empty(){return new de(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new We(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;function u3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new gs(i,de.empty(),e)}function c3(t){return new gs(t.readTime,t.key,Bu)}class gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gs(ge.min(),de.empty(),Bu)}static max(){return new gs(ge.max(),de.empty(),Bu)}}function d3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==h3)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function p3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-1;function Bf(t){return t==null}function jh(t){return t===0&&1/t==-1/0}function m3(t){return typeof t=="number"&&Number.isInteger(t)&&!jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="";function g3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YT(e)),e=y3(t.get(n),e);return YT(e)}function y3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case vP:n+="";break;default:n+=s}}return n}function YT(t){return t+vP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(e){return new JT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class JT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new In([])}unionWith(e){let n=new wt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _P("Invalid base64 string: "+s):s}}(e);return new kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const v3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=v3.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="server_timestamp",TP="__type__",xP="__previous_value__",SP="__local_write_time__";function m0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TP])===null||n===void 0?void 0:n.stringValue)===EP}function $f(t){const e=t.mapValue.fields[xP];return m0(e)?$f(e):e}function $u(t){const e=ys(t.mapValue.fields[SP].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Uh="(default)";class zu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="__type__",AP="__max__",vd={mapValue:{fields:{__type__:{stringValue:AP}}}},IP="__vector__",Bh="value";function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m0(t)?4:E3(t)?9007199254740991:_3(t)?10:11:pe()}function Or(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ys(i.timestampValue),a=ys(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vs(i.bytesValue).isEqual(vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?jh(o)===jh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XT(o)!==XT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Or(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Wu(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function Oa(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ZT(t.timestampValue,e.timestampValue);case 4:return ZT($u(t),$u(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vs(s),l=vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=xe(a[c],l[c]);if(d!==0)return d}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xe(st(s.latitude),st(o.latitude));return a!==0?a:xe(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ex(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},m=(a=h[Bh])===null||a===void 0?void 0:a.arrayValue,v=(l=f[Bh])===null||l===void 0?void 0:l.arrayValue,_=xe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:ex(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vd.mapValue&&o===vd.mapValue)return 0;if(s===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Jg(l[h],d[h]);if(f!==0)return f;const m=Oa(a[l[h]],c[d[h]]);if(m!==0)return m}return xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function ZT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=ys(t),r=ys(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function ex(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Oa(n[i],r[i]);if(s)return s}return xe(n.length,r.length)}function Ma(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zg(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function Hd(t){switch(ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$f(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Hd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Rs(r.fields,(s,o)=>{i+=s.length+Hd(o)}),i}(t.mapValue);default:throw pe()}}function tx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ey(t){return!!t&&"integerValue"in t}function g0(t){return!!t&&"arrayValue"in t}function nx(t){return!!t&&"nullValue"in t}function rx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function _3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CP])===null||n===void 0?void 0:n.stringValue)===IP}function iu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=iu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=iu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(iu(this.value))}}function bP(t){const e=[];return Rs(t.fields,(n,r)=>{const i=new It([n]);if(qd(r)){const s=bP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ge.min(),ge.min(),ge.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ge.min(),ge.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ge.min(),ge.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function ix(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Oa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function T3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{}class dt extends PP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S3(e,n,r):n==="array-contains"?new I3(e,r):n==="in"?new b3(e,r):n==="not-in"?new P3(e,r):n==="array-contains-any"?new R3(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C3(e,r):new A3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oa(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends PP{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new hr(e,n)}matches(e){return RP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function RP(t){return t.op==="and"}function kP(t){return x3(t)&&RP(t)}function x3(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function ty(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(kP(t))return t.filters.map(e=>ty(e)).join(",");{const e=t.filters.map(n=>ty(n)).join(",");return`${t.op}(${e})`}}function NP(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&Or(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&NP(o,i.filters[a]),!0):!1}(t,e):void pe()}function DP(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(DP).join(" ,")+"}"}(t):"Filter"}class S3 extends dt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class C3 extends dt{constructor(e,n){super(e,"in",n),this.keys=VP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A3 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=VP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class I3 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g0(n)&&Wu(n.arrayValue,this.value)}}class b3 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class P3 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class R3 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function ox(t,e=null,n=[],r=[],i=null,s=null,o=null){return new k3(t,e,n,r,i,s,o)}function y0(t){const e=ve(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.le=n}return e.le}function v0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sx(t.startAt,e.startAt)&&sx(t.endAt,e.endAt)}function ny(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N3(t,e,n,r,i,s,o,a){return new wc(t,e,n,r,i,s,o,a)}function w0(t){return new wc(t)}function ax(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OP(t){return t.collectionGroup!==null}function su(t){const e=ve(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new zh(s,r))}),n.has(It.keyField().canonicalString())||e.he.push(new zh(It.keyField(),r))}return e.he}function br(t){const e=ve(t);return e.Pe||(e.Pe=D3(e,su(t))),e.Pe}function D3(t,e){if(t.limitType==="F")return ox(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zh(i.field,s)});const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return ox(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ry(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iy(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return v0(br(t),br(e))&&t.limitType===e.limitType}function MP(t){return`${y0(br(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DP(i)).join(", ")}]`),Bf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ma(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of su(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=ix(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,su(r),i)||r.endAt&&!function(o,a,l){const c=ix(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,su(r),i))}(t,e)}function V3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LP(t){return(e,n)=>{let r=!1;for(const i of su(t)){const s=O3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function O3(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Oa(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Xe(de.comparator);function fi(){return M3}const FP=new Xe(de.comparator);function Ll(...t){let e=FP;for(const n of t)e=e.insert(n.key,n);return e}function jP(t){let e=FP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qs(){return ou()}function UP(){return ou()}function ou(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const L3=new Xe(de.comparator),F3=new wt(de.comparator);function Ae(...t){let e=F3;for(const n of t)e=e.add(n);return e}const j3=new wt(xe);function U3(){return j3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function BP(t){return{integerValue:""+t}}function B3(t,e){return m3(e)?BP(e):_0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function $3(t,e,n){return t instanceof Wh?function(i,s){const o={fields:{[TP]:{stringValue:EP},[SP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&m0(s)&&(s=$f(s)),s&&(o.fields[xP]=s),{mapValue:o}}(n,e):t instanceof Hu?zP(t,e):t instanceof qu?WP(t,e):function(i,s){const o=$P(i,s),a=lx(o)+lx(i.Ie);return ey(o)&&ey(i.Ie)?BP(a):_0(i.serializer,a)}(t,e)}function z3(t,e,n){return t instanceof Hu?zP(t,e):t instanceof qu?WP(t,e):n}function $P(t,e){return t instanceof Hh?function(r){return ey(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wh extends Hf{}class Hu extends Hf{constructor(e){super(),this.elements=e}}function zP(t,e){const n=HP(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends Hf{constructor(e){super(),this.elements=e}}function WP(t,e){let n=HP(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class Hh extends Hf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lx(t){return st(t.integerValue||t.doubleValue)}function HP(t){return g0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hu&&i instanceof Hu||r instanceof qu&&i instanceof qu?Va(r.elements,i.elements,Or):r instanceof Hh&&i instanceof Hh?Or(r.Ie,i.Ie):r instanceof Wh&&i instanceof Wh}(t.transform,e.transform)}class H3{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function qP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new GP(t.key,Pr.none()):new _c(t.key,t.data,Pr.none());{const n=t.data,r=mn.empty();let i=new wt(It.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ks(t.key,r,new In(i.toArray()),Pr.none())}}function q3(t,e,n){t instanceof _c?function(i,s,o){const a=i.value.clone(),l=cx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(i,s,o){if(!Kd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=cx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function au(t,e,n,r){return t instanceof _c?function(s,o,a,l){if(!Kd(s.precondition,o))return a;const c=s.value.clone(),d=dx(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ks?function(s,o,a,l){if(!Kd(s.precondition,o))return a;const c=dx(s.fieldTransforms,l,o),d=o.data;return d.setAll(KP(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Kd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function K3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$P(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function ux(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Va(r,i,(s,o)=>W3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends qf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ks extends qf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cx(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,z3(o,a,n[i]))}return r}function dx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$3(s,o,e))}return r}class GP extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G3 extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>ux(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>ux(n,r))}}class E0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return L3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new E0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,be;function J3(t){switch(t){case H.OK:return pe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return pe()}}function QP(t){if(t===void 0)return hi("GRPC error has no .code"),H.UNKNOWN;switch(t){case ut.OK:return H.OK;case ut.CANCELLED:return H.CANCELLED;case ut.UNKNOWN:return H.UNKNOWN;case ut.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ut.INTERNAL:return H.INTERNAL;case ut.UNAVAILABLE:return H.UNAVAILABLE;case ut.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ut.NOT_FOUND:return H.NOT_FOUND;case ut.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ut.ABORTED:return H.ABORTED;case ut.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ut.DATA_LOSS:return H.DATA_LOSS;default:return pe()}}(be=ut||(ut={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new ls([4294967295,4294967295],0);function hx(t){const e=gP().encode(t),n=new uP;return n.update(e),new Uint8Array(n.digest())}function fx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ls([n,r],0),new ls([i,s],0)]}class T0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(r<0)throw new Fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ls.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(ls.fromNumber(r)));return i.compare(Z3)===1&&(i=new ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=hx(e),[r,i]=fx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new T0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=hx(e),[r,i]=fx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kf(ge.min(),i,new Xe(xe),fi(),Ae())}}class Ec{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class YP{constructor(e,n){this.targetId=e,this.ge=n}}class XP{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class px{constructor(){this.pe=0,this.ye=mx(),this.we=kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ae(),n=Ae(),r=Ae();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Ec(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=mx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ne(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class e9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fi(),this.$e=wd(),this.Ue=wd(),this.Ke=new Xe(xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(ny(s))if(r===0){const o=new de(s.path);this.ze(n,o,zt.newNoDocument(o,ge.min()))}else Ne(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vs(r).toUint8Array()}catch(l){if(l instanceof _P)return Da("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new T0(o,i,s)}catch(l){return Da(l instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&ny(a.target)){const l=new de(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,zt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=Ae();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Kf(e,n,this.Ke,this.Qe,r);return this.Qe=fi(),this.$e=wd(),this.Ue=wd(),this.Ke=new Xe(xe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new px,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new wt(xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new wt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new px),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function wd(){return new Xe(de.comparator)}function mx(){return new Xe(de.comparator)}const t9={asc:"ASCENDING",desc:"DESCENDING"},n9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r9={and:"AND",or:"OR"};class i9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s9(t,e){return qh(t,e.toTimestamp())}function Rr(t){return Ne(!!t),ge.fromTimestamp(function(n){const r=ys(n);return new vt(r.seconds,r.nanos)}(t))}function x0(t,e){return oy(t,e).canonicalString()}function oy(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZP(t){const e=We.fromString(t);return Ne(iR(e)),e}function ay(t,e){return x0(t.databaseId,e.path)}function cm(t,e){const n=ZP(e);if(n.get(1)!==t.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(tR(n))}function eR(t,e){return x0(t.databaseId,e)}function o9(t){const e=ZP(t);return e.length===4?We.emptyPath():tR(e)}function ly(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tR(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gx(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function a9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ne(d===void 0||typeof d=="string"),kt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:QP(c.code);return new se(d,c.message||"")}(o);n=new XP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cm(t,r.document.name),s=Rr(r.document.updateTime),o=r.document.createTime?Rr(r.document.createTime):ge.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Gd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cm(t,r.document),s=r.readTime?Rr(r.readTime):ge.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cm(t,r.document),s=r.removedTargetIds||[];n=new Gd([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new X3(i,s),a=r.targetId;n=new YP(a,o)}}return n}function l9(t,e){let n;if(e instanceof _c)n={update:gx(t,e.key,e.value)};else if(e instanceof GP)n={delete:ay(t,e.key)};else if(e instanceof ks)n={update:gx(t,e.key,e.data),updateMask:y9(e.fieldMask)};else{if(!(e instanceof G3))return pe();n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:s9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function u9(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Rr(i.updateTime):Rr(s);return o.isEqual(ge.min())&&(o=Rr(s)),new H3(o,i.transformResults||[])}(n,e))):[]}function c9(t,e){return{documents:[eR(t,e.path)]}}function d9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eR(t,i);const s=function(c){if(c.length!==0)return rR(hr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Do(f.field),direction:p9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function h9(t){let e=o9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=nR(h);return f instanceof hr&&kP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new zh(Vo(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Bf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new $h(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new $h(m,f)}(n.endAt)),N3(e,i,o,s,a,"F",l,c)}function f9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vo(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vo(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vo(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vo(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Vo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>nR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function p9(t){return t9[t]}function m9(t){return n9[t]}function g9(t){return r9[t]}function Do(t){return{fieldPath:t.canonicalString()}}function Vo(t){return It.fromServerFormat(t.fieldPath)}function rR(t){return t instanceof dt?function(n){if(n.op==="=="){if(rx(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(nx(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rx(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(nx(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:m9(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(i=>rR(i));return r.length===1?r[0]:{compositeFilter:{op:g9(n.op),filters:r}}}(t):pe()}function y9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.Tt=e}}function w9(t){const e=h9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.Tn=new E9}addToCollectionParentIndex(e,n){return this.Tn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(gs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class E9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sR=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(sR,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new La(0)}static Kn(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="LruGarbageCollector",T9=1048576;function wx([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class x9{constructor(e){this.Hn=e,this.buffer=new wt(wx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){re(vx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?re(vx,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.er(3e5)})}}class C9{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Uf.ae);const r=new x9(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(yx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ko()<=Ce.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function A9(t,e){return new C9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&au(r.mutation,i,In.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ll();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fi();const o=ou(),a=function(){return ou()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ks)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),au(d.mutation,c,d.mutation.getFieldMask(),vt.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new b9(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ou();let i=new Xe((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||In.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=UP();d.forEach(f=>{if(!s.has(f)){const m=qP(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(qs());let a=Bu,l=s;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ae())).next(d=>({batchId:a,changes:jP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ll();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(h,f){return new wc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=Ll();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&au(d.mutation,c,In.empty(),vt.now()),Wf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:w9(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.overlays=new Xe(de.comparator),this.Rr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=qs(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=qs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return $.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y3(n,r));let s=this.Rr.get(n);s===void 0&&(s=Ae(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Vr=new wt(_t.mr),this.gr=new wt(_t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new _t(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new de(new We([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new de(new We([])),r=new _t(n,e),i=new _t(n,e+1);let s=Ae();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return de.comparator(e.key,n.key)||xe(e.Cr,n.Cr)}static pr(e,n){return xe(e.Cr,n.Cr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(_t.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Q3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?p0:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(xe);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),$.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new _t(new de(s),0);let a=new wt(xe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),$.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return $.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new _t(n,0),i=this.Mr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.kr=e,this.docs=function(){return new Xe(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi();const o=n.path,a=new de(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||d3(c3(d),r)<=0||(i.has(d.key)||Wf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}qr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O9(this)}getSize(e){return $.resolve(this.size)}}class O9 extends I9{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.persistence=e,this.Qr=new _o(n=>y0(n),v0),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.$r=0,this.Ur=new S0,this.targetCount=0,this.Kr=La.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),$.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new La(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.zn(n),$.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Uf(0),this.zr=!1,this.zr=!0,this.jr=new N9,this.referenceDelegate=e(this),this.Hr=new M9(this),this.indexManager=new _9,this.remoteDocumentCache=function(i){return new V9(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new v9(n),this.Yr=new R9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new D9(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new L9(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return $.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class L9 extends f3{constructor(e){super(),this.currentSequenceNumber=e}}class C0{constructor(e){this.persistence=e,this.ti=new S0,this.ni=null}static ri(e){return new C0(e)}get ii(){if(this.ni)return this.ni;throw pe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,r=>{const i=de.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.oi=new _o(r=>g3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=A9(this,n)}static ri(e,n){return new Kh(e,n)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return $.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ge.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}ar(e,n,r){return $.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _U()?8:p3(qt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new F9;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(ko()<=Ce.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(ko()<=Ce.DEBUG&&re("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ko()<=Ce.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):$.resolve())}rs(e,n){if(ax(n))return $.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iy(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,iy(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return ax(n)||i.isEqual(ge.min())?$.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?$.resolve(null):(ko()<=Ce.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(n)),this.hs(e,o,n,u3(i,Bu)).next(a=>a))})}cs(e,n){let r=new wt(LP(e));return n.forEach((i,s)=>{Wf(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return ko()<=Ce.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",No(n)),this.ns.getDocumentsMatchingQuery(e,n,gs.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LocalStore",U9=3e8;class B9{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Xe(xe),this.Is=new _o(s=>y0(s),v0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function $9(t,e,n,r){return new B9(t,e,n,r)}async function aR(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ae();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function z9(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=$.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(_=>{const E=c.docVersions.get(v);Ne(E!==null),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lR(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function W9(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(kt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=U9?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&a.push(n.Hr.updateTargetData(s,m))});let l=fi(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(H9(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(ge.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=i,s))}function H9(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re(I0,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function q9(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=p0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K9(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Qi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function uy(t,e,n){const r=ve(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!tl(o))throw o;re(I0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function _x(t,e,n){const r=ve(t);let i=ge.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ve(l),f=h.Is.get(d);return f!==void 0?$.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,d)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Ae())).next(a=>(G9(r,V3(e),a),{documents:a,gs:s})))}function G9(t,e,n){let r=t.Es.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class Ex{constructor(){this.activeTargetIds=U3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q9{constructor(){this.ho=new Ex,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ex,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="ConnectivityMonitor";class xx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){re(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){re(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function cy(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",X9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=cy(),a=this.bo(e,n.toUriEncodedString());re(dm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(re(dm,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Da(dm,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=X9[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class e$ extends J9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=cy();return new Promise((o,a)=>{const l=new cP;l.setWithCredentials(!0),l.listenOnce(dP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wd.NO_ERROR:const d=l.getResponseJson();re(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wd.TIMEOUT:re(Ft,`RPC '${e}' ${s} timed out`),a(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const h=l.getStatus();if(re(Ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(m.status);a(new se(v,m.message))}else a(new se(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(H.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{re(Ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);re(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=cy(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pP(),a=fP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");re(Ft,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const v=new Z9({Fo:E=>{m?re(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(re(Ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(Ft,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Mo:()=>h.close()}),_=(E,w,y)=>{E.listen(w,T=>{try{y(T)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,Ml.EventType.OPEN,()=>{m||(re(Ft,`RPC '${e}' stream ${i} transport opened.`),v.Qo())}),_(h,Ml.EventType.CLOSE,()=>{m||(m=!0,re(Ft,`RPC '${e}' stream ${i} transport closed`),v.Uo())}),_(h,Ml.EventType.ERROR,E=>{m||(m=!0,Da(Ft,`RPC '${e}' stream ${i} transport errored:`,E),v.Uo(new se(H.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ml.EventType.MESSAGE,E=>{var w;if(!m){const y=E.data[0];Ne(!!y);const T=y,k=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(k){re(Ft,`RPC '${e}' stream ${i} received error:`,k);const D=k.status;let M=function(b){const P=ut[b];if(P!==void 0)return QP(P)}(D),C=k.message;M===void 0&&(M=H.INTERNAL,C="Unknown error status: "+D+" with message "+k.message),m=!0,v.Uo(new se(M,C)),h.close()}else re(Ft,`RPC '${e}' stream ${i} received:`,y),v.Ko(y)}}),_(a,hP.STAT_EVENT,E=>{E.stat===Xg.PROXY?re(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Xg.NOPROXY&&re(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return new i9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="PersistentStream";class cR{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return re(Sx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(re(Sx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t$ extends cR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=a9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Rr(o.readTime):ge.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=ly(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ny(l)?{documents:c9(s,l)}:{query:d9(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JP(s,o.resumeToken);const c=sy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=qh(s,o.snapshotVersion.toTimestamp());const c=sy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=f9(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=ly(this.serializer),n.removeTarget=e,this.I_(n)}}class n$ extends cR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=u9(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=ly(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>l9(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${}class i$ extends r${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,oy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(H.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,oy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(H.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class s${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(n),this.N_=!1):re("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class o${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Eo(this)&&(re(go,"Restarting streams for network reachability change."),await async function(l){const c=ve(l);c.W_.add(4),await Tc(c),c.j_.set("Unknown"),c.W_.delete(4),await Qf(c)}(this))})}),this.j_=new s$(r,i)}}async function Qf(t){if(Eo(t))for(const e of t.G_)await e(!0)}async function Tc(t){for(const e of t.G_)await e(!1)}function dR(t,e){const n=ve(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),k0(n)?R0(n):nl(n).c_()&&P0(n,e))}function b0(t,e){const n=ve(t),r=nl(n);n.K_.delete(e),r.c_()&&hR(n,e),n.K_.size===0&&(r.c_()?r.P_():Eo(n)&&n.j_.set("Unknown"))}function P0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).y_(e)}function hR(t,e){t.H_.Ne(e),nl(t).w_(e)}function R0(t){t.H_=new e9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.j_.B_()}function k0(t){return Eo(t)&&!nl(t).u_()&&t.K_.size>0}function Eo(t){return ve(t).W_.size===0}function fR(t){t.H_=void 0}async function a$(t){t.j_.set("Online")}async function l$(t){t.K_.forEach((e,n)=>{P0(t,e)})}async function u$(t,e){fR(t),k0(t)?(t.j_.q_(e),R0(t)):t.j_.set("Unknown")}async function c$(t,e,n){if(t.j_.set("Online"),e instanceof XP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){re(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(t,r)}else if(e instanceof Gd?t.H_.We(e):e instanceof YP?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ge.min()))try{const r=await lR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.K_.get(c);d&&s.K_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.K_.get(l);if(!d)return;s.K_.set(l,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),hR(s,l);const h=new Qi(d.target,l,c,d.sequenceNumber);P0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(go,"Failed to raise snapshot:",r),await Gh(t,r)}}async function Gh(t,e,n){if(!tl(e))throw e;t.W_.add(1),await Tc(t),t.j_.set("Offline"),n||(n=()=>lR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(go,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Qf(t)})}function pR(t,e){return e().catch(n=>Gh(t,n,e))}async function Yf(t){const e=ve(t),n=_s(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:p0;for(;d$(e);)try{const i=await q9(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,h$(e,i)}catch(i){await Gh(e,i)}mR(e)&&gR(e)}function d$(t){return Eo(t)&&t.U_.length<10}function h$(t,e){t.U_.push(e);const n=_s(t);n.c_()&&n.S_&&n.b_(e.mutations)}function mR(t){return Eo(t)&&!_s(t).u_()&&t.U_.length>0}function gR(t){_s(t).start()}async function f$(t){_s(t).C_()}async function p$(t){const e=_s(t);for(const n of t.U_)e.b_(n.mutations)}async function m$(t,e,n){const r=t.U_.shift(),i=E0.from(r,e,n);await pR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yf(t)}async function g$(t,e){e&&_s(t).S_&&await async function(r,i){if(function(o){return J3(o)&&o!==H.ABORTED}(i.code)){const s=r.U_.shift();_s(r).h_(),await pR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yf(r)}}(t,e),mR(t)&&gR(t)}async function Cx(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),re(go,"RemoteStore received new credentials");const r=Eo(n);n.W_.add(3),await Tc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Qf(n)}async function y$(t,e){const n=ve(t);e?(n.W_.delete(2),await Qf(n)):e||(n.W_.add(2),await Tc(n),n.j_.set("Unknown"))}function nl(t){return t.J_||(t.J_=function(n,r,i){const s=ve(n);return s.M_(),new t$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:a$.bind(null,t),No:l$.bind(null,t),Lo:u$.bind(null,t),p_:c$.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),k0(t)?R0(t):t.j_.set("Unknown")):(await t.J_.stop(),fR(t))})),t.J_}function _s(t){return t.Y_||(t.Y_=function(n,r,i){const s=ve(n);return s.M_(),new n$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:f$.bind(null,t),Lo:g$.bind(null,t),D_:p$.bind(null,t),v_:m$.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Yf(t)):(await t.Y_.stop(),t.U_.length>0&&(re(go,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new N0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D0(t,e){if(hi("AsyncQueue",`${e}: ${t}`),tl(t))return new se(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.Z_=new Xe(de.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fa(e,n,ca.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class w${constructor(){this.queries=Ix(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ve(n),s=i.queries;i.queries=Ix(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new se(H.ABORTED,"Firestore shutting down"))}}function Ix(){return new _o(t=>MP(t),zf)}async function yR(t,e){const n=ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new v$,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=D0(o,`Initialization of query '${No(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&V0(n)}async function vR(t,e){const n=ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _$(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&V0(n)}function E$(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function V0(t){t.ia.forEach(e=>{e.next()})}var dy,bx;(bx=dy||(dy={}))._a="default",bx.Cache="cache";class wR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.key=e}}class ER{constructor(e){this.key=e}}class T${constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ae(),this.mutatedKeys=Ae(),this.ya=LP(e),this.wa=new ca(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Ax,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Wf(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?v!==_&&(r.track({type:3,doc:m}),E=!0):this.va(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(m,v){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return _(m)-_(v)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Fa(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ax,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ae(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ER(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new _R(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ae();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const O0="SyncEngine";class x${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S${constructor(e){this.key=e,this.Ba=!1}}class C${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new _o(a=>MP(a),zf),this.qa=new Map,this.Qa=new Set,this.$a=new Xe(de.comparator),this.Ua=new Map,this.Ka=new S0,this.Wa={},this.Ga=new Map,this.za=La.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function A$(t,e,n=!0){const r=IR(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await TR(r,e,n,!0),i}async function I$(t,e){const n=IR(t);await TR(n,e,!0,!1)}async function TR(t,e,n,r){const i=await K9(t.localStore,br(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await b$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dR(t.remoteStore,i),a}async function b$(t,e,n,r,i){t.Ha=(h,f,m)=>async function(_,E,w,y){let T=E.view.ba(w);T.ls&&(T=await _x(_.localStore,E.query,!1).then(({documents:C})=>E.view.ba(C,T)));const k=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,_.isPrimaryClient,k,D);return Rx(_,E.targetId,M.Ma),M.snapshot}(t,h,f,m);const s=await _x(t.localStore,e,!0),o=new T$(e,s.gs),a=o.ba(s.documents),l=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Rx(t,n,c.Ma);const d=new x$(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function P$(t,e,n){const r=ve(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!zf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&b0(r.remoteStore,i.targetId),hy(r,i.targetId)}).catch(el)):(hy(r,i.targetId),await uy(r.localStore,i.targetId,!0))}async function R$(t,e){const n=ve(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b0(n.remoteStore,r.targetId))}async function k$(t,e,n){const r=F$(t);try{const i=await function(o,a){const l=ve(o),c=vt.now(),d=a.reduce((m,v)=>m.add(v.key),Ae());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=fi(),_=Ae();return l.ds.getEntries(m,d).next(E=>{v=E,v.forEach((w,y)=>{y.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(E=>{h=E;const w=[];for(const y of a){const T=K3(y,h.get(y.key).overlayedDocument);T!=null&&w.push(new ks(y.key,T,bP(T.value.mapValue),Pr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:jP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Xe(xe)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await xc(r,i.changes),await Yf(r.remoteStore)}catch(i){const s=D0(i,"Failed to persist write");n.reject(s)}}async function xR(t,e){const n=ve(t);try{const r=await W9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Ne(o.Ba):i.removedDocuments.size>0&&(Ne(o.Ba),o.Ba=!1))}),await xc(n,r,e)}catch(r){await el(r)}}function Px(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&V0(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N$(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new Xe(de.comparator);o=o.insert(s,zt.newNoDocument(s,ge.min()));const a=Ae().add(s),l=new Kf(ge.min(),new Map,new Xe(xe),o,a);await xR(r,l),r.$a=r.$a.remove(s),r.Ua.delete(e),M0(r)}else await uy(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(el)}async function D$(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await z9(n.localStore,e);CR(n,r,null),SR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xc(n,i)}catch(i){await el(i)}}async function V$(t,e,n){const r=ve(t);try{const i=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ne(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);CR(r,e,n),SR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xc(r,i)}catch(i){await el(i)}}function SR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function CR(t,e,n){const r=ve(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||AR(t,r)})}function AR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(b0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),M0(t))}function Rx(t,e,n){for(const r of n)r instanceof _R?(t.Ka.addReference(r.key,e),O$(t,r)):r instanceof ER?(re(O0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||AR(t,r.key)):pe()}function O$(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(re(O0,"New document in limbo: "+n),t.Qa.add(r),M0(t))}function M0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new de(We.fromString(e)),r=t.za.next();t.Ua.set(r,new S$(n)),t.$a=t.$a.insert(n,r),dR(t.remoteStore,new Qi(br(w0(n.path)),r,"TargetPurposeLimboResolution",Uf.ae))}}async function xc(t,e,n){const r=ve(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=A0.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const d=ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,f=>$.forEach(f.Hi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.Ji,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!tl(h))throw h;re(I0,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Ts.get(f),v=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(v);d.Ts=d.Ts.insert(f,_)}}}(r.localStore,s))}async function M$(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){re(O0,"User change. New user:",e.toKey());const r=await aR(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new se(H.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xc(n,r.Rs)}}function L$(t,e){const n=ve(t),r=n.Ua.get(e);if(r&&r.Ba)return Ae().add(r.key);{let i=Ae();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function IR(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N$.bind(null,e),e.La.p_=_$.bind(null,e.eventManager),e.La.Ja=E$.bind(null,e.eventManager),e}function F$(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V$.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return $9(this.persistence,new j9,e.initialUser,this.serializer)}Xa(e){return new oR(C0.ri,this.serializer)}Za(e){return new Q9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class j$ extends Qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ne(this.persistence.referenceDelegate instanceof Kh);const r=this.persistence.referenceDelegate.garbageCollector;return new S9(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new oR(r=>Kh.ri(r,n),this.serializer)}}class fy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Px(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M$.bind(null,this.syncEngine),await y$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w$}()}createDatastore(e){const n=Gf(e.databaseInfo.databaseId),r=function(s){return new e$(s)}(e.databaseInfo);return function(s,o,a,l){return new i$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new o$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Px(this.syncEngine,n,0),function(){return xx.D()?new xx:new Y9}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new C$(i,s,o,a,l,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ve(i);re(go,"RemoteStore shutting down."),s.W_.add(5),await Tc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class U${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=yP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{re(Es,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(Es,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fm(t,e){t.asyncQueue.verifyOperationInProgress(),re(Es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B$(t);re(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Cx(e.remoteStore,i)),t._onlineComponents=e}async function B$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Es,"Using user provided OfflineComponentProvider");try{await fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await fm(t,new Qh)}}else re(Es,"Using default OfflineComponentProvider"),await fm(t,new j$(void 0));return t._offlineComponents}async function PR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Es,"Using user provided OnlineComponentProvider"),await kx(t,t._uninitializedComponentsProvider._online)):(re(Es,"Using default OnlineComponentProvider"),await kx(t,new fy))),t._onlineComponents}function $$(t){return PR(t).then(e=>e.syncEngine)}async function RR(t){const e=await PR(t),n=e.eventManager;return n.onListen=A$.bind(null,e.syncEngine),n.onUnlisten=P$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R$.bind(null,e.syncEngine),n}function z$(t,e,n={}){const r=new ti;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new bR({next:f=>{d.su(),o.enqueueAndForget(()=>vR(s,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new wR(w0(a.path),d,{includeMetadataChanges:!0,Ta:!0});return yR(s,h)}(await RR(t),t.asyncQueue,e,n,r)),r.promise}function W$(t,e,n={}){const r=new ti;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new bR({next:f=>{d.su(),o.enqueueAndForget(()=>vR(s,h)),f.fromCache&&l.source==="server"?c.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new wR(a,d,{includeMetadataChanges:!0,Ta:!0});return yR(s,h)}(await RR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H$(t,e,n,r){if(e===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dx(t){if(!de.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vx(t){if(de.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(t);throw new se(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firestore.googleapis.com",Ox=!0;class Mx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DR,this.ssl=Ox}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ox;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T9)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e3;switch(r.type){case"firstParty":return new i3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nx.get(n);r&&(re("ComponentProvider","Removing Datastore"),Nx.delete(n),r.terminate())}(this),Promise.resolve()}}function q$(t,e,n,r={}){var i;const s=(t=pi(t,Jf))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==DR&&s.host!==a&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!co(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Bt.MOCK_USER;else{c=fU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Bt(h)}t._authCredentials=new t3(new mP(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class us extends rl{constructor(e,n,r){super(e,n,w0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new de(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Ku(t,e,...n){if(t=Rt(t),NR("collection","path",e),t instanceof Jf){const r=We.fromString(e,...n);return Vx(r),new us(t,null,r)}{if(!(t instanceof rn||t instanceof us))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Vx(r),new us(t.firestore,null,r)}}function da(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=yP.newId()),NR("doc","path",e),t instanceof Jf){const r=We.fromString(e,...n);return Dx(r),new rn(t,null,new de(r))}{if(!(t instanceof rn||t instanceof us))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Dx(r),new rn(t.firestore,t instanceof us?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="AsyncQueue";class Fx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uR(this,"async_queue_retry"),this.Su=()=>{const r=hm();r&&re(Lx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ti;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tl(e))throw e;re(Lx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=N0.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Sc extends Jf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Fx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fx(e),this._firestoreClient=void 0,await e}}}function VR(t,e){const n=typeof t=="object"?t:Cb(),r=typeof t=="string"?t:Uh,i=r0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dU("firestore");s&&q$(i,...s)}return i}function L0(t){if(t._terminated)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K$(t),t._firestoreClient}function K$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new w3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new U$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(kt.fromBase64String(e))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ja(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=/^__.*__$/;class Q${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class B0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new B0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(MR(this.Lu)&&G$.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Y${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(e)}ju(e,n,r,i=!1){return new B0({Lu:e,methodName:n,zu:r,path:It.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $0(t){const e=t._freezeSettings(),n=Gf(t._databaseId);return new Y$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function X$(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);z0("Data must be an object, but it was:",o,r);const a=LR(r,o);let l,c;if(s.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=py(e,h,n);if(!o.contains(f))throw new se(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jR(d,f)||d.push(f)}l=new In(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Q$(new mn(a),l,c)}class ep extends F0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ep}}function J$(t,e,n,r){const i=t.ju(1,e,n);z0("Data must be an object, but it was:",i,r);const s=[],o=mn.empty();Rs(r,(l,c)=>{const d=W0(e,l,n);c=Rt(c);const h=i.Uu(d);if(c instanceof ep)s.push(d);else{const f=Cc(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new In(s);return new OR(o,a,i.fieldTransforms)}function Z$(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[py(e,r,n)],l=[i];if(s.length%2!=0)throw new se(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(py(e,s[f])),l.push(s[f+1]);const c=[],d=mn.empty();for(let f=a.length-1;f>=0;--f)if(!jR(c,a[f])){const m=a[f];let v=l[f];v=Rt(v);const _=o.Uu(m);if(v instanceof ep)c.push(m);else{const E=Cc(v,_);E!=null&&(c.push(m),d.set(m,E))}}const h=new In(c);return new OR(d,h,o.fieldTransforms)}function ez(t,e,n,r=!1){return Cc(n,t.ju(r?4:3,e))}function Cc(t,e){if(FR(t=Rt(t)))return z0("Unsupported field value:",e,t),LR(t,e);if(t instanceof F0)return function(r,i){if(!MR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Cc(a,i.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:qh(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(i.serializer,s)}}if(r instanceof j0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ja)return{bytesValue:JP(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof U0)return function(o,a){return{mapValue:{fields:{[CP]:{stringValue:IP},[Bh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return _0(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Xf(r)}`)}(t,e)}function LR(t,e){const n={};return wP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{const s=Cc(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof j0||t instanceof ja||t instanceof rn||t instanceof F0||t instanceof U0)}function z0(t,e,n){if(!FR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function py(t,e,n){if((e=Rt(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return W0(t,e);throw Yh("Field path arguments must be of type string or ",t,!1,void 0,n)}const tz=new RegExp("[~\\*/\\[\\]]");function W0(t,e,n){if(e.search(tz)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zf(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(H.INVALID_ARGUMENT,a+t+l)}function jR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nz extends UR{data(){return super.data()}}function H0(t,e){return typeof e=="string"?W0(t,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q0{}class iz extends q0{}function Gu(t,e,...n){let r=[];e instanceof q0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof K0).length,a=s.filter(l=>l instanceof tp).length;if(o>1||o>0&&a>0)throw new se(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tp extends iz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tp(e,n,r)}_apply(e){const n=this._parse(e);return BR(e._query,n),new rl(e.firestore,e.converter,ry(e._query,n))}_parse(e){const n=$0(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new se(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ux(h,d);const v=[];for(const _ of h)v.push(jx(l,s,_));f={arrayValue:{values:v}}}else f=jx(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ux(h,d),f=ez(a,o,h,d==="in"||d==="not-in");return dt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ha(t,e,n){const r=e,i=H0("where",t);return tp._create(i,r,n)}class K0 extends q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new K0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)BR(o,l),o=ry(o,l)}(e._query,n),new rl(e.firestore,e.converter,ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jx(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new se(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OP(e)&&n.indexOf("/")!==-1)throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!de.isDocumentKey(r))throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tx(t,new de(r))}if(n instanceof rn)return tx(t,n._key);throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function Ux(t,e){if(!Array.isArray(t)||t.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sz{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Bh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>st(o.doubleValue));return new U0(s)}convertGeoPoint(e){return new j0(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$f(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=ys(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ne(iR(r));const i=new zu(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||hi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $R extends UR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qd extends $R{data(e={}){return super.data(e)}}class az{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qd(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Qd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Qd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:lz(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){t=pi(t,rn);const e=pi(t.firestore,Sc);return z$(L0(e),t._key).then(n=>uz(e,t,n))}class zR extends sz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Qu(t){t=pi(t,rl);const e=pi(t.firestore,Sc),n=L0(e),r=new zR(e);return rz(t._query),W$(n,t._query).then(i=>new az(e,r,t,i))}function $x(t,e,n){t=pi(t,rn);const r=pi(t.firestore,Sc),i=oz(t.converter,e);return HR(r,[X$($0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pr.none())])}function WR(t,e,n,...r){t=pi(t,rn);const i=pi(t.firestore,Sc),s=$0(i);let o;return o=typeof(e=Rt(e))=="string"||e instanceof Zf?Z$(s,"updateDoc",t._key,e,n,r):J$(s,"updateDoc",t._key,e),HR(i,[o.toMutation(t._key,Pr.exists(!0))])}function HR(t,e){return function(r,i){const s=new ti;return r.asyncQueue.enqueueAndForget(async()=>k$(await $$(r),i,s)),s.promise}(L0(t),e)}function uz(t,e,n){const r=n.docs.get(e._key),i=new zR(t);return new $R(t,i,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Za=i})(Xa),Na(new ho("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Sc(new n3(r.getProvider("auth-internal")),new s3(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),as(zT,WT,e),as(zT,WT,"esm2017")})();const cz={apiKey:"AIzaSyCsFTpa3BjOUl7l3pBmmpnT7-q1w8OS4xY",authDomain:"siaap-subsidios.firebaseapp.com",projectId:"siaap-subsidios",storageBucket:"siaap-subsidios.appspot.com",messagingSenderId:"567063169065",appId:"1:567063169065:web:b80c4285e34d527c1cb438"},qR=Sb(cz),lu=Yg(qR);lu.languageCode="pt";const $s=VR(qR),dz=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(!1),[o,a]=A.useState(""),{toast:l}=Sf(),c=hc(),d=m=>{F5(lu,m).then(()=>{console.log("Link de redefinição de senha enviado com sucesso para: "+m),l({title:"Link de redefinição enviado",description:"Verifique seu e-mail para redefinir sua senha."})}).catch(v=>{let _="Ocorreu um erro ao enviar o email de redefinição. Verifique se o email está correto.";v.code==="auth/user-not-found"&&(_="Não existe usuário com este email."),l({title:"Erro ao enviar email de redefinição",description:_,variant:"destructive"}),console.error("Erro ao enviar o link de redefinição de senha:",v)})},h=()=>{const m=prompt("Por favor, insira seu email para redefinir sua senha:");m&&(a(m),d(m))},f=async m=>{if(m.preventDefault(),!t||!n){l({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}try{const v=t.includes("@");let _;if(v)_=await NT(lu,t,n);else{const M=Ku($s,"usuarios"),C=Gu(M,ha("cpf","==",t)),x=await Qu(C);if(x.empty){l({title:"Erro ao logar",description:"Usuário não encontrado com este CPF.",variant:"destructive"});return}const P=x.docs[0].data().email;_=await NT(lu,P,n)}const w=_.user.uid,y=Ku($s,"usuario_cargo"),T=Gu(y,ha("usuarioId","==",w)),D=(await Qu(T)).docs.map(M=>M.data().cargoId);console.log("User roles:",D),localStorage.setItem("userRoles",JSON.stringify(D)),l({title:"Login realizado",description:"Login realizado com sucesso!",className:"bg-green-500 text-white"}),c("/dashboard")}catch(v){l({title:"Erro ao logar",description:v.message,variant:"destructive"}),console.error("Erro ao logar:",v)}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:S.jsx("div",{className:"auth-card w-full max-w-md",children:S.jsxs("div",{className:"p-6 sm:p-8",children:[S.jsx("img",{src:"/LogoTCMGO.svg?v=1",alt:"Logo",className:"flex item-center h-17 mb-2"}),S.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"Sistema de Análise de Subsídios"}),S.jsx("h2",{className:"text-xl font-semibold text-center text-gray-700 mb-6",children:"Entrar"}),S.jsxs("form",{onSubmit:f,children:[S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email ou CPF"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(Fv,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"email",type:"text",placeholder:"Digite seu email ou CPF",className:"input-field pl-10",value:t,onChange:m=>e(m.target.value)})]})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(Rg,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"password",type:i?"text":"password",placeholder:"Digite sua senha",className:"input-field pl-10 pr-10",value:n,onChange:m=>r(m.target.value)}),S.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>s(!i),children:i?S.jsx(bg,{className:"h-5 w-5 text-gray-400"}):S.jsx(Pg,{className:"h-5 w-5 text-gray-400"})})]})]}),S.jsx("button",{type:"submit",className:"auth-button mt-6",children:"Entrar"})]}),S.jsxs("div",{className:"mt-4 text-center text-sm",children:[S.jsx("p",{className:"text-gray-600",children:S.jsx("button",{onClick:h,className:"link font-medium",children:"Esqueci minha senha"})}),S.jsxs("p",{className:"mt-3 text-gray-600",children:["Não possui uma conta? ",S.jsx(e0,{to:"/cadastrar",className:"link font-medium",children:"Cadastrar-se"})]})]})]})})})},hz=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,c]=A.useState(""),[d,h]=A.useState(""),[f,m]=A.useState(!1),[v,_]=A.useState(!1),{toast:E}=Sf(),w=hc(),y=async T=>{if(T.preventDefault(),!t||!n||!i||!o||!l||!d){E({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}if(n!==i){E({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}try{const k=Ku($s,"tokens"),D=Gu(k,ha("token","==",o),ha("usado","==",!1)),M=await Qu(D);if(M.empty){E({title:"Erro",description:"Token inválido ou já utilizado.",variant:"destructive"});return}const x=M.docs[0].id,V=(await j5(lu,t,n)).user.uid,N=new Date;await $x(da($s,"usuarios",V),{id:V,email:t,NomeCompleto:l,cpf:d,CriadoEm:N});const R=Ku($s,"cargos"),q=Gu(R,ha("nome","==","Servidor")),oe=await Qu(q);if(oe.empty){E({title:"Erro",description:"Cargo 'Servidor' não encontrado.",variant:"destructive"});return}const ee=oe.docs[0].id;await $x(da($s,"usuario_cargo",V),{usuario_id:V,cargo_id:ee}),await WR(da($s,"tokens",x),{usado:!1}),E({title:"Cadastro realizado",description:"Cadastro realizado com sucesso!",className:"bg-green-500 text-white"}),w("/login")}catch(k){console.error("Error ao cadastrar:",k),E({title:"Erro ao cadastrar",description:k.message,variant:"destructive"})}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:S.jsx("div",{className:"auth-card w-full max-w-md",children:S.jsxs("div",{className:"p-6 sm:p-8",children:[S.jsx("img",{src:"/LogoTCMGO.svg?v=1",alt:"Logo",className:"flex item-center h-17 mb-2"}),S.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"Sistema de Análise de Subsídios"}),S.jsx("h2",{className:"text-xl font-semibold text-center text-gray-700 mb-3",children:"Cadastrar-se"}),S.jsxs("form",{onSubmit:y,children:[S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700",children:"Token"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(WO,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"token",type:"text",placeholder:"Digite seu token",className:"input-field pl-10",value:o,onChange:T=>a(T.target.value)})]})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"NomeCompleto",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(mI,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"NomeCompleto",type:"text",placeholder:"Digite seu nome completo",className:"input-field pl-10",value:l,onChange:T=>c(T.target.value)})]})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700",children:"CPF"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx($O,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"cpf",type:"text",placeholder:"Digite seu CPF",className:"input-field pl-10",value:d,onChange:T=>h(T.target.value)})]})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(Fv,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"email",type:"email",placeholder:"Digite seu email",className:"input-field pl-10",value:t,onChange:T=>e(T.target.value)})]})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(Rg,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"password",type:f?"text":"password",placeholder:"Digite sua senha",className:"input-field pl-10 pr-10",value:n,onChange:T=>r(T.target.value)}),S.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>m(!f),children:f?S.jsx(bg,{className:"h-5 w-5 text-gray-400"}):S.jsx(Pg,{className:"h-5 w-5 text-gray-400"})})]})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Senha"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(Rg,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{id:"confirmPassword",type:v?"text":"password",placeholder:"Confirme sua senha",className:"input-field pl-10 pr-10",value:i,onChange:T=>s(T.target.value)}),S.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>_(!v),children:v?S.jsx(bg,{className:"h-5 w-5 text-gray-400"}):S.jsx(Pg,{className:"h-5 w-5 text-gray-400"})})]})]}),S.jsx("button",{type:"submit",className:"auth-button mt-6",children:"Cadastrar-se"})]}),S.jsx("div",{className:"mt-6 text-center text-sm",children:S.jsxs("p",{className:"text-gray-600",children:["Já possui uma conta? ",S.jsx(e0,{to:"/login",className:"link font-medium",children:"Entrar"})]})})]})})})},fz=()=>{const t=wo();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),S.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},pm=768;function KR(){const[t,e]=A.useState(void 0);return A.useEffect(()=>{const n=window.matchMedia(`(max-width: ${pm-1}px)`),r=()=>{e(window.innerWidth<pm)};return n.addEventListener("change",r),e(window.innerWidth<pm),()=>n.removeEventListener("change",r)},[]),!!t}const pz=({toggleSidebar:t})=>S.jsxs("header",{className:"bg-white border-b py-3 px-4 md:px-6 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:t,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100",children:S.jsx(KO,{size:20})}),S.jsx("img",{src:"/LogoSAP.png",alt:"Logo",className:"h-14 md:flex"})]}),S.jsx("div",{className:"flex items-center gap-3",children:S.jsx("div",{className:"w-8 h-8 rounded-full bg-tribunal-gold flex items-center justify-center text-white",children:"U"})})]}),mz=({isOpen:t,setIsOpen:e})=>{const n=wo(),r=KR(),i=[{name:"Dashboard",icon:S.jsx(HO,{size:20}),path:"/"},{name:"Análises",icon:S.jsx(BO,{size:20}),path:"/analises"},{name:"Projetos",icon:S.jsx(zO,{size:20}),path:"/projetos"},{name:"Configurações",icon:S.jsx(LE,{size:20}),path:"/configuracoes"}],s=()=>{r&&e(!1)};return S.jsxs(S.Fragment,{children:[r&&t&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:s}),S.jsx("div",{className:`
        fixed top-0 left-0 h-full bg-white shadow-lg z-30 transition-all duration-300 ease-in-out
        ${r?t?"translate-x-0":"-translate-x-full":"translate-x-0"}
        w-64 
      `,children:S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"bg-tribunal-blue rounded-full w-8 h-8 flex items-center justify-center",children:S.jsx(LE,{size:18,className:"text-white"})}),S.jsx("h1",{className:"font-semibold text-tribunal-blue",children:"TCMGO"})]}),r&&S.jsx("button",{onClick:s,className:"p-1 rounded-md text-gray-500 hover:bg-gray-100",children:S.jsx(gI,{size:20})})]}),S.jsx("div",{className:"flex-1 px-3 py-4",children:S.jsx("nav",{className:"space-y-1",children:i.map(o=>{const a=n.pathname===o.path;return S.jsxs(e0,{to:o.path,className:`tribunal-sidebar-item ${a?"active":""}`,onClick:s,children:[o.icon,S.jsx("span",{children:o.name})]},o.path)})})}),S.jsx("div",{className:"p-4 border-t",children:S.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[S.jsx("div",{className:"w-7 h-7 rounded-full bg-tribunal-gold flex items-center justify-center text-white",children:"U"}),S.jsx("span",{children:"Usuário TCMGO"})]})})]})})]})},GR=A.createContext({});function gz(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const G0=typeof window<"u",yz=G0?A.useLayoutEffect:A.useEffect,Q0=A.createContext(null),QR=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vz(t=!0){const e=A.useContext(Q0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const o=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}function Y0(t,e){t.indexOf(e)===-1&&t.push(e)}function X0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rn=t=>t;let my=Rn;const wz={skipAnimations:!1,useManualTiming:!1};function J0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Z0{constructor(){this.subscriptions=[]}add(e){return Y0(this.subscriptions,e),()=>X0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ni=t=>t*1e3,ri=t=>t/1e3;function YR(t,e){return e?t*(1e3/e):0}const _z=J0(()=>window.ScrollTimeline!==void 0);class Ez{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(_z()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Tz extends Ez{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ew(t,e){return t?t[e]||t.default||t:void 0}const gy=2e4;function XR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gy;)e+=n,r=t.next(e);return e>=gy?1/0:e}function tw(t){return typeof t=="function"}function zx(t,e){t.timeline=e,t.onfinish=null}const nw=t=>Array.isArray(t)&&typeof t[0]=="number",xz={linearEasing:void 0};function Sz(t,e){const n=J0(t);return()=>{var r;return(r=xz[e])!==null&&r!==void 0?r:n()}}const Xh=Sz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),JR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Ua(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function ZR(t){return!!(typeof t=="function"&&Xh()||!t||typeof t=="string"&&(t in yy||Xh())||nw(t)||Array.isArray(t)&&t.every(ZR))}const Ul=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function ek(t,e){if(t)return typeof t=="function"&&Xh()?JR(t,e):nw(t)?Ul(t):Array.isArray(t)?t.map(n=>ek(n,e)||yy.easeOut):yy[t]}const Ed=["read","resolveKeyframes","update","preRender","render","postRender"],Wx={value:null,addProjectionMetrics:null};function Cz(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const _=m&&i?n:r;return f&&o.add(h),_.has(h)||_.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&Wx.value&&Wx.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const Az=40;function tk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ed.reduce((w,y)=>(w[y]=Cz(s,e?y:void 0),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,m=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,Az),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Ed.reduce((w,y)=>{const T=o[y];return w[y]=(k,D=!1,M=!1)=>(n||v(),T.schedule(k,D,M)),w},{}),cancel:w=>{for(let y=0;y<Ed.length;y++)o[Ed[y]].cancel(w)},state:i,steps:o}}const{schedule:Ue,cancel:Ts,state:Ct,steps:mm}=tk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),{schedule:rw,cancel:j8}=tk(queueMicrotask,!1);let Yd;function Iz(){Yd=void 0}const kr={now:()=>(Yd===void 0&&kr.set(Ct.isProcessing||wz.useManualTiming?Ct.timestamp:performance.now()),Yd),set:t=>{Yd=t,queueMicrotask(Iz)}},Jn={x:!1,y:!1};function nk(){return Jn.x||Jn.y}function bz(t){return t==="x"||t==="y"?Jn[t]?null:(Jn[t]=!0,()=>{Jn[t]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function Pz(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function rk(t,e){const n=Pz(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Hx(t){return!(t.pointerType==="touch"||nk())}function Rz(t,e,n={}){const[r,i,s]=rk(t,n),o=a=>{if(!Hx(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{Hx(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function qx(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const ik=(t,e)=>e?t===e?!0:ik(t,e.parentElement):!1,iw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nz(t){return kz.has(t.tagName)||t.tabIndex!==-1}const Bl=new WeakSet;function Kx(t){return e=>{e.key==="Enter"&&t(e)}}function gm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Dz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Kx(()=>{if(Bl.has(n))return;gm(n,"down");const i=Kx(()=>{gm(n,"up")}),s=()=>gm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Gx(t){return iw(t)&&!nk()}function Vz(t,e,n={}){const[r,i,s]=rk(t,n),o=a=>{const l=a.currentTarget;if(!l||!Gx(a)||Bl.has(l))return;Bl.add(l),qx(a,"set");const c=e(l,a),d=(m,v)=>{l.removeEventListener("pointerup",h),l.removeEventListener("pointercancel",f),qx(m,"release"),!(!Gx(m)||!Bl.has(l))&&(Bl.delete(l),typeof c=="function"&&c(m,{success:v}))},h=m=>{(m.isTrusted?Oz(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(m,!1):d(m,!(l instanceof Element)||ik(l,m.target))},f=m=>{d(m,!1)};l.addEventListener("pointerup",h,i),l.addEventListener("pointercancel",f,i),l.addEventListener("lostpointercapture",f,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!Nz(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",c=>Dz(c,i),i)}),s}function Oz(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const Qx=30,Mz=t=>!isNaN(parseFloat(t));class Lz{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=kr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qx);return YR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(t,e){return new Lz(t,e)}const sk=A.createContext({strict:!1}),Yx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ba={};for(const t in Yx)Ba[t]={isEnabled:e=>Yx[t].some(n=>!!e[n])};function Fz(t){for(const e in t)Ba[e]={...Ba[e],...t[e]}}const jz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jz.has(t)}let ok=t=>!Jh(t);function Uz(t){t&&(ok=e=>e.startsWith("on")?!Jh(e):t(e))}try{Uz(require("@emotion/is-prop-valid").default)}catch{}function Bz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ok(i)||n===!0&&Jh(i)||!e&&!Jh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function $z(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const np=A.createContext({});function rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xu(t){return typeof t=="string"||Array.isArray(t)}const sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ow=["initial",...sw];function ip(t){return rp(t.animate)||ow.some(e=>Xu(t[e]))}function ak(t){return!!(ip(t)||t.variants)}function zz(t,e){if(ip(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xu(n)?n:void 0,animate:Xu(r)?r:void 0}}return t.inherit!==!1?e:{}}function Wz(t){const{initial:e,animate:n}=zz(t,A.useContext(np));return A.useMemo(()=>({initial:e,animate:n}),[Xx(e),Xx(n)])}function Xx(t){return Array.isArray(t)?t.join(" "):t}const Hz=Symbol.for("motionComponentSymbol");function Go(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qz(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Go(n)&&(n.current=r))},[e])}const aw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Kz="framerAppearId",lk="data-"+aw(Kz),uk=A.createContext({});function Gz(t,e,n,r,i){var s,o;const{visualElement:a}=A.useContext(np),l=A.useContext(sk),c=A.useContext(Q0),d=A.useContext(QR).reducedMotion,h=A.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=A.useContext(uk);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Qz(h.current,n,i,m);const v=A.useRef(!1);A.useInsertionEffect(()=>{f&&v.current&&f.update(n,c)});const _=n[lk],E=A.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return yz(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),rw.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),A.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,_)}),E.current=!1))}),f}function Qz(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ck(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Go(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function ck(t){if(t)return t.options.allowProjection!==!1?t.projection:ck(t.parent)}function Yz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&Fz(t);function a(c,d){let h;const f={...A.useContext(QR),...c,layoutId:Xz(c)},{isStatic:m}=f,v=Wz(c),_=r(c,m);if(!m&&G0){Jz();const E=Zz(f);h=E.MeasureLayout,v.visualElement=Gz(i,_,f,e,E.ProjectionNode)}return S.jsxs(np.Provider,{value:v,children:[h&&v.visualElement?S.jsx(h,{visualElement:v.visualElement,...f}):null,n(i,c,qz(_,v.visualElement,d),_,m,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=A.forwardRef(a);return l[Hz]=i,l}function Xz({layoutId:t}){const e=A.useContext(GR).id;return e&&t!==void 0?e+"-"+t:t}function Jz(t,e){A.useContext(sk).strict}function Zz(t){const{drag:e,layout:n}=Ba;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dk=t=>e=>typeof e=="string"&&e.startsWith(t),lw=dk("--"),e6=dk("var(--"),uw=t=>e6(t)?t6.test(t.split("/*")[0].trim()):!1,t6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ju={};function n6(t){for(const e in t)Ju[e]=t[e],lw(e)&&(Ju[e].isCSSVariable=!0)}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],To=new Set(il);function hk(t,{layout:e,layoutId:n}){return To.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ju[t]||t==="opacity")}const Wt=t=>!!(t&&t.getVelocity),fk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zu={...sl,transform:t=>mi(0,1,t)},Td={...sl,default:1},Ac=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ki=Ac("deg"),Nr=Ac("%"),he=Ac("px"),r6=Ac("vh"),i6=Ac("vw"),Jx={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},s6={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he},o6={rotate:ki,rotateX:ki,rotateY:ki,rotateZ:ki,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:ki,skewX:ki,skewY:ki,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:Zu,originX:Jx,originY:Jx,originZ:he},Zx={...sl,transform:Math.round},cw={...s6,...o6,zIndex:Zx,size:he,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:Zx},a6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l6=il.length;function u6(t,e,n){let r="",i=!0;for(let s=0;s<l6;s++){const o=il[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=fk(a,cw[o]);if(!l){i=!1;const d=a6[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function dw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(To.has(l)){o=!0;continue}else if(lw(l)){i[l]=c;continue}else{const d=fk(c,cw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=u6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const hw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pk(t,e,n){for(const r in e)!Wt(e[r])&&!hk(r,n)&&(t[r]=e[r])}function c6({transformTemplate:t},e){return A.useMemo(()=>{const n=hw();return dw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function d6(t,e){const n=t.style||{},r={};return pk(r,n,t),Object.assign(r,c6(t,e)),r}function h6(t,e){const n={},r=d6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const f6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fw(t){return typeof t!="string"||t.includes("-")?!1:!!(f6.indexOf(t)>-1||/[A-Z]/u.test(t))}const p6={offset:"stroke-dashoffset",array:"stroke-dasharray"},m6={offset:"strokeDashoffset",array:"strokeDasharray"};function g6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?p6:m6;t[s.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[s.array]=`${o} ${a}`}function e1(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function y6(t,e,n){const r=e1(e,t.x,t.width),i=e1(n,t.y,t.height);return`${r} ${i}`}function pw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(dw(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:v}=t;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=y6(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&g6(f,o,a,l,!1)}const mk=()=>({...hw(),attrs:{}}),mw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function v6(t,e,n,r){const i=A.useMemo(()=>{const s=mk();return pw(s,e,mw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};pk(s,t.style,t),i.style={...s,...i.style}}return i}function w6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(fw(n)?v6:h6)(r,s,o,n),c=Bz(r,typeof n=="string",t),d=n!==A.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=A.useMemo(()=>Wt(h)?h.get():h,[h]);return A.createElement(n,{...d,children:f})}}function t1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gw(t,e,n,r){if(typeof e=="function"){const[i,s]=t1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=t1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const vy=t=>Array.isArray(t),_6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),E6=t=>vy(t)?t[t.length-1]||0:t;function Xd(t){const e=Wt(t)?t.get():t;return _6(e)?e.toValue():e}function T6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:x6(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const gk=t=>(e,n)=>{const r=A.useContext(np),i=A.useContext(Q0),s=()=>T6(t,e,r,i);return n?s():gz(s)};function x6(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Xd(s[f]);let{initial:o,animate:a}=t;const l=ip(t),c=ak(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!rp(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=gw(t,f[m]);if(v){const{transitionEnd:_,transition:E,...w}=v;for(const y in w){let T=w[y];if(Array.isArray(T)){const k=d?T.length-1:0;T=T[k]}T!==null&&(i[y]=T)}for(const y in _)i[y]=_[y]}}}return i}function yw(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Wt(i[o])||e.style&&Wt(e.style[o])||hk(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const S6={useVisualState:gk({scrapeMotionValuesFromProps:yw,createRenderState:hw})};function yk(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function vk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _k(t,e,n,r){vk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(wk.has(i)?i:aw(i),e.attrs[i])}function Ek(t,e,n){const r=yw(t,e,n);for(const i in t)if(Wt(t[i])||Wt(e[i])){const s=il.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const n1=["x","y","width","height","cx","cy","r"],C6={useVisualState:gk({scrapeMotionValuesFromProps:Ek,createRenderState:mk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(To.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<n1.length;a++){const l=n1[a];t[l]!==e[l]&&(o=!0)}o&&Ue.read(()=>{yk(n,r),Ue.render(()=>{pw(r,i,mw(n.tagName),t.transformTemplate),_k(n,r)})})}})};function A6(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...fw(r)?C6:S6,preloadedFeatures:t,useRender:w6(i),createVisualElement:e,Component:r};return Yz(o)}}function ec(t,e,n){const r=t.getProps();return gw(r,e,n!==void 0?n:r.custom,t)}const Tk=new Set(["width","height","top","left","right","bottom",...il]);function I6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yu(n))}function b6(t,e){const n=ec(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=E6(s[o]);I6(t,o,a)}}function P6(t){return!!(Wt(t)&&t.add)}function wy(t,e){const n=t.getValue("willChange");if(P6(n))return n.add(e)}function xk(t){return t.props[lk]}const Sk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R6=1e-7,k6=12;function N6(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Sk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>R6&&++a<k6);return o}function Ic(t,e,n,r){if(t===e&&n===r)return Rn;const i=s=>N6(s,0,1,t,n);return s=>s===0||s===1?s:Sk(i(s),e,r)}const Ck=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ak=t=>e=>1-t(1-e),Ik=Ic(.33,1.53,.69,.99),vw=Ak(Ik),bk=Ck(vw),Pk=t=>(t*=2)<1?.5*vw(t):.5*(2-Math.pow(2,-10*(t-1))),ww=t=>1-Math.sin(Math.acos(t)),Rk=Ak(ww),kk=Ck(ww),Nk=t=>/^0[^.\s]+$/u.test(t);function D6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Nk(t):!0}const uu=t=>Math.round(t*1e5)/1e5,_w=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V6(t){return t==null}const O6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ew=(t,e)=>n=>!!(typeof n=="string"&&O6.test(n)&&n.startsWith(t)||e&&!V6(n)&&Object.prototype.hasOwnProperty.call(n,e)),Dk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(_w);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},M6=t=>mi(0,255,t),ym={...sl,transform:t=>Math.round(M6(t))},Ks={test:Ew("rgb","red"),parse:Dk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ym.transform(t)+", "+ym.transform(e)+", "+ym.transform(n)+", "+uu(Zu.transform(r))+")"};function L6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _y={test:Ew("#"),parse:L6,transform:Ks.transform},Qo={test:Ew("hsl","hue"),parse:Dk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(uu(e))+", "+Nr.transform(uu(n))+", "+uu(Zu.transform(r))+")"},Ut={test:t=>Ks.test(t)||_y.test(t)||Qo.test(t),parse:t=>Ks.test(t)?Ks.parse(t):Qo.test(t)?Qo.parse(t):_y.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ks.transform(t):Qo.transform(t)},F6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_w))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(F6))===null||n===void 0?void 0:n.length)||0)>0}const Vk="number",Ok="color",U6="var",B6="var(",r1="${}",$6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace($6,l=>(Ut.test(l)?(r.color.push(s),i.push(Ok),n.push(Ut.parse(l))):l.startsWith(B6)?(r.var.push(s),i.push(U6),n.push(l)):(r.number.push(s),i.push(Vk),n.push(parseFloat(l))),++s,r1)).split(r1);return{values:n,split:a,indexes:r,types:i}}function Mk(t){return tc(t).values}function Lk(t){const{split:e,types:n}=tc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Vk?s+=uu(i[o]):a===Ok?s+=Ut.transform(i[o]):s+=i[o]}return s}}const z6=t=>typeof t=="number"?0:t;function W6(t){const e=Mk(t);return Lk(t)(e.map(z6))}const xs={test:j6,parse:Mk,createTransformer:Lk,getAnimatableNone:W6},H6=new Set(["brightness","contrast","saturate","opacity"]);function q6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_w)||[];if(!r)return t;const i=n.replace(r,"");let s=H6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const K6=/\b([a-z-]*)\(.*?\)/gu,Ey={...xs,getAnimatableNone:t=>{const e=t.match(K6);return e?e.map(q6).join(" "):t}},G6={...cw,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Ey,WebkitFilter:Ey},Fk=t=>G6[t];function jk(t,e){let n=Fk(t);return n!==Ey&&(n=xs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Q6=new Set(["auto","none","0"]);function Y6(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Q6.has(s)&&tc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jk(n,i)}const Gs=t=>t*180/Math.PI,Ty=t=>{const e=Gs(Math.atan2(t[1],t[0]));return xy(e)},X6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ty,rotateZ:Ty,skewX:t=>Gs(Math.atan(t[1])),skewY:t=>Gs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xy=t=>(t=t%360,t<0&&(t+=360),t),i1=Ty,s1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),o1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),J6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s1,scaleY:o1,scale:t=>(s1(t)+o1(t))/2,rotateX:t=>xy(Gs(Math.atan2(t[6],t[5]))),rotateY:t=>xy(Gs(Math.atan2(-t[2],t[0]))),rotateZ:i1,rotate:i1,skewX:t=>Gs(Math.atan(t[4])),skewY:t=>Gs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a1(t){return t.includes("scale")?1:0}function Sy(t,e){if(!t||t==="none")return a1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=J6,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=X6,i=a}if(!i)return a1(e);const s=r[e],o=i[1].split(",").map(eW);return typeof s=="function"?s(o):o[s]}const Z6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Sy(n,e)};function eW(t){return parseFloat(t.trim())}const l1=t=>t===sl||t===he,tW=new Set(["x","y","z"]),nW=il.filter(t=>!tW.has(t));function rW(t){const e=[];return nW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sy(e,"x"),y:(t,{transform:e})=>Sy(e,"y")};$a.translateX=$a.x;$a.translateY=$a.y;const no=new Set;let Cy=!1,Ay=!1;function Uk(){if(Ay){const t=Array.from(no).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=rW(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ay=!1,Cy=!1,no.forEach(t=>t.complete()),no.clear()}function Bk(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ay=!0)})}function iW(){Bk(),Uk()}class Tw{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(no.add(this),Cy||(Cy=!0,Ue.read(Bk),Ue.resolveKeyframes(Uk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),no.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,no.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $k=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oW(t){const e=sW.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function zk(t,e,n=1){const[r,i]=oW(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return $k(o)?parseFloat(o):o}return uw(i)?zk(i,e,n+1):i}const Wk=t=>e=>e.test(t),aW={test:t=>t==="auto",parse:t=>t},Hk=[sl,he,Nr,ki,i6,r6,aW],u1=t=>Hk.find(Wk(t));class qk extends Tw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),uw(c))){const d=zk(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Tk.has(r)||e.length!==2)return;const[i,s]=e,o=u1(i),a=u1(s);if(o!==a)if(l1(o)&&l1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)D6(e[i])&&r.push(i);r.length&&Y6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=$a[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const c1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xs.test(t)||t==="0")&&!t.startsWith("url("));function lW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function uW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=c1(i,e),a=c1(s,e);return!o||!a?!1:lW(t)||(n==="spring"||tw(n))&&r}const cW=t=>t!==null;function sp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(cW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const dW=40;class Kk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&iW(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!uW(e,r,i,s))if(o)this.options.duration=0;else{l&&l(sp(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ge=(t,e,n)=>t+(e-t)*n;function vm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=vm(l,a,t+1/3),s=vm(l,a,t),o=vm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Zh(t,e){return n=>n>0?e:t}const wm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fW=[_y,Ks,Qo],pW=t=>fW.find(e=>e.test(t));function d1(t){const e=pW(t);if(!e)return!1;let n=e.parse(t);return e===Qo&&(n=hW(n)),n}const h1=(t,e)=>{const n=d1(t),r=d1(e);if(!n||!r)return Zh(t,e);const i={...n};return s=>(i.red=wm(n.red,r.red,s),i.green=wm(n.green,r.green,s),i.blue=wm(n.blue,r.blue,s),i.alpha=Ge(n.alpha,r.alpha,s),Ks.transform(i))},mW=(t,e)=>n=>e(t(n)),bc=(...t)=>t.reduce(mW),Iy=new Set(["none","hidden"]);function gW(t,e){return Iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yW(t,e){return n=>Ge(t,e,n)}function xw(t){return typeof t=="number"?yW:typeof t=="string"?uw(t)?Zh:Ut.test(t)?h1:_W:Array.isArray(t)?Gk:typeof t=="object"?Ut.test(t)?h1:vW:Zh}function Gk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>xw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function vW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=xw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function wW(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const _W=(t,e)=>{const n=xs.createTransformer(e),r=tc(t),i=tc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Iy.has(t)&&!i.values.length||Iy.has(e)&&!r.values.length?gW(t,e):bc(Gk(wW(r,i),i.values),n):Zh(t,e)};function Qk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):xw(t)(t,e)}const EW=5;function Yk(t,e,n){const r=Math.max(e-EW,0);return YR(n-t(r),e-r)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_m=.001;function TW({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:r=et.mass}){let i,s,o=1-e;o=mi(et.minDamping,et.maxDamping,o),t=mi(et.minDuration,et.maxDuration,ri(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,m=by(c,o),v=Math.exp(-h);return _m-f/m*v},s=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),_=by(Math.pow(c,2),o);return(-i(c)+_m>0?-1:1)*((f-m)*v)/_}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-_m+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=SW(i,s,a);if(t=ni(t),isNaN(l))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const xW=12;function SW(t,e,n){let r=n;for(let i=1;i<xW;i++)r=r-t(r)/e(r);return r}function by(t,e){return t*Math.sqrt(1-e*e)}const CW=["duration","bounce"],AW=["stiffness","damping","mass"];function f1(t,e){return e.some(n=>t[n]!==void 0)}function IW(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!f1(t,AW)&&f1(t,CW))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:et.mass,stiffness:i,damping:s}}else{const n=TW(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function Xk(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=IW({...n,velocity:-ri(n.velocity||0)}),v=f||0,_=c/(2*Math.sqrt(l*d)),E=o-s,w=ri(Math.sqrt(l/d)),y=Math.abs(E)<5;r||(r=y?et.restSpeed.granular:et.restSpeed.default),i||(i=y?et.restDelta.granular:et.restDelta.default);let T;if(_<1){const D=by(w,_);T=M=>{const C=Math.exp(-_*w*M);return o-C*((v+_*w*E)/D*Math.sin(D*M)+E*Math.cos(D*M))}}else if(_===1)T=D=>o-Math.exp(-w*D)*(E+(v+w*E)*D);else{const D=w*Math.sqrt(_*_-1);T=M=>{const C=Math.exp(-_*w*M),x=Math.min(D*M,300);return o-C*((v+_*w*E)*Math.sinh(x)+D*E*Math.cosh(x))/D}}const k={calculatedDuration:m&&h||null,next:D=>{const M=T(D);if(m)a.done=D>=h;else{let C=0;_<1&&(C=D===0?ni(v):Yk(T,D,M));const x=Math.abs(C)<=r,b=Math.abs(o-M)<=i;a.done=x&&b}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(XR(k),gy),M=JR(C=>k.next(D*C).value,D,30);return D+"ms "+M}};return k}function p1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,v=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let _=n*e;const E=h+_,w=o===void 0?E:o(E);w!==E&&(_=w-h);const y=x=>-_*Math.exp(-x/r),T=x=>w+y(x),k=x=>{const b=y(x),P=T(x);f.done=Math.abs(b)<=c,f.value=f.done?w:P};let D,M;const C=x=>{m(f.value)&&(D=x,M=Xk({keyframes:[f.value,v(f.value)],velocity:Yk(T,x,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:x=>{let b=!1;return!M&&D===void 0&&(b=!0,k(x),C(x)),D!==void 0&&x>=D?M.next(x-D):(!b&&k(x),f)}}}const bW=Ic(.42,0,1,1),PW=Ic(0,0,.58,1),Jk=Ic(.42,0,.58,1),RW=t=>Array.isArray(t)&&typeof t[0]!="number",m1={linear:Rn,easeIn:bW,easeInOut:Jk,easeOut:PW,circIn:ww,circInOut:kk,circOut:Rk,backIn:vw,backInOut:bk,backOut:Ik,anticipate:Pk},g1=t=>{if(nw(t)){my(t.length===4);const[e,n,r,i]=t;return Ic(e,n,r,i)}else if(typeof t=="string")return my(m1[t]!==void 0),m1[t];return t};function kW(t,e,n){const r=[],i=n||Qk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rn:e;a=bc(l,a)}r.push(a)}return r}function NW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(my(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=kW(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ua(t[h],t[h+1],d);return a[h](f)};return n?d=>c(mi(t[0],t[s-1],d)):c}function DW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ua(0,e,r);t.push(Ge(n,1,i))}}function VW(t){const e=[0];return DW(e,t.length-1),e}function OW(t,e){return t.map(n=>n*e)}function MW(t,e){return t.map(()=>e||Jk).splice(0,t.length-1)}function ef({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=RW(r)?r.map(g1):g1(r),s={done:!1,value:e[0]},o=OW(n&&n.length===e.length?n:VW(e),t),a=NW(o,e,{ease:Array.isArray(i)?i:MW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const LW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ue.update(e,!0),stop:()=>Ts(e),now:()=>Ct.isProcessing?Ct.timestamp:kr.now()}},FW={decay:p1,inertia:p1,tween:ef,keyframes:ef,spring:Xk},jW=t=>t/100;class Sw extends Kk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Tw,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=tw(n)?n:FW[n]||ef;let l,c;a!==ef&&typeof e[0]!="number"&&(l=bc(jW,Qk(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=XR(d));const{calculatedDuration:h}=d,f=h+i,m=f*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:_,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,k=s;if(m){const x=Math.min(this.currentTime,d)/h;let b=Math.floor(x),P=x%1;!P&&x>=1&&(P=1),P===1&&b--,b=Math.min(b,m+1),!!(b%2)&&(v==="reverse"?(P=1-P,_&&(P-=_/h)):v==="mirror"&&(k=o)),T=mi(0,1,P)*h}const D=y?{done:!1,value:l[0]}:k.next(T);a&&(D.value=a(D.value));let{done:M}=D;!y&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(D.value=sp(l,this.options,i)),E&&E(D.value),C&&this.finish(),D}get duration(){const{resolved:e}=this;return e?ri(e.calculatedDuration):0}get time(){return ri(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const UW=new Set(["opacity","clipPath","filter","transform"]);function BW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=ek(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const $W=J0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tf=10,zW=2e4;function WW(t){return tw(t.type)||t.type==="spring"||!ZR(t.ease)}function HW(t,e){const n=new Sw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<zW;)r=n.sample(s),i.push(r.value),s+=tf;return{times:void 0,keyframes:i,duration:s-tf,ease:"linear"}}const Zk={anticipate:Pk,backInOut:bk,circInOut:kk};function qW(t){return t in Zk}class y1 extends Kk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new qk(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Xh()&&qW(s)&&(s=Zk[s]),WW(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:v,..._}=this.options,E=HW(e,_);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,s=E.ease,o="keyframes"}const d=BW(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(zx(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(sp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ri(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ri(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Rn;const{animation:r}=n;zx(r,e)}return Rn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...m}=this.options,v=new Sw({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=ni(this.time);c.setWithVelocity(v.sample(_-tf).value,v.sample(_).value,tf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return $W()&&r&&UW.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const KW={type:"spring",stiffness:500,damping:25,restSpeed:10},GW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QW={type:"keyframes",duration:.8},YW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XW=(t,{keyframes:e})=>e.length>2?QW:To.has(t)?t.startsWith("scale")?GW(e[1]):KW:YW;function JW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Cw=(t,e,n,r={},i,s)=>o=>{const a=ew(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ni(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};JW(a)||(d={...d,...XW(t,d)}),d.duration&&(d.duration=ni(d.duration)),d.repeatDelay&&(d.repeatDelay=ni(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=sp(d.keyframes,a);if(f!==void 0)return Ue.update(()=>{d.onUpdate(f),d.onComplete()}),new Tz([])}return!s&&y1.supports(d)?new y1(d):new Sw(d)};function ZW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&ZW(d,h))continue;const v={delay:n,...ew(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const w=xk(t);if(w){const y=window.MotionHandoffAnimation(w,h,Ue);y!==null&&(v.startTime=y,_=!0)}}wy(t,h),f.start(Cw(h,f,m,t.shouldReduceMotion&&Tk.has(h)?{type:!1}:v,t,_));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{Ue.update(()=>{a&&b6(t,a)})}),c}function Py(t,e,n={}){var r;const i=ec(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(eN(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return e7(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function e7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(t7).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Py(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function t7(t,e){return t.sortNodePosition(e)}function n7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Py(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Py(t,e,n);else{const i=typeof e=="function"?ec(t,e,n.custom):e;r=Promise.all(eN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function tN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const r7=ow.length;function nN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r7;n++){const r=ow[n],i=t.props[r];(Xu(i)||i===!1)&&(e[r]=i)}return e}const i7=[...sw].reverse(),s7=sw.length;function o7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>n7(t,n,r)))}function a7(t){let e=o7(t),n=v1(),r=!0;const i=l=>(c,d)=>{var h;const f=ec(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,..._}=f;c={...c,..._,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=nN(t.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let E=0;E<s7;E++){const w=i7[E],y=n[w],T=c[w]!==void 0?c[w]:d[w],k=Xu(T),D=w===l?y.isActive:null;D===!1&&(v=E);let M=T===d[w]&&T!==c[w]&&k;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),y.protectedKeys={...m},!y.isActive&&D===null||!T&&!y.prevProp||rp(T)||typeof T=="boolean")continue;const C=l7(y.prevProp,T);let x=C||w===l&&y.isActive&&!M&&k||E>v&&k,b=!1;const P=Array.isArray(T)?T:[T];let V=P.reduce(i(w),{});D===!1&&(V={});const{prevResolvedValues:N={}}=y,R={...N,...V},q=ee=>{x=!0,f.has(ee)&&(b=!0,f.delete(ee)),y.needsAnimating[ee]=!0;const j=t.getValue(ee);j&&(j.liveStyle=!1)};for(const ee in R){const j=V[ee],K=N[ee];if(m.hasOwnProperty(ee))continue;let te=!1;vy(j)&&vy(K)?te=!tN(j,K):te=j!==K,te?j!=null?q(ee):f.add(ee):j!==void 0&&f.has(ee)?q(ee):y.protectedKeys[ee]=!0}y.prevProp=T,y.prevResolvedValues=V,y.isActive&&(m={...m,...V}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(M&&C)||b)&&h.push(...P.map(ee=>({animation:ee,options:{type:w}})))}if(f.size){const E={};if(typeof c.initial!="boolean"){const w=ec(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(E.transition=w.transition)}f.forEach(w=>{const y=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),E[w]=y??null}),h.push({animation:E})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=v1(),r=!0}}}function l7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tN(e,t):!1}function Ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v1(){return{animate:Ls(!0),whileInView:Ls(),whileHover:Ls(),whileTap:Ls(),whileDrag:Ls(),whileFocus:Ls(),exit:Ls()}}class Ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u7 extends Ns{constructor(e){super(e),e.animationState||(e.animationState=a7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let c7=0;class d7 extends Ns{constructor(){super(...arguments),this.id=c7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h7={animation:{Feature:u7},exit:{Feature:d7}};function nc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pc(t){return{point:{x:t.pageX,y:t.pageY}}}const f7=t=>e=>iw(e)&&t(e,Pc(e));function cu(t,e,n,r){return nc(t,e,f7(n),r)}function rN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function p7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const iN=1e-4,g7=1-iN,y7=1+iN,sN=.01,v7=0-sN,w7=0+sN;function tn(t){return t.max-t.min}function _7(t,e,n){return Math.abs(t-e)<=n}function w1(t,e,n,r=.5){t.origin=r,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g7&&t.scale<=y7||isNaN(t.scale))&&(t.scale=1),(t.translate>=v7&&t.translate<=w7||isNaN(t.translate))&&(t.translate=0)}function du(t,e,n,r){w1(t.x,e.x,n.x,r?r.originX:void 0),w1(t.y,e.y,n.y,r?r.originY:void 0)}function _1(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function E7(t,e,n){_1(t.x,e.x,n.x),_1(t.y,e.y,n.y)}function E1(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function hu(t,e,n){E1(t.x,e.x,n.x),E1(t.y,e.y,n.y)}const T1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:T1(),y:T1()}),x1=()=>({min:0,max:0}),it=()=>({x:x1(),y:x1()});function jn(t){return[t("x"),t("y")]}function Em(t){return t===void 0||t===1}function Ry({scale:t,scaleX:e,scaleY:n}){return!Em(t)||!Em(e)||!Em(n)}function Bs(t){return Ry(t)||oN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oN(t){return S1(t.x)||S1(t.y)}function S1(t){return t&&t!=="0%"}function nf(t,e,n){const r=t-n,i=e*r;return n+i}function C1(t,e,n,r,i){return i!==void 0&&(t=nf(t,i,r)),nf(t,n,r)+e}function ky(t,e=0,n=1,r,i){t.min=C1(t.min,e,n,r,i),t.max=C1(t.max,e,n,r,i)}function aN(t,{x:e,y:n}){ky(t.x,e.translate,e.scale,e.originPoint),ky(t.y,n.translate,n.scale,n.originPoint)}const A1=.999999999999,I1=1.0000000000001;function T7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,aN(t,o)),r&&Bs(s.latestValues)&&Jo(t,s.latestValues))}e.x<I1&&e.x>A1&&(e.x=1),e.y<I1&&e.y>A1&&(e.y=1)}function Xo(t,e){t.min=t.min+e,t.max=t.max+e}function b1(t,e,n,r,i=.5){const s=Ge(t.min,t.max,i);ky(t,e,n,s,r)}function Jo(t,e){b1(t.x,e.x,e.scaleX,e.scale,e.originX),b1(t.y,e.y,e.scaleY,e.scale,e.originY)}function lN(t,e){return rN(m7(t.getBoundingClientRect(),e))}function x7(t,e,n){const r=lN(t,n),{scroll:i}=e;return i&&(Xo(r.x,i.offset.x),Xo(r.y,i.offset.y)),r}const uN=({current:t})=>t?t.ownerDocument.defaultView:null,P1=(t,e)=>Math.abs(t-e);function S7(t,e){const n=P1(t.x,e.x),r=P1(t.y,e.y);return Math.sqrt(n**2+r**2)}class cN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=xm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=S7(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:_}=Ct;this.history.push({...v,timestamp:_});const{onStart:E,onMove:w}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Tm(f,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=xm(h.type==="pointercancel"?this.lastMoveEventInfo:Tm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,E),v&&v(h,E)},!iw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Pc(e),a=Tm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ct;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,xm(a,this.history)),this.removeListeners=bc(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ts(this.updatePoint)}}function Tm(t,e){return e?{point:e(t.point)}:t}function R1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xm({point:t},e){return{point:t,delta:R1(t,dN(e)),offset:R1(t,C7(e)),velocity:A7(e,.1)}}function C7(t){return t[0]}function dN(t){return t[t.length-1]}function A7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=dN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ni(e)));)n--;if(!r)return{x:0,y:0};const s=ri(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function I7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ge(n,t,r.max):Math.min(t,n)),t}function k1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function b7(t,{top:e,left:n,bottom:r,right:i}){return{x:k1(t.x,n,i),y:k1(t.y,e,r)}}function N1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function P7(t,e){return{x:N1(t.x,e.x),y:N1(t.y,e.y)}}function R7(t,e){let n=.5;const r=tn(t),i=tn(e);return i>r?n=Ua(e.min,e.max-r,t.min):r>i&&(n=Ua(t.min,t.max-i,e.min)),mi(0,1,n)}function k7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ny=.35;function N7(t=Ny){return t===!1?t=0:t===!0&&(t=Ny),{x:D1(t,"left","right"),y:D1(t,"top","bottom")}}function D1(t,e,n){return{min:V1(t,e),max:V1(t,n)}}function V1(t,e){return typeof t=="number"?t:t[e]||0}const D7=new WeakMap;class V7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(E=>{let w=this.getAxisMotionValue(E).get()||0;if(Nr.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[E];T&&(w=tn(T)*(parseFloat(w)/100))}}this.originPoint[E]=w}),v&&Ue.postRender(()=>v(d,h)),wy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(m&&this.currentDirection===null){this.currentDirection=O7(E),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>jn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new cN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:uN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ue.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=I7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Go(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=b7(i.layoutBox,n):this.constraints=!1,this.elastic=N7(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=k7(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Go(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=x7(r,i.root,this.visualElement.getTransformPagePoint());let o=P7(i.layout.layoutBox,s);if(n){const a=n(p7(o));this.hasMutatedConstraints=!!a,a&&(o=rN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=jn(d=>{if(!xd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return wy(this.visualElement,e),r.start(Cw(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!xd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Go(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=R7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(o=>{if(!xd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ge(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;D7.set(this.visualElement,this);const e=this.visualElement.current,n=cu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Go(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ue.read(r);const o=nc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ny,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function O7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class M7 extends Ns{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new V7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const O1=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class L7 extends Ns{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new cN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:O1(e),onStart:O1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ue.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function M1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Il={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=M1(t,e.target.x),r=M1(t,e.target.y);return`${n}% ${r}%`}},F7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xs.parse(t);if(i.length>5)return r;const s=xs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ge(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class j7 extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;n6(U7),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ue.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hN(t){const[e,n]=vz(),r=A.useContext(GR);return S.jsx(j7,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(uk),isPresent:e,safeToRemove:n})}const U7={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:F7};function B7(t,e,n){const r=Wt(t)?t:Yu(t);return r.start(Cw("",r,e,n)),r.animation}function $7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const z7=(t,e)=>t.depth-e.depth;class W7{constructor(){this.children=[],this.isDirty=!1}add(e){Y0(this.children,e),this.isDirty=!0}remove(e){X0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z7),this.isDirty=!1,this.children.forEach(e)}}function H7(t,e){const n=kr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ts(r),t(s-e))};return Ue.read(r,!0),()=>Ts(r)}const fN=["TopLeft","TopRight","BottomLeft","BottomRight"],q7=fN.length,L1=t=>typeof t=="string"?parseFloat(t):t,F1=t=>typeof t=="number"||he.test(t);function K7(t,e,n,r,i,s){i?(t.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,G7(r)),t.opacityExit=Ge(e.opacity!==void 0?e.opacity:1,0,Q7(r))):s&&(t.opacity=Ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<q7;o++){const a=`border${fN[o]}Radius`;let l=j1(e,a),c=j1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||F1(l)===F1(c)?(t[a]=Math.max(Ge(L1(l),L1(c),r),0),(Nr.test(c)||Nr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,r))}function j1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G7=pN(0,.5,Rk),Q7=pN(.5,.95,Rn);function pN(t,e,n){return r=>r<t?0:r>e?1:n(Ua(t,e,r))}function U1(t,e){t.min=e.min,t.max=e.max}function Fn(t,e){U1(t.x,e.x),U1(t.y,e.y)}function B1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $1(t,e,n,r,i){return t-=e,t=nf(t,1/n,r),i!==void 0&&(t=nf(t,1/i,r)),t}function Y7(t,e=0,n=1,r=.5,i,s=t,o=t){if(Nr.test(e)&&(e=parseFloat(e),e=Ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ge(s.min,s.max,r);t===s&&(a-=e),t.min=$1(t.min,e,n,a,i),t.max=$1(t.max,e,n,a,i)}function z1(t,e,[n,r,i],s,o){Y7(t,e[n],e[r],e[i],e.scale,s,o)}const X7=["x","scaleX","originX"],J7=["y","scaleY","originY"];function W1(t,e,n,r){z1(t.x,e,X7,n?n.x:void 0,r?r.x:void 0),z1(t.y,e,J7,n?n.y:void 0,r?r.y:void 0)}function H1(t){return t.translate===0&&t.scale===1}function mN(t){return H1(t.x)&&H1(t.y)}function q1(t,e){return t.min===e.min&&t.max===e.max}function Z7(t,e){return q1(t.x,e.x)&&q1(t.y,e.y)}function K1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gN(t,e){return K1(t.x,e.x)&&K1(t.y,e.y)}function G1(t){return tn(t.x)/tn(t.y)}function Q1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eH{constructor(){this.members=[]}add(e){Y0(this.members,e),e.scheduleRender()}remove(e){if(X0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Sm=["","X","Y","Z"],nH={visibility:"hidden"},Y1=1e3;let rH=0;function Cm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yN(r)}function vN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=rH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oH),this.nodes.forEach(dH),this.nodes.forEach(hH),this.nodes.forEach(aH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new W7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$7(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=H7(f,250),Jd.hasAnimatedSinceResize&&(Jd.hasAnimatedSinceResize=!1,this.nodes.forEach(J1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||yH,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=d.getProps(),y=!this.targetLayout||!gN(this.targetLayout,v),T=!f&&m;if(this.options.layoutRoot||this.resumeFrom||T||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const k={...ew(_,"layout"),onPlay:E,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||J1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X1);return}this.isUpdating||this.nodes.forEach(uH),this.isUpdating=!1,this.nodes.forEach(cH),this.nodes.forEach(iH),this.nodes.forEach(sH),this.clearAllSnapshots();const a=kr.now();Ct.delta=mi(0,1e3/60,a-Ct.timestamp),Ct.timestamp=a,Ct.isProcessing=!0,mm.update.process(Ct),mm.preRender.process(Ct),mm.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lH),this.sharedNodes.forEach(pH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Bs(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return it();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(wH))){const{scroll:d}=this.root;d&&(Xo(l.x,d.offset.x),Xo(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=it();if(Fn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Fn(l,o),Xo(l.x,h.offset.x),Xo(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=it();Fn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Bs(d.latestValues)&&Jo(l,d.latestValues)}return Bs(this.latestValues)&&Jo(l,this.latestValues),l}removeTransform(o){const a=it();Fn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Bs(c.latestValues))continue;Ry(c.latestValues)&&c.updateSnapshot();const d=it(),h=c.measurePageBox();Fn(d,h),W1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Bs(this.latestValues)&&W1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),hu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),aN(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),hu(this.relativeTargetOrigin,this.target,m.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||oN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Fn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;T7(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=it());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B1(this.prevProjectionDelta.x,this.projectionDelta.x),B1(this.prevProjectionDelta.y,this.projectionDelta.y)),du(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Q1(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,E=this.getStack(),w=!E||E.members.length<=1,y=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(gH));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const D=k/1e3;Z1(h.x,o.x,D),Z1(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mH(this.relativeTarget,this.relativeTargetOrigin,f,D),T&&Z7(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=it()),Fn(T,this.relativeTarget)),_&&(this.animationValues=d,K7(d,c,this.latestValues,D,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{Jd.hasAnimatedSinceResize=!0,this.currentAnimation=B7(0,Y1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&wN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const h=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Fn(a,l),Jo(a,d),du(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Cm("z",o,c,this.animationValues);for(let d=0;d<Sm.length;d++)Cm(`rotate${Sm[d]}`,o,c,this.animationValues),Cm(`skew${Sm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nH;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xd(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Xd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bs(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=tH(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Ju){if(f[_]===void 0)continue;const{correct:E,applyTo:w,isCSSVariable:y}=Ju[_],T=c.transform==="none"?f[_]:E(f[_],h);if(w){const k=w.length;for(let D=0;D<k;D++)c[w[D]]=T}else y?this.options.visualElement.renderState.vars[_]=T:c[_]=T}return this.options.layoutId&&(c.pointerEvents=h===this?Xd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(X1),this.root.sharedNodes.clear()}}}function iH(t){t.updateLayout()}function sH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?jn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(f);f.min=r[h].min,f.max=f.min+m}):wN(s,n.layoutBox,r)&&jn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Yo();du(a,r,n.layoutBox);const l=Yo();o?du(l,t.applyTransform(i,!0),n.measuredBox):du(l,r,n.layoutBox);const c=!mN(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=it();hu(v,n.layoutBox,f.layoutBox);const _=it();hu(_,r,m.layoutBox),gN(v,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lH(t){t.clearSnapshot()}function X1(t){t.clearMeasurements()}function uH(t){t.isLayoutDirty=!1}function cH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function J1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dH(t){t.resolveTargetDelta()}function hH(t){t.calcProjection()}function fH(t){t.resetSkewAndRotation()}function pH(t){t.removeLeadSnapshot()}function Z1(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eS(t,e,n,r){t.min=Ge(e.min,n.min,r),t.max=Ge(e.max,n.max,r)}function mH(t,e,n,r){eS(t.x,e.x,n.x,r),eS(t.y,e.y,n.y,r)}function gH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yH={duration:.45,ease:[.4,0,.1,1]},tS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nS=tS("applewebkit/")&&!tS("chrome/")?Math.round:Rn;function rS(t){t.min=nS(t.min),t.max=nS(t.max)}function vH(t){rS(t.x),rS(t.y)}function wN(t,e,n){return t==="position"||t==="preserve-aspect"&&!_7(G1(e),G1(n),.2)}function wH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _H=vN({attachResizeListener:(t,e)=>nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Am={current:void 0},_N=vN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Am.current){const t=new _H({});t.mount(window),t.setOptions({layoutScroll:!0}),Am.current=t}return Am.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),EH={pan:{Feature:L7},drag:{Feature:M7,ProjectionNode:_N,MeasureLayout:hN}};function iS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ue.postRender(()=>s(e,Pc(e)))}class TH extends Ns{mount(){const{current:e}=this.node;e&&(this.unmount=Rz(e,(n,r)=>(iS(this.node,r,"Start"),i=>iS(this.node,i,"End"))))}unmount(){}}class xH extends Ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bc(nc(this.node.current,"focus",()=>this.onFocus()),nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ue.postRender(()=>s(e,Pc(e)))}class SH extends Ns{mount(){const{current:e}=this.node;e&&(this.unmount=Vz(e,(n,r)=>(sS(this.node,r,"Start"),(i,{success:s})=>sS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dy=new WeakMap,Im=new WeakMap,CH=t=>{const e=Dy.get(t.target);e&&e(t)},AH=t=>{t.forEach(CH)};function IH({root:t,...e}){const n=t||document;Im.has(n)||Im.set(n,{});const r=Im.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(AH,{root:t,...e})),r[i]}function bH(t,e,n){const r=IH(e);return Dy.set(t,n),r.observe(t),()=>{Dy.delete(t),r.unobserve(t)}}const PH={some:0,all:1};class RH extends Ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PH[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return bH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kH(e,n))&&this.startObserver()}unmount(){}}function kH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const NH={inView:{Feature:RH},tap:{Feature:SH},focus:{Feature:xH},hover:{Feature:TH}},DH={layout:{ProjectionNode:_N,MeasureLayout:hN}},Vy={current:null},EN={current:!1};function VH(){if(EN.current=!0,!!G0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vy.current=t.matches;t.addListener(e),e()}else Vy.current=!1}const OH=[...Hk,Ut,xs],MH=t=>OH.find(Wk(t)),LH=new WeakMap;function FH(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Wt(i))t.addValue(r,i);else if(Wt(s))t.addValue(r,Yu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Yu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=kr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ue.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ip(n),this.isVariantNode=ak(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const v=f[m];l[m]!==void 0&&Wt(v)&&v.set(l[m],!1)}}mount(e){this.current=e,LH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EN.current||VH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ts(this.notifyUpdate),Ts(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=To.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ba){const n=Ba[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oS.length;r++){const i=oS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=FH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&($k(i)||Nk(i))?i=parseFloat(i):!MH(i)&&xs.test(n)&&(i=jk(e,n)),this.setBaseTarget(e,Wt(i)?i.get():i)),Wt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=gw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TN extends jH{constructor(){super(...arguments),this.KeyframeResolver=qk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UH(t){return window.getComputedStyle(t)}class BH extends TN{constructor(){super(...arguments),this.type="html",this.renderInstance=vk}readValueFromInstance(e,n){if(To.has(n))return Z6(e,n);{const r=UH(e),i=(lw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lN(e,n)}build(e,n,r){dw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return yw(e,n,r)}}class $H extends TN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&yk(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(To.has(n)){const r=Fk(n);return r&&r.default||0}return n=wk.has(n)?n:aw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Ek(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ue.postRender(this.updateDimensions)}build(e,n,r){pw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){_k(e,n,r,i)}mount(e){this.isSVGTag=mw(e.tagName),super.mount(e)}}const zH=(t,e)=>fw(t)?new $H(e):new BH(e,{allowProjection:t!==A.Fragment}),WH=A6({...h7,...NH,...EH,...DH},zH),Aw=$z(WH),HH=()=>S.jsx("div",{className:"mb-8",children:S.jsx(Aw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"tribunal-card bg-gradient-to-r from-tribunal-blue to-tribunal-blue/90 text-white",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Bem-vindo ao SIAAP Subsídios"}),S.jsx("p",{className:"text-blue-100",children:"Tribunal de Contas dos Municípios do Estado de Goiás"})]}),S.jsx("button",{className:"tribunal-button mt-4 md:mt-0",children:"Acessar painel"})]})})}),qH=[{id:1,title:"Nova análise criada",description:"Análise de Contas Municipais 2023",date:"Hoje, 10:30",type:"analise"},{id:2,title:"Projeto atualizado",description:"Auditoria Operacional",date:"Ontem, 14:25",type:"projeto"},{id:3,title:"Configuração alterada",description:"Parâmetros de sistema",date:"23/06/2023, 09:15",type:"configuracao"}],KH=t=>{switch(t){case"analise":return"bg-tribunal-blue";case"projeto":return"bg-tribunal-gold";case"configuracao":return"bg-gray-500";default:return"bg-gray-500"}},GH=()=>S.jsxs(Aw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"tribunal-card",children:[S.jsxs("div",{className:"flex items-center justify-between mb-5",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Atividades Recentes"}),S.jsx("button",{className:"text-tribunal-blue hover:bg-blue-500 text-sm font-medium",children:"Ver todas"})]}),S.jsx("div",{className:"space-y-4",children:qH.map((t,e)=>S.jsxs("div",{className:"flex gap-4 items-start",children:[S.jsx("div",{className:`${KH(t.type)} w-2 h-2 mt-2 rounded-full`}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"font-medium text-gray-800",children:t.title}),S.jsx("p",{className:"text-sm text-gray-500",children:t.description})]}),S.jsx("span",{className:"text-xs text-gray-400",children:t.date})]},t.id))})]}),QH=()=>{const t=KR(),[e,n]=A.useState(!t),r=()=>{n(!e)};return S.jsxs("div",{className:"min-h-screen bg-gray-50",children:[S.jsx(mz,{isOpen:e,setIsOpen:n}),S.jsxs("div",{className:`transition-all duration-300 ${t?"ml-0":"ml-64"}`,children:[S.jsx(pz,{toggleSidebar:r}),S.jsxs("main",{className:"p-4 md:p-6",children:[S.jsx("div",{className:"flex justify-center mb-6 md:hidden",children:S.jsx("img",{src:"/LogoSAP.png",alt:"Logo",className:"h-14"})}),S.jsx(HH,{}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S.jsx("div",{className:"lg:col-span-2",children:S.jsx(GH,{})}),S.jsxs("div",{className:"tribunal-card",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Processos"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("button",{className:"tribunal-button w-full justify-center",children:"Iniciar ou Editar"}),S.jsx("button",{className:"tribunal-button-secondary w-full justify-center",children:"Consultar"}),S.jsx("button",{className:"bg-white border border-gray-200 text-gray-700 font-medium py-2 px-6 rounded-md w-full transition-all duration-300 hover:bg-gray-50",children:"Administrador"})]})]})]}),S.jsx("footer",{className:"mt-8 text-center text-gray-500 text-sm py-4",children:S.jsxs("p",{children:["Tribunal de Contas dos Municípios do Estado de Goiás © ",new Date().getFullYear()]})})]})]})]})},Oy=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:ht("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Oy.displayName="Card";const xN=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:ht("flex flex-col space-y-1.5 p-6",t),...e}));xN.displayName="CardHeader";const SN=A.forwardRef(({className:t,...e},n)=>S.jsx("h3",{ref:n,className:ht("text-2xl font-semibold leading-none tracking-tight",t),...e}));SN.displayName="CardTitle";const YH=A.forwardRef(({className:t,...e},n)=>S.jsx("p",{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));YH.displayName="CardDescription";const My=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:ht("p-6 pt-0",t),...e}));My.displayName="CardContent";const XH=A.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:ht("flex items-center p-6 pt-0",t),...e}));XH.displayName="CardFooter";const $l=A.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));$l.displayName="Input";const JH=Lv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),zl=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Pa:"button";return S.jsx(o,{className:ht(JH({variant:e,size:n,className:t})),ref:s,...i})});zl.displayName="Button";var Rc=t=>t.type==="checkbox",Qs=t=>t instanceof Date,Zt=t=>t==null;const CN=t=>typeof t=="object";var lt=t=>!Zt(t)&&!Array.isArray(t)&&CN(t)&&!Qs(t),AN=t=>lt(t)&&t.target?Rc(t.target)?t.target.checked:t.target.value:t,ZH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,IN=(t,e)=>t.has(ZH(e)),e8=t=>{const e=t.constructor&&t.constructor.prototype;return lt(e)&&e.hasOwnProperty("isPrototypeOf")},Iw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Iw&&(t instanceof Blob||t instanceof FileList))&&(n||lt(t)))if(e=n?[]:{},!n&&!e8(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=dn(t[r]));else return t;return e}var op=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,J=(t,e,n)=>{if(!e||!lt(t))return n;const r=op(e.split(/[,[\].]+?/)).reduce((i,s)=>Zt(i)?i:i[s],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},Bn=t=>typeof t=="boolean",bw=t=>/^\w*$/.test(t),bN=t=>op(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(t,e,n)=>{let r=-1;const i=bw(e)?[e]:bN(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=lt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const rf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PN=W.createContext(null),ap=()=>W.useContext(PN),t8=t=>{const{children:e,...n}=t;return W.createElement(PN.Provider,{value:n},e)};var RN=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ir.all&&(e._proxyFormState[o]=!r||ir.all),n&&(n[o]=!0),t[o]}});return i},hn=t=>lt(t)&&!Object.keys(t).length,kN=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return hn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ir.all))},fu=t=>Array.isArray(t)?t:[t],NN=(t,e,n)=>!t||!e||t===e||fu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Pw(t){const e=W.useRef(t);e.current=t,W.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function n8(t){const e=ap(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=W.useState(n._formState),l=W.useRef(!0),c=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=W.useRef(i);return d.current=i,Pw({disabled:r,next:h=>l.current&&NN(d.current,h.name,s)&&kN(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),W.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),RN(o,n,c.current,!1)}var xr=t=>typeof t=="string",DN=(t,e,n,r,i)=>xr(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n);function r8(t){const e=ap(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=W.useRef(r);a.current=r,Pw({disabled:s,subject:n._subjects.values,next:d=>{NN(a.current,d.name,o)&&c(dn(DN(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=W.useState(n._getWatch(r,i));return W.useEffect(()=>n._removeUnmounted()),l}function i8(t){const e=ap(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=IN(i._names.array,n),a=r8({control:i,name:n,defaultValue:J(i._formValues,n,J(i._defaultValues,n,t.defaultValue)),exact:!0}),l=n8({control:i,name:n,exact:!0}),c=W.useRef(i.register(n,{...t.rules,value:a,...Bn(t.disabled)?{disabled:t.disabled}:{}}));return W.useEffect(()=>{const d=i._options.shouldUnregister||s,h=(f,m)=>{const v=J(i._fields,f);v&&v._f&&(v._f.mount=m)};if(h(n,!0),d){const f=dn(J(i._options.defaultValues,n));Fe(i._defaultValues,n,f),nt(J(i._formValues,n))&&Fe(i._formValues,n,f)}return()=>{(o?d&&!i._state.action:d)?i.unregister(n):h(n,!1)}},[n,i,o,s]),W.useEffect(()=>{J(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:J(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Bn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:W.useCallback(d=>c.current.onChange({target:{value:AN(d),name:n},type:rf.CHANGE}),[n]),onBlur:W.useCallback(()=>c.current.onBlur({target:{value:J(i._formValues,n),name:n},type:rf.BLUR}),[n,i]),ref:W.useCallback(d=>{const h=J(i._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!J(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!J(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!J(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!J(l.validatingFields,n)},error:{enumerable:!0,get:()=>J(l.errors,n)}})}}const s8=t=>t.render(i8(t));var o8=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},aS=t=>({isOnSubmit:!t||t===ir.onSubmit,isOnBlur:t===ir.onBlur,isOnChange:t===ir.onChange,isOnAll:t===ir.all,isOnTouch:t===ir.onTouched}),lS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const pu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(pu(a,e))break}else if(lt(a)&&pu(a,e))break}}};var a8=(t,e,n)=>{const r=fu(J(t,n));return Fe(r,"root",e[n]),Fe(t,n,r),t},Rw=t=>t.type==="file",Jr=t=>typeof t=="function",sf=t=>{if(!Iw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zd=t=>xr(t),kw=t=>t.type==="radio",of=t=>t instanceof RegExp;const uS={value:!1,isValid:!1},cS={value:!0,isValid:!0};var VN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?cS:{value:t[0].value,isValid:!0}:cS:uS}return uS};const dS={isValid:!1,value:null};var ON=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,dS):dS;function hS(t,e,n="validate"){if(Zd(t)||Array.isArray(t)&&t.every(Zd)||Bn(t)&&!t)return{type:n,message:Zd(t)?t:"",ref:e}}var Ro=t=>lt(t)&&!of(t)?t:{value:t,message:""},fS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:h,pattern:f,validate:m,name:v,valueAsNumber:_,mount:E,disabled:w}=t._f,y=J(e,v);if(!E||w)return{};const T=o?o[0]:s,k=N=>{r&&T.reportValidity&&(T.setCustomValidity(Bn(N)?"":N||""),T.reportValidity())},D={},M=kw(s),C=Rc(s),x=M||C,b=(_||Rw(s))&&nt(s.value)&&nt(y)||sf(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,P=o8.bind(null,v,n,D),V=(N,R,q,oe=zr.maxLength,ae=zr.minLength)=>{const ee=N?R:q;D[v]={type:N?oe:ae,message:ee,ref:s,...P(N?oe:ae,ee)}};if(i?!Array.isArray(y)||!y.length:a&&(!x&&(b||Zt(y))||Bn(y)&&!y||C&&!VN(o).isValid||M&&!ON(o).isValid)){const{value:N,message:R}=Zd(a)?{value:!!a,message:a}:Ro(a);if(N&&(D[v]={type:zr.required,message:R,ref:T,...P(zr.required,R)},!n))return k(R),D}if(!b&&(!Zt(d)||!Zt(h))){let N,R;const q=Ro(h),oe=Ro(d);if(!Zt(y)&&!isNaN(y)){const ae=s.valueAsNumber||y&&+y;Zt(q.value)||(N=ae>q.value),Zt(oe.value)||(R=ae<oe.value)}else{const ae=s.valueAsDate||new Date(y),ee=te=>new Date(new Date().toDateString()+" "+te),j=s.type=="time",K=s.type=="week";xr(q.value)&&y&&(N=j?ee(y)>ee(q.value):K?y>q.value:ae>new Date(q.value)),xr(oe.value)&&y&&(R=j?ee(y)<ee(oe.value):K?y<oe.value:ae<new Date(oe.value))}if((N||R)&&(V(!!N,q.message,oe.message,zr.max,zr.min),!n))return k(D[v].message),D}if((l||c)&&!b&&(xr(y)||i&&Array.isArray(y))){const N=Ro(l),R=Ro(c),q=!Zt(N.value)&&y.length>+N.value,oe=!Zt(R.value)&&y.length<+R.value;if((q||oe)&&(V(q,N.message,R.message),!n))return k(D[v].message),D}if(f&&!b&&xr(y)){const{value:N,message:R}=Ro(f);if(of(N)&&!y.match(N)&&(D[v]={type:zr.pattern,message:R,ref:s,...P(zr.pattern,R)},!n))return k(R),D}if(m){if(Jr(m)){const N=await m(y,e),R=hS(N,T);if(R&&(D[v]={...R,...P(zr.validate,R.message)},!n))return k(R.message),D}else if(lt(m)){let N={};for(const R in m){if(!hn(N)&&!n)break;const q=hS(await m[R](y,e),T,R);q&&(N={...q,...P(R,q.message)},k(q.message),n&&(D[v]=N))}if(!hn(N)&&(D[v]={ref:T,...N},!n))return D}}return k(!0),D};function l8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function u8(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function pt(t,e){const n=Array.isArray(e)?e:bw(e)?[e]:bN(e),r=n.length===1?t:l8(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(lt(r)&&hn(r)||Array.isArray(r)&&u8(r))&&pt(t,n.slice(0,-1)),t}var bm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Ly=t=>Zt(t)||!CN(t);function Ui(t,e){if(Ly(t)||Ly(e))return t===e;if(Qs(t)&&Qs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Qs(s)&&Qs(o)||lt(s)&&lt(o)||Array.isArray(s)&&Array.isArray(o)?!Ui(s,o):s!==o)return!1}}return!0}var MN=t=>t.type==="select-multiple",c8=t=>kw(t)||Rc(t),Pm=t=>sf(t)&&t.isConnected,LN=t=>{for(const e in t)if(Jr(t[e]))return!0;return!1};function af(t,e={}){const n=Array.isArray(t);if(lt(t)||n)for(const r in t)Array.isArray(t[r])||lt(t[r])&&!LN(t[r])?(e[r]=Array.isArray(t[r])?[]:{},af(t[r],e[r])):Zt(t[r])||(e[r]=!0);return e}function FN(t,e,n){const r=Array.isArray(t);if(lt(t)||r)for(const i in t)Array.isArray(t[i])||lt(t[i])&&!LN(t[i])?nt(e)||Ly(n[i])?n[i]=Array.isArray(t[i])?af(t[i],[]):{...af(t[i])}:FN(t[i],Zt(e)?{}:e[i],n[i]):n[i]=!Ui(t[i],e[i]);return n}var bl=(t,e)=>FN(t,e,af(e)),jN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&xr(t)?new Date(t):r?r(t):t;function Rm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Rw(e)?e.files:kw(e)?ON(t.refs).value:MN(e)?[...e.selectedOptions].map(({value:n})=>n):Rc(e)?VN(t.refs).value:jN(nt(e.value)?t.ref.value:e.value,t)}var d8=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&Fe(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Pl=t=>nt(t)?t:of(t)?t.source:lt(t)?of(t.value)?t.value.source:t.value:t;const pS="AsyncFunction";var h8=t=>(!t||!t.validate)&&!!(Jr(t.validate)&&t.validate.constructor.name===pS||lt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===pS)),f8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function mS(t,e,n){const r=J(t,n);if(r||bw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var p8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,m8=(t,e)=>!op(J(t,e)).length&&pt(t,e);const g8={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function y8(t={}){let e={...g8,...t},n={submitCount:0,isDirty:!1,isLoading:Jr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=lt(e.defaultValues)||lt(e.values)?dn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:dn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:bm(),array:bm(),state:bm()},f=aS(e.mode),m=aS(e.reValidateMode),v=e.criteriaMode===ir.all,_=O=>L=>{clearTimeout(c),c=setTimeout(O,L)},E=async O=>{if(!t.disabled&&(d.isValid||O)){const L=e.resolver?hn((await x()).errors):await P(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},w=(O,L)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((O||Array.from(a.mount)).forEach(B=>{B&&(L?Fe(n.validatingFields,B,L):pt(n.validatingFields,B))}),h.state.next({validatingFields:n.validatingFields,isValidating:!hn(n.validatingFields)}))},y=(O,L=[],B,Z,Y=!0,G=!0)=>{if(Z&&B&&!t.disabled){if(o.action=!0,G&&Array.isArray(J(r,O))){const ue=B(J(r,O),Z.argA,Z.argB);Y&&Fe(r,O,ue)}if(G&&Array.isArray(J(n.errors,O))){const ue=B(J(n.errors,O),Z.argA,Z.argB);Y&&Fe(n.errors,O,ue),m8(n.errors,O)}if(d.touchedFields&&G&&Array.isArray(J(n.touchedFields,O))){const ue=B(J(n.touchedFields,O),Z.argA,Z.argB);Y&&Fe(n.touchedFields,O,ue)}d.dirtyFields&&(n.dirtyFields=bl(i,s)),h.state.next({name:O,isDirty:N(O,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fe(s,O,L)},T=(O,L)=>{Fe(n.errors,O,L),h.state.next({errors:n.errors})},k=O=>{n.errors=O,h.state.next({errors:n.errors,isValid:!1})},D=(O,L,B,Z)=>{const Y=J(r,O);if(Y){const G=J(s,O,nt(B)?J(i,O):B);nt(G)||Z&&Z.defaultChecked||L?Fe(s,O,L?G:Rm(Y._f)):oe(O,G),o.mount&&E()}},M=(O,L,B,Z,Y)=>{let G=!1,ue=!1;const ye={name:O};if(!t.disabled){const Te=!!(J(r,O)&&J(r,O)._f&&J(r,O)._f.disabled);if(!B||Z){d.isDirty&&(ue=n.isDirty,n.isDirty=ye.isDirty=N(),G=ue!==ye.isDirty);const we=Te||Ui(J(i,O),L);ue=!!(!Te&&J(n.dirtyFields,O)),we||Te?pt(n.dirtyFields,O):Fe(n.dirtyFields,O,!0),ye.dirtyFields=n.dirtyFields,G=G||d.dirtyFields&&ue!==!we}if(B){const we=J(n.touchedFields,O);we||(Fe(n.touchedFields,O,B),ye.touchedFields=n.touchedFields,G=G||d.touchedFields&&we!==B)}G&&Y&&h.state.next(ye)}return G?ye:{}},C=(O,L,B,Z)=>{const Y=J(n.errors,O),G=d.isValid&&Bn(L)&&n.isValid!==L;if(t.delayError&&B?(l=_(()=>T(O,B)),l(t.delayError)):(clearTimeout(c),l=null,B?Fe(n.errors,O,B):pt(n.errors,O)),(B?!Ui(Y,B):Y)||!hn(Z)||G){const ue={...Z,...G&&Bn(L)?{isValid:L}:{},errors:n.errors,name:O};n={...n,...ue},h.state.next(ue)}},x=async O=>{w(O,!0);const L=await e.resolver(s,e.context,d8(O||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(O),L},b=async O=>{const{errors:L}=await x(O);if(O)for(const B of O){const Z=J(L,B);Z?Fe(n.errors,B,Z):pt(n.errors,B)}else n.errors=L;return L},P=async(O,L,B={valid:!0})=>{for(const Z in O){const Y=O[Z];if(Y){const{_f:G,...ue}=Y;if(G){const ye=a.array.has(G.name),Te=Y._f&&h8(Y._f);Te&&d.validatingFields&&w([Z],!0);const we=await fS(Y,s,v,e.shouldUseNativeValidation&&!L,ye);if(Te&&d.validatingFields&&w([Z]),we[G.name]&&(B.valid=!1,L))break;!L&&(J(we,G.name)?ye?a8(n.errors,we,G.name):Fe(n.errors,G.name,we[G.name]):pt(n.errors,G.name))}!hn(ue)&&await P(ue,L,B)}}return B.valid},V=()=>{for(const O of a.unMount){const L=J(r,O);L&&(L._f.refs?L._f.refs.every(B=>!Pm(B)):!Pm(L._f.ref))&&Ie(O)}a.unMount=new Set},N=(O,L)=>!t.disabled&&(O&&L&&Fe(s,O,L),!Ui(ne(),i)),R=(O,L,B)=>DN(O,a,{...o.mount?s:nt(L)?i:xr(O)?{[O]:L}:L},B,L),q=O=>op(J(o.mount?s:i,O,t.shouldUnregister?J(i,O,[]):[])),oe=(O,L,B={})=>{const Z=J(r,O);let Y=L;if(Z){const G=Z._f;G&&(!G.disabled&&Fe(s,O,jN(L,G)),Y=sf(G.ref)&&Zt(L)?"":L,MN(G.ref)?[...G.ref.options].forEach(ue=>ue.selected=Y.includes(ue.value)):G.refs?Rc(G.ref)?G.refs.length>1?G.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(Y)?!!Y.find(ye=>ye===ue.value):Y===ue.value)):G.refs[0]&&(G.refs[0].checked=!!Y):G.refs.forEach(ue=>ue.checked=ue.value===Y):Rw(G.ref)?G.ref.value="":(G.ref.value=Y,G.ref.type||h.values.next({name:O,values:{...s}})))}(B.shouldDirty||B.shouldTouch)&&M(O,Y,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&te(O)},ae=(O,L,B)=>{for(const Z in L){const Y=L[Z],G=`${O}.${Z}`,ue=J(r,G);(a.array.has(O)||lt(Y)||ue&&!ue._f)&&!Qs(Y)?ae(G,Y,B):oe(G,Y,B)}},ee=(O,L,B={})=>{const Z=J(r,O),Y=a.array.has(O),G=dn(L);Fe(s,O,G),Y?(h.array.next({name:O,values:{...s}}),(d.isDirty||d.dirtyFields)&&B.shouldDirty&&h.state.next({name:O,dirtyFields:bl(i,s),isDirty:N(O,G)})):Z&&!Z._f&&!Zt(G)?ae(O,G,B):oe(O,G,B),lS(O,a)&&h.state.next({...n}),h.values.next({name:o.mount?O:void 0,values:{...s}})},j=async O=>{o.mount=!0;const L=O.target;let B=L.name,Z=!0;const Y=J(r,B),G=()=>L.type?Rm(Y._f):AN(O),ue=ye=>{Z=Number.isNaN(ye)||Qs(ye)&&isNaN(ye.getTime())||Ui(ye,J(s,B,ye))};if(Y){let ye,Te;const we=G(),Qt=O.type===rf.BLUR||O.type===rf.FOCUS_OUT,Qn=!f8(Y._f)&&!e.resolver&&!J(n.errors,B)&&!Y._f.deps||p8(Qt,J(n.touchedFields,B),n.isSubmitted,m,f),Fr=lS(B,a,Qt);Fe(s,B,we),Qt?(Y._f.onBlur&&Y._f.onBlur(O),l&&l(0)):Y._f.onChange&&Y._f.onChange(O);const Ds=M(B,we,Qt,!1),fr=!hn(Ds)||Fr;if(!Qt&&h.values.next({name:B,type:O.type,values:{...s}}),Qn)return d.isValid&&(t.mode==="onBlur"?Qt&&E():E()),fr&&h.state.next({name:B,...Fr?{}:Ds});if(!Qt&&Fr&&h.state.next({...n}),e.resolver){const{errors:_i}=await x([B]);if(ue(we),Z){const So=mS(n.errors,r,B),pr=mS(_i,r,So.name||B);ye=pr.error,B=pr.name,Te=hn(_i)}}else w([B],!0),ye=(await fS(Y,s,v,e.shouldUseNativeValidation))[B],w([B]),ue(we),Z&&(ye?Te=!1:d.isValid&&(Te=await P(r,!0)));Z&&(Y._f.deps&&te(Y._f.deps),C(B,Te,ye,Ds))}},K=(O,L)=>{if(J(n.errors,L)&&O.focus)return O.focus(),1},te=async(O,L={})=>{let B,Z;const Y=fu(O);if(e.resolver){const G=await b(nt(O)?O:Y);B=hn(G),Z=O?!Y.some(ue=>J(G,ue)):B}else O?(Z=(await Promise.all(Y.map(async G=>{const ue=J(r,G);return await P(ue&&ue._f?{[G]:ue}:ue)}))).every(Boolean),!(!Z&&!n.isValid)&&E()):Z=B=await P(r);return h.state.next({...!xr(O)||d.isValid&&B!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:B}:{},errors:n.errors}),L.shouldFocus&&!Z&&pu(r,K,O?Y:a.mount),Z},ne=O=>{const L={...o.mount?s:i};return nt(O)?L:xr(O)?J(L,O):O.map(B=>J(L,B))},le=(O,L)=>({invalid:!!J((L||n).errors,O),isDirty:!!J((L||n).dirtyFields,O),error:J((L||n).errors,O),isValidating:!!J(n.validatingFields,O),isTouched:!!J((L||n).touchedFields,O)}),ce=O=>{O&&fu(O).forEach(L=>pt(n.errors,L)),h.state.next({errors:O?n.errors:{}})},Oe=(O,L,B)=>{const Z=(J(r,O,{_f:{}})._f||{}).ref,Y=J(n.errors,O)||{},{ref:G,message:ue,type:ye,...Te}=Y;Fe(n.errors,O,{...Te,...L,ref:Z}),h.state.next({name:O,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&Z&&Z.focus&&Z.focus()},rt=(O,L)=>Jr(O)?h.values.subscribe({next:B=>O(R(void 0,L),B)}):R(O,L,!0),Ie=(O,L={})=>{for(const B of O?fu(O):a.mount)a.mount.delete(B),a.array.delete(B),L.keepValue||(pt(r,B),pt(s,B)),!L.keepError&&pt(n.errors,B),!L.keepDirty&&pt(n.dirtyFields,B),!L.keepTouched&&pt(n.touchedFields,B),!L.keepIsValidating&&pt(n.validatingFields,B),!e.shouldUnregister&&!L.keepDefaultValue&&pt(i,B);h.values.next({values:{...s}}),h.state.next({...n,...L.keepDirty?{isDirty:N()}:{}}),!L.keepIsValid&&E()},ft=({disabled:O,name:L,field:B,fields:Z,value:Y})=>{if(Bn(O)&&o.mount||O){const G=O?void 0:nt(Y)?Rm(B?B._f:J(Z,L)._f):Y;Fe(s,L,G),M(L,G,!1,!1,!0)}},ln=(O,L={})=>{let B=J(r,O);const Z=Bn(L.disabled)||Bn(t.disabled);return Fe(r,O,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:O}},name:O,mount:!0,...L}}),a.mount.add(O),B?ft({field:B,disabled:Bn(L.disabled)?L.disabled:t.disabled,name:O,value:L.value}):D(O,!0,L.value),{...Z?{disabled:L.disabled||t.disabled}:{},...e.progressive?{required:!!L.required,min:Pl(L.min),max:Pl(L.max),minLength:Pl(L.minLength),maxLength:Pl(L.maxLength),pattern:Pl(L.pattern)}:{},name:O,onChange:j,onBlur:j,ref:Y=>{if(Y){ln(O,L),B=J(r,O);const G=nt(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,ue=c8(G),ye=B._f.refs||[];if(ue?ye.find(Te=>Te===G):G===B._f.ref)return;Fe(r,O,{_f:{...B._f,...ue?{refs:[...ye.filter(Pm),G,...Array.isArray(J(i,O))?[{}]:[]],ref:{type:G.type,name:O}}:{ref:G}}}),D(O,!1,void 0,G)}else B=J(r,O,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(IN(a.array,O)&&o.action)&&a.unMount.add(O)}}},_n=()=>e.shouldFocusError&&pu(r,K,a.mount),Gt=O=>{Bn(O)&&(h.state.next({disabled:O}),pu(r,(L,B)=>{const Z=J(r,B);Z&&(L.disabled=Z._f.disabled||O,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(Y=>{Y.disabled=Z._f.disabled||O}))},0,!1))},Vn=(O,L)=>async B=>{let Z;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let Y=dn(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:ue}=await x();n.errors=G,Y=ue}else await P(r);if(pt(n.errors,"root"),hn(n.errors)){h.state.next({errors:{}});try{await O(Y,B)}catch(G){Z=G}}else L&&await L({...n.errors},B),_n(),setTimeout(_n);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hn(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},On=(O,L={})=>{J(r,O)&&(nt(L.defaultValue)?ee(O,dn(J(i,O))):(ee(O,L.defaultValue),Fe(i,O,dn(L.defaultValue))),L.keepTouched||pt(n.touchedFields,O),L.keepDirty||(pt(n.dirtyFields,O),n.isDirty=L.defaultValue?N(O,dn(J(i,O))):N()),L.keepError||(pt(n.errors,O),d.isValid&&E()),h.state.next({...n}))},un=(O,L={})=>{const B=O?dn(O):i,Z=dn(B),Y=hn(O),G=Y?i:Z;if(L.keepDefaultValues||(i=B),!L.keepValues){if(L.keepDirtyValues){const ue=new Set([...a.mount,...Object.keys(bl(i,s))]);for(const ye of Array.from(ue))J(n.dirtyFields,ye)?Fe(G,ye,J(s,ye)):ee(ye,J(G,ye))}else{if(Iw&&nt(O))for(const ue of a.mount){const ye=J(r,ue);if(ye&&ye._f){const Te=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(sf(Te)){const we=Te.closest("form");if(we){we.reset();break}}}}r={}}s=t.shouldUnregister?L.keepDefaultValues?dn(i):{}:dn(G),h.array.next({values:{...G}}),h.values.next({values:{...G}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Ui(O,i)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:L.keepDirtyValues?L.keepDefaultValues&&s?bl(i,s):n.dirtyFields:L.keepDefaultValues&&O?bl(i,O):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Mn=(O,L)=>un(Jr(O)?O(s):O,L);return{control:{register:ln,unregister:Ie,getFieldState:le,handleSubmit:Vn,setError:Oe,_executeSchema:x,_getWatch:R,_getDirty:N,_updateValid:E,_removeUnmounted:V,_updateFieldArray:y,_updateDisabledField:ft,_getFieldArray:q,_reset:un,_resetDefaultValues:()=>Jr(e.defaultValues)&&e.defaultValues().then(O=>{Mn(O,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:Gt,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return a},set _names(O){a=O},get _formState(){return n},set _formState(O){n=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:te,register:ln,handleSubmit:Vn,watch:rt,setValue:ee,getValues:ne,reset:Mn,resetField:On,clearErrors:ce,unregister:Ie,setError:Oe,setFocus:(O,L={})=>{const B=J(r,O),Z=B&&B._f;if(Z){const Y=Z.refs?Z.refs[0]:Z.ref;Y.focus&&(Y.focus(),L.shouldSelect&&Y.select())}},getFieldState:le}}function v8(t={}){const e=W.useRef(),n=W.useRef(),[r,i]=W.useState({isDirty:!1,isValidating:!1,isLoading:Jr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Jr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...y8(t),formState:r});const s=e.current.control;return s._options=t,Pw({subject:s._subjects.state,next:o=>{kN(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),W.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),W.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),W.useEffect(()=>{t.values&&!Ui(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),W.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),W.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),W.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),W.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=RN(r,s),e.current}var w8="Label",UN=A.forwardRef((t,e)=>S.jsx(an.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));UN.displayName=w8;var BN=UN;const _8=Lv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$N=A.forwardRef(({className:t,...e},n)=>S.jsx(BN,{ref:n,className:ht(_8(),t),...e}));$N.displayName=BN.displayName;const E8=t8,zN=A.createContext({}),Sd=({...t})=>S.jsx(zN.Provider,{value:{name:t.name},children:S.jsx(s8,{...t})}),lp=()=>{const t=A.useContext(zN),e=A.useContext(WN),{getFieldState:n,formState:r}=ap(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},WN=A.createContext({}),Wl=A.forwardRef(({className:t,...e},n)=>{const r=A.useId();return S.jsx(WN.Provider,{value:{id:r},children:S.jsx("div",{ref:n,className:ht("space-y-2",t),...e})})});Wl.displayName="FormItem";const Hl=A.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=lp();return S.jsx($N,{ref:n,className:ht(r&&"text-destructive",t),htmlFor:i,...e})});Hl.displayName="FormLabel";const ql=A.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=lp();return S.jsx(Pa,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});ql.displayName="FormControl";const T8=A.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=lp();return S.jsx("p",{ref:n,id:r,className:ht("text-sm text-muted-foreground",t),...e})});T8.displayName="FormDescription";const x8=A.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=lp(),o=i?String(i==null?void 0:i.message):e;return o?S.jsx("p",{ref:r,id:s,className:ht("text-sm font-medium text-destructive",t),...n,children:o}):null});x8.displayName="FormMessage";const HN=A.createContext({userId:"",userName:"SAP",userRoles:[],usercpf:"",userEmail:"",updateUser:async()=>{}}),S8=({children:t})=>{const[e,n]=A.useState(""),[r,i]=A.useState("SAP"),[s,o]=A.useState([]),[a,l]=A.useState(""),[c,d]=A.useState(""),h=VR(),f=async m=>{try{const _=Yg().currentUser;if(_){const E=da(h,"usuarios",_.uid);await WR(E,{NomeCompleto:m.userName,email:m.userEmail,cpf:m.usercpf}),i(m.userName),d(m.userEmail),l(m.usercpf)}}catch(v){throw console.error("Erro ao atualizar dados do usuário:",v),v}};return A.useEffect(()=>{const m=Yg();$5(m,async v=>{if(v)try{const _=da(h,"usuarios",v.uid),E=await Bx(_);if(E.exists()){const C=E.data();C&&(C.NomeCompleto&&i(C.NomeCompleto),C.cpf&&l(C.cpf),C.email&&d(C.email),C.id&&n(C.id))}const w=Ku(h,"usuario_cargo"),y=Gu(w,ha("usuario_id","==",v.uid)),D=(await Qu(y)).docs.map(C=>C.data().cargo_id).filter(C=>C!==void 0).map(async C=>{const x=da(h,"cargos",C),b=await Bx(x);if(b.exists()){const P=b.data();if(P&&P.nome)return P.nome||null}return null}),M=await Promise.all(D);o(M.filter(C=>C!==null))}catch(_){console.error("Erro ao buscar dados do usuário:",_)}else n(""),i("SAP"),o([]),l(""),d("")})},[]),S.jsx(HN.Provider,{value:{userId:e,userName:r,userRoles:s,usercpf:a,userEmail:c,updateUser:f},children:t})},C8=()=>A.useContext(HN);function A8(){const t=hc(),[e,n]=A.useState("perfil"),{userRoles:r,userName:i,userEmail:s,usercpf:o,updateUser:a}=C8(),{toast:l}=Sf(),c=v8({defaultValues:{nome:i,email:s,cargos:r,cpf:o}}),d=async h=>{console.log("Form submitted:",h);try{await a({userName:h.nome,userEmail:h.email,usercpf:h.cpf}),l({title:"Perfil atualizado com sucesso!",className:"bg-green-500 text-white"})}catch(f){console.error("Erro ao atualizar o perfil:",f),l({title:"Erro ao atualizar o perfil. Tente novamente.",variant:"destructive"})}};return S.jsx("div",{className:"container mx-auto py-6 px-4 md:px-6",children:S.jsxs(Aw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[S.jsxs("div",{className:"flex items-center mb-6 cursor-pointer",onClick:()=>t("/TelaInicial"),children:[S.jsx(UO,{className:"mr-2 text-tribunal-blue",size:24}),S.jsx("h1",{className:"text-3xl font-bold text-tribunal-blue",children:"Configurações"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[S.jsx(Oy,{className:"md:col-span-3 shadow-md",children:S.jsx(My,{className:"p-0",children:S.jsxs("nav",{className:"flex flex-col",children:[[{id:"perfil",label:"Perfil",icon:S.jsx(mI,{size:18})},{id:"conta",label:"Conta",icon:S.jsx(Fv,{size:18})},{id:"admin",label:"Área de administrador",icon:S.jsx(GO,{size:18})}].map(h=>S.jsxs("button",{className:`flex items-center gap-3 p-4 text-left transition-colors hover:bg-gray-100 ${e===h.id?"bg-tribunal-gold/10 text-tribunal-gold border-l-4 border-tribunal-gold":"text-gray-700"}`,onClick:()=>n(h.id),children:[h.icon,S.jsx("span",{children:h.label})]},h.id)),S.jsxs("button",{className:"flex items-center gap-3 p-4 text-left text-red-500 hover:bg-red-50 mt-auto border-t",children:[S.jsx(qO,{size:18}),S.jsx("span",{children:"Sair"})]})]})})}),S.jsxs(Oy,{className:"md:col-span-9 shadow-md",children:[S.jsx(xN,{children:S.jsxs(SN,{className:"text-2xl text-tribunal-blue",children:[e==="perfil"&&"Informações de Perfil",e==="conta"&&"Configurações de Conta",e==="seguranca"&&"Segurança",e==="admin"&&"Área de administrador"]})}),S.jsx(My,{children:S.jsx(E8,{...c,children:S.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[e==="perfil"&&S.jsx(S.Fragment,{children:S.jsx("div",{className:"flex flex-col sm:flex-row gap-6 items-start",children:S.jsx("div",{className:"flex-1 space-y-4",children:S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S.jsx(Sd,{control:c.control,name:"nome",render:({field:h})=>S.jsxs(Wl,{children:[S.jsx(Hl,{children:"Nome completo"}),S.jsx(ql,{children:S.jsx($l,{...h})})]})}),S.jsx(Sd,{control:c.control,name:"cpf",render:({field:h})=>S.jsxs(Wl,{children:[S.jsx(Hl,{children:"CPF"}),S.jsx(ql,{children:S.jsx($l,{...h})})]})}),S.jsx(Sd,{control:c.control,name:"email",render:({field:h})=>S.jsxs(Wl,{children:[S.jsx(Hl,{children:"Email"}),S.jsx(ql,{children:S.jsx($l,{...h,type:"email"})})]})}),S.jsx(Sd,{control:c.control,name:"cargos",render:({field:h})=>S.jsxs(Wl,{children:[S.jsx(Hl,{children:"Cargos"}),S.jsx(ql,{children:S.jsx($l,{...h,value:r.join(", "),disabled:!0})})]})})]})})})}),e==="conta"&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"rounded-lg border p-4",children:[S.jsx("div",{className:"font-medium",children:"Alterar senha"}),S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Receba um e-mail para alterar sua senha."}),S.jsx(zl,{variant:"outline",children:"Alterar senha"})]})}),e==="admin"&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"rounded-lg border p-4",children:[S.jsx("div",{className:"font-medium",children:"Cargos"}),S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Área para edição e inclusão de cargos."}),S.jsx(zl,{variant:"outline",children:"Cargos"})]}),S.jsxs("div",{className:"rounded-lg border p-4",children:[S.jsx("div",{className:"font-medium",children:"Gerar Token"}),S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Gere um Token para um novo cadastro."}),S.jsx(zl,{variant:"outline",children:"Gerar Token"})]})]}),S.jsx("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:S.jsx(zl,{type:"submit",className:"bg-tribunal-gold hover:bg-tribunal-gold/90",children:"Salvar alterações"})})]})})})]})]})]})})}const I8=()=>S.jsx("div",{children:S.jsx("h1",{children:"Painel"})}),b8=new tj,P8=()=>S.jsx(S8,{children:S.jsx(rj,{client:b8,children:S.jsxs(NF,{children:[S.jsx(RM,{}),S.jsx(sL,{}),S.jsx(Zj,{children:S.jsxs(qj,{children:[S.jsx(Ri,{path:"/",element:S.jsx(Wj,{to:"/login",replace:!0})}),S.jsx(Ri,{path:"/login",element:S.jsx(dz,{})}),S.jsx(Ri,{path:"/cadastrar",element:S.jsx(hz,{})}),S.jsx(Ri,{path:"/telaInicial",element:S.jsx(QH,{})}),S.jsx(Ri,{path:"/configuracoes",element:S.jsx(A8,{})}),S.jsx(Ri,{path:"/painel",element:S.jsx(I8,{})}),S.jsx(Ri,{path:"*",element:S.jsx(fz,{})})]})})]})})});FA(document.getElementById("root")).render(S.jsx(P8,{}));
