import{j as e,u as Te,m as Le,r as c,M as Ve,y as Je,z as X,E as M}from"./vendor-others-CnHLUX9e.js";import{S as We,H as Qe}from"./Sidebar-CqIm_DoL.js";import{S as qe}from"./switch-oJ7sErcF.js";import{B as Ye,I as Ke,C as Fe}from"./BreadcrumbNav-UyBSKmYg.js";import{B as E}from"./button-CHAtIAMY.js";import{I as u}from"./input-CzX8_0F_.js";import{L as p}from"./label-PSaLDb4s.js";import{b as Xe,t as ge}from"./main-1fmfMNLN.js";import{D as Ze,a as _e,b as eo,c as oo,d as ao,S as k}from"./dialog-HvNPYylC.js";import{a as io}from"./vendor-lucide-0MdzRPOT.js";import"./vendor-firebase-CsHq2m9l.js";import"./vendor-react-query-BsC494l1.js";const Z=({checked:h,onCheckedChange:r,label:I})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{checked:h,onCheckedChange:r,className:"tcmgo-switch",children:e.jsx("span",{className:"tcmgo-switch-thumb"})}),I&&e.jsx("span",{className:"text-sm",children:I})]}),so=[{nome:"Abadia de Goiás",codigo:"5200050"},{nome:"Abadiânia",codigo:"5200100"},{nome:"Acreúna",codigo:"5200134"},{nome:"Adelândia",codigo:"5200159"},{nome:"Água Fria de Goiás",codigo:"5200175"},{nome:"Água Limpa",codigo:"5200209"},{nome:"Águas Lindas de Goiás",codigo:"5200258"},{nome:"Alexânia",codigo:"5200308"},{nome:"Aloândia",codigo:"5200506"},{nome:"Alto Horizonte",codigo:"5200555"},{nome:"Alto Paraíso de Goiás",codigo:"5200605"},{nome:"Alvorada do Norte",codigo:"5200803"},{nome:"Amaralina",codigo:"5200829"},{nome:"Americano do Brasil",codigo:"5200852"},{nome:"Amorinópolis",codigo:"5200902"},{nome:"Anápolis",codigo:"5201108"},{nome:"Anhanguera",codigo:"5201207"},{nome:"Anicuns",codigo:"5201306"},{nome:"Aparecida de Goiânia",codigo:"5201405"},{nome:"Aparecida do Rio Doce",codigo:"5201454"},{nome:"Aporé",codigo:"5201504"},{nome:"Araçu",codigo:"5201603"},{nome:"Aragarças",codigo:"5201702"},{nome:"Aragoiânia",codigo:"5201801"},{nome:"Araguapaz",codigo:"5202155"},{nome:"Arenópolis",codigo:"5202353"},{nome:"Aruanã",codigo:"5202502"},{nome:"Aurilândia",codigo:"5202601"},{nome:"Avelinópolis",codigo:"5202809"},{nome:"Baliza",codigo:"5203104"},{nome:"Barro Alto",codigo:"5203203"},{nome:"Bela Vista de Goiás",codigo:"5203302"},{nome:"Bom Jardim de Goiás",codigo:"5203401"},{nome:"Bom Jesus de Goiás",codigo:"5203500"},{nome:"Bonfinópolis",codigo:"5203559"},{nome:"Bonópolis",codigo:"5203575"},{nome:"Brazabrantes",codigo:"5203609"},{nome:"Britânia",codigo:"5203807"},{nome:"Buriti Alegre",codigo:"5203906"},{nome:"Buriti de Goiás",codigo:"5203939"},{nome:"Buritinópolis",codigo:"5203962"},{nome:"Cabeceiras",codigo:"5204003"},{nome:"Cachoeira Alta",codigo:"5204102"},{nome:"Cachoeira Dourada",codigo:"5204250"},{nome:"Cachoeira de Goiás",codigo:"5204201"},{nome:"Caçu",codigo:"5204300"},{nome:"Caiapônia",codigo:"5204409"},{nome:"Caldas Novas",codigo:"5204508"},{nome:"Caldazinha",codigo:"5204557"},{nome:"Campestre de Goiás",codigo:"5204607"},{nome:"Campinaçu",codigo:"5204656"},{nome:"Campinorte",codigo:"5204706"},{nome:"Campo Alegre de Goiás",codigo:"5204805"},{nome:"Campo Limpo de Goiás",codigo:"5204854"},{nome:"Campos Belos",codigo:"5204904"},{nome:"Campos Verdes",codigo:"5204953"},{nome:"Carmo do Rio Verde",codigo:"5205000"},{nome:"Castelândia",codigo:"5205059"},{nome:"Catalão",codigo:"5205109"},{nome:"Caturaí",codigo:"5205208"},{nome:"Cavalcante",codigo:"5205307"},{nome:"Ceres",codigo:"5205406"},{nome:"Cezarina",codigo:"5205455"},{nome:"Chapadão do Céu",codigo:"5205471"},{nome:"Cidade Ocidental",codigo:"5205497"},{nome:"Cocalzinho de Goiás",codigo:"5205513"},{nome:"Colinas do Sul",codigo:"5205521"},{nome:"Córrego do Ouro",codigo:"5205703"},{nome:"Corumbá de Goiás",codigo:"5205802"},{nome:"Corumbaíba",codigo:"5205901"},{nome:"Cristalina",codigo:"5206206"},{nome:"Cristianópolis",codigo:"5206305"},{nome:"Crixás",codigo:"5206404"},{nome:"Cromínia",codigo:"5206503"},{nome:"Cumari",codigo:"5206602"},{nome:"Damianópolis",codigo:"5206701"},{nome:"Damolândia",codigo:"5206800"},{nome:"Davinópolis",codigo:"5206909"},{nome:"Diorama",codigo:"5207105"},{nome:"Divinópolis de Goiás",codigo:"5208301"},{nome:"Doverlândia",codigo:"5207253"},{nome:"Edealina",codigo:"5207352"},{nome:"Edéia",codigo:"5207402"},{nome:"Estrela do Norte",codigo:"5207501"},{nome:"Faina",codigo:"5207535"},{nome:"Fazenda Nova",codigo:"5207600"},{nome:"Firminópolis",codigo:"5207808"},{nome:"Flores de Goiás",codigo:"5207907"},{nome:"Formosa",codigo:"5208004"},{nome:"Formoso",codigo:"5208103"},{nome:"Gameleira de Goiás",codigo:"5208152"},{nome:"Goianápolis",codigo:"5208400"},{nome:"Goiandira",codigo:"5208509"},{nome:"Goianésia",codigo:"5208608"},{nome:"Goiânia",codigo:"5208707"},{nome:"Goianira",codigo:"5208806"},{nome:"Goiás",codigo:"5208905"},{nome:"Goiatuba",codigo:"5209101"},{nome:"Gouvelândia",codigo:"5209150"},{nome:"Guapó",codigo:"5209200"},{nome:"Guaraíta",codigo:"5209291"},{nome:"Guarani de Goiás",codigo:"5209408"},{nome:"Guarinos",codigo:"5209457"},{nome:"Heitoraí",codigo:"5209606"},{nome:"Hidrolândia",codigo:"5209705"},{nome:"Hidrolina",codigo:"5209804"},{nome:"Iaciara",codigo:"5209903"},{nome:"Inaciolândia",codigo:"5209937"},{nome:"Indiara",codigo:"5209952"},{nome:"Inhumas",codigo:"5210000"},{nome:"Ipameri",codigo:"5210109"},{nome:"Ipiranga de Goiás",codigo:"5210158"},{nome:"Iporá",codigo:"5210208"},{nome:"Israelândia",codigo:"5210307"},{nome:"Itaberaí",codigo:"5210406"},{nome:"Itaguari",codigo:"5210562"},{nome:"Itaguaru",codigo:"5210604"},{nome:"Itajá",codigo:"5210802"},{nome:"Itapaci",codigo:"5210901"},{nome:"Itapirapuã",codigo:"5211008"},{nome:"Itapuranga",codigo:"5211206"},{nome:"Itarumã",codigo:"5211305"},{nome:"Itauçu",codigo:"5211404"},{nome:"Itumbiara",codigo:"5211503"},{nome:"Ivolândia",codigo:"5211602"},{nome:"Jandaia",codigo:"5211701"},{nome:"Jaraguá",codigo:"5211800"},{nome:"Jataí",codigo:"5211909"},{nome:"Jaupaci",codigo:"5212006"},{nome:"Jesúpolis",codigo:"5212055"},{nome:"Joviânia",codigo:"5212105"},{nome:"Jussara",codigo:"5212204"},{nome:"Lagoa Santa",codigo:"5212253"},{nome:"Leopoldo de Bulhões",codigo:"5212303"},{nome:"Luziânia",codigo:"5212501"},{nome:"Mairipotaba",codigo:"5212600"},{nome:"Mambaí",codigo:"5212709"},{nome:"Mara Rosa",codigo:"5212808"},{nome:"Marzagão",codigo:"5212907"},{nome:"Matrinchã",codigo:"5212956"},{nome:"Maurilândia",codigo:"5213004"},{nome:"Mimoso de Goiás",codigo:"5213053"},{nome:"Minaçu",codigo:"5213087"},{nome:"Mineiros",codigo:"5213103"},{nome:"Moiporá",codigo:"5213400"},{nome:"Monte Alegre de Goiás",codigo:"5213509"},{nome:"Montes Claros de Goiás",codigo:"5213707"},{nome:"Montividiu",codigo:"5213756"},{nome:"Montividiu do Norte",codigo:"5213772"},{nome:"Morrinhos",codigo:"5213806"},{nome:"Morro Agudo de Goiás",codigo:"5213855"},{nome:"Mossâmedes",codigo:"5213905"},{nome:"Mozarlândia",codigo:"5214002"},{nome:"Mundo Novo",codigo:"5214051"},{nome:"Mutunópolis",codigo:"5214101"},{nome:"Nazário",codigo:"5214408"},{nome:"Nerópolis",codigo:"5214507"},{nome:"Niquelândia",codigo:"5214606"},{nome:"Nova América",codigo:"5214705"},{nome:"Nova Aurora",codigo:"5214804"},{nome:"Nova Crixás",codigo:"5214838"},{nome:"Nova Glória",codigo:"5214861"},{nome:"Nova Iguaçu de Goiás",codigo:"5214879"},{nome:"Nova Roma",codigo:"5214903"},{nome:"Nova Veneza",codigo:"5215009"},{nome:"Novo Brasil",codigo:"5215207"},{nome:"Novo Gama",codigo:"5215231"},{nome:"Novo Planalto",codigo:"5215256"},{nome:"Orizona",codigo:"5215306"},{nome:"Ouro Verde de Goiás",codigo:"5215405"},{nome:"Ouvidor",codigo:"5215504"},{nome:"Padre Bernardo",codigo:"5215603"},{nome:"Palestina de Goiás",codigo:"5215652"},{nome:"Palmeiras de Goiás",codigo:"5215702"},{nome:"Palmelo",codigo:"5215801"},{nome:"Palminópolis",codigo:"5215900"},{nome:"Panamá",codigo:"5216007"},{nome:"Paranaiguara",codigo:"5216304"},{nome:"Paraúna",codigo:"5216403"},{nome:"Perolândia",codigo:"5216452"},{nome:"Petrolina de Goiás",codigo:"5216809"},{nome:"Pilar de Goiás",codigo:"5216908"},{nome:"Piracanjuba",codigo:"5217104"},{nome:"Piranhas",codigo:"5217203"},{nome:"Pirenópolis",codigo:"5217302"},{nome:"Pires do Rio",codigo:"5217401"},{nome:"Planaltina",codigo:"5217609"},{nome:"Pontalina",codigo:"5217708"},{nome:"Porangatu",codigo:"5218003"},{nome:"Porteirão",codigo:"5218052"},{nome:"Portelândia",codigo:"5218102"},{nome:"Posse",codigo:"5218300"},{nome:"Professor Jamil",codigo:"5218391"},{nome:"Quirinópolis",codigo:"5218508"},{nome:"Rialma",codigo:"5218607"},{nome:"Rianápolis",codigo:"5218706"},{nome:"Rio Quente",codigo:"5218789"},{nome:"Rio Verde",codigo:"5218805"},{nome:"Rubiataba",codigo:"5218904"},{nome:"Sanclerlândia",codigo:"5219001"},{nome:"Santa Bárbara de Goiás",codigo:"5219100"},{nome:"Santa Cruz de Goiás",codigo:"5219209"},{nome:"Santa Fé de Goiás",codigo:"5219258"},{nome:"Santa Helena de Goiás",codigo:"5219308"},{nome:"Santa Isabel",codigo:"5219357"},{nome:"Santa Rita do Araguaia",codigo:"5219407"},{nome:"Santa Rita do Novo Destino",codigo:"5219456"},{nome:"Santa Rosa de Goiás",codigo:"5219506"},{nome:"Santa Tereza de Goiás",codigo:"5219605"},{nome:"Santa Terezinha de Goiás",codigo:"5219704"},{nome:"Santo Antônio da Barra",codigo:"5219712"},{nome:"Santo Antônio de Goiás",codigo:"5219738"},{nome:"Santo Antônio do Descoberto",codigo:"5219753"},{nome:"São Domingos",codigo:"5219803"},{nome:"São Francisco de Goiás",codigo:"5219902"},{nome:"São João d'Aliança",codigo:"5220009"},{nome:"São João da Paraúna",codigo:"5220058"},{nome:"São Luís de Montes Belos",codigo:"5220108"},{nome:"São Luiz do Norte",codigo:"5220157"},{nome:"São Miguel do Araguaia",codigo:"5220207"},{nome:"São Miguel do Passa Quatro",codigo:"5220264"},{nome:"São Patrício",codigo:"5220280"},{nome:"São Simão",codigo:"5220405"},{nome:"Senador Canedo",codigo:"5220454"},{nome:"Serranópolis",codigo:"5220504"},{nome:"Silvânia",codigo:"5220603"},{nome:"Simolândia",codigo:"5220686"},{nome:"Sítio d'Abadia",codigo:"5220702"},{nome:"Taquaral de Goiás",codigo:"5221007"},{nome:"Teresina de Goiás",codigo:"5221080"},{nome:"Terezópolis de Goiás",codigo:"5221197"},{nome:"Três Ranchos",codigo:"5221304"},{nome:"Trindade",codigo:"5221403"},{nome:"Trombas",codigo:"5221452"},{nome:"Turvânia",codigo:"5221502"},{nome:"Turvelândia",codigo:"5221551"},{nome:"Uirapuru",codigo:"5221577"},{nome:"Uruaçu",codigo:"5221601"},{nome:"Uruana",codigo:"5221700"},{nome:"Urutaí",codigo:"5221809"},{nome:"Valparaíso de Goiás",codigo:"5221858"},{nome:"Varjão",codigo:"5221908"},{nome:"Vianópolis",codigo:"5222005"},{nome:"Vicentinópolis",codigo:"5222054"},{nome:"Vila Boa",codigo:"5222203"},{nome:"Vila Propício",codigo:"5222302"}],y=h=>{if(!h)return"";const r=h.replace(/\D/g,"");return r.length<=3?r:r.length<=6?`${r.slice(0,3)}.${r.slice(3)}`:r.length<=9?`${r.slice(0,3)}.${r.slice(3,6)}.${r.slice(6)}`:`${r.slice(0,3)}.${r.slice(3,6)}.${r.slice(6,9)}-${r.slice(9,11)}`},$=h=>h?h.replace(/\D/g,""):"",Co=()=>{const h=Te();Le();const[r,I]=c.useState(!1),[D,ue]=c.useState(!1),[G,_]=c.useState(null),[Me,pe]=c.useState(!1),ee=c.useRef(null),{municipio:m,setMunicipio:he,anoProcesso:ke,setAnoProcesso:xe,responsaveis:x,setResponsaveis:b,numeroProcesso:fe}=Xe(),[Ce,H]=c.useState([]),[ve,z]=c.useState([]),[Ne,O]=c.useState([]),[je,B]=c.useState([]),[U,S]=c.useState(new Set),$e=()=>{I(!r)},[T,F]=c.useState(""),[be,Pe]=c.useState(!1),[we,Re]=c.useState(!1),[oe,ae]=c.useState(""),[ie,se]=c.useState(""),[ne,ce]=c.useState(""),[f,P]=c.useState({nome:"",cpf:"",incluido:!1}),[C,j]=c.useState({nome:"",cpf:"",incluido:!1}),[v,w]=c.useState({nome:"",cpf:"",incluido:!1}),[N,R]=c.useState({nome:"",cpf:"",incluido:!1}),Ae=c.useCallback(async(o,a)=>{ue(!0),_(null),P({nome:"",cpf:"",incluido:!1}),j({nome:"",cpf:"",incluido:!1}),w({nome:"",cpf:"",incluido:!1}),R({nome:"",cpf:"",incluido:!1}),H([]),z([]),O([]),B([]);const n=s=>{if(!s)return null;const d=s.split("/");if(d.length===3){const t=parseInt(d[0],10),g=parseInt(d[1],10)-1,l=parseInt(d[2],10);if(!isNaN(t)&&!isNaN(g)&&!isNaN(l)&&g>=0&&g<=11&&t>=1&&t<=31)return new Date(Date.UTC(l,g,t))}return console.warn(`Invalid date format encountered: ${s}`),null};try{const s=await fetch(`/api/passaporte/${o}/representacoes`);if(!s.ok)throw new Error(`Erro na API: ${s.status} ${s.statusText}`);const d=await s.json(),t=new Date;t.setUTCHours(0,0,0,0);const g=[],l=[];d.forEach(i=>{const A=n(i.dataInicioRepresentacao),K=n(i.dataFinalRepresentacao);A&&A<=t?!K||K>=t?g.push(i):l.push(i):A&&A>t?K&&K<t&&l.push(i):console.warn(`Skipping representation due to invalid start date: ID ${i.idRepresentacao}, StartDate: ${i.dataInicioRepresentacao}`)});const W=new Map;g.forEach(i=>W.set(`${i.numeroCPF}-${i.representacao}`,i));const Q=l.filter(i=>!W.has(`${i.numeroCPF}-${i.representacao}`)),re=i=>g.find(A=>A.representacao.toUpperCase()===i.toUpperCase()),de=re("PRESIDENTE DA CÂMARA");de&&P(i=>({...i,nome:de.representante,cpf:de.numeroCPF,incluido:!1}));const te=re("PREFEITO");if(te)j(i=>({...i,nome:te.representante,cpf:te.numeroCPF,incluido:!1}));else{const i=re("PREFEITA");i&&j(A=>({...A,nome:i.representante,cpf:i.numeroCPF,incluido:!1}))}const ye=a.toUpperCase(),Ie=`CÂMARA DE ${ye}`,Ge=`PREFEITURA DE ${ye}`,q="CHEFE DE RECURSOS HUMANOS / FOLHA DE PAGAMENTO",me=g.find(i=>i.representacao.toUpperCase()===q&&i.unidadeGestoraRepresentada.toUpperCase()===Ie);me&&w(i=>({...i,nome:me.representante,cpf:me.numeroCPF,incluido:!1}));const le=g.find(i=>i.representacao.toUpperCase()===q&&i.unidadeGestoraRepresentada.toUpperCase()===Ge);le&&R(i=>({...i,nome:le.representante,cpf:le.numeroCPF,incluido:!1}));const Y=i=>({id:i.idRepresentacao,nome:i.representante,cpf:i.numeroCPF,cargo:i.representacao,dataInicio:i.dataInicioRepresentacao,dataFim:i.dataFinalRepresentacao});H(Q.filter(i=>i.representacao.toUpperCase()==="PRESIDENTE DA CÂMARA").map(Y)),z(Q.filter(i=>i.representacao.toUpperCase()==="PREFEITO"||i.representacao.toUpperCase()==="PREFEITA").map(Y)),O(Q.filter(i=>i.representacao.toUpperCase()===q&&i.unidadeGestoraRepresentada.toUpperCase()===Ie).map(Y)),B(Q.filter(i=>i.representacao.toUpperCase()===q&&i.unidadeGestoraRepresentada.toUpperCase()===Ge).map(Y)),ee.current=o}catch(s){console.error("Erro ao buscar responsáveis:",s),_(s instanceof Error?s.message:"Erro desconhecido ao buscar dados."),ge({title:"Erro de API",description:`Não foi possível buscar os responsáveis: ${s instanceof Error?s.message:"Erro desconhecido."}`,variant:"destructive"})}finally{ue(!1)}},[b,ge]);c.useEffect(()=>{m&&m.codigo&&m.nome?m.codigo!==ee.current&&Ae(m.codigo,m.nome):(P({nome:"",cpf:"",incluido:!1}),j({nome:"",cpf:"",incluido:!1}),w({nome:"",cpf:"",incluido:!1}),R({nome:"",cpf:"",incluido:!1}),H([]),z([]),O([]),B([]),S(new Set),ee.current=null)},[m,Ae]),c.useEffect(()=>{const o=new Set;x.forEach(a=>{var s;const n=a;n.id&&((s=n.cargo)!=null&&s.startsWith("Ex-"))&&o.add(n.id)}),S(o)},[x]),c.useEffect(()=>{m&&m.nome?F(m.nome):F("")},[m]);const Ee=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Se=so.filter(o=>Ee(o.nome).includes(Ee(T))),L=(o,a,n,s)=>{const{nome:d,cpf:t}=o;if(a({...o,incluido:s}),s)if(d.trim()&&t.trim()){if(!x.some(l=>l.cargo===n&&l.cpf===t.trim())){const l={nome:d.trim(),cpf:t.trim(),cargo:n};b(W=>[...W,l])}}else console.warn(`Preencha Nome e CPF para incluir ${n}.`),a({...o,incluido:!1});else o.nome,b(g=>g.filter(l=>!(l.cargo===n&&l.cpf===t.trim())))},V=o=>{const a=`Ex-${o.cargo}`;x.some(s=>{const d=s;return d.id===o.id&&d.cargo===a})?console.warn(`${o.nome} (${a}) já está na lista.`):(b(s=>[...s,{id:o.id,nome:o.nome,cpf:o.cpf,cargo:a}]),S(s=>new Set(s).add(o.id)))},J=(o,a)=>{b(n=>n.filter(s=>{const d=s;return!(d.id===o&&d.cargo===a)})),S(n=>{const s=new Set(n);return s.delete(o),s}),x.find(n=>{const s=n;return s.id===o&&s.cargo===a})},De=()=>{if(oe.trim()&&ie.trim()&&ne.trim()){const o={nome:oe.trim(),cpf:ie.trim(),cargo:ne.trim()};x.some(a=>a.nome===o.nome&&a.cpf===o.cpf&&a.cargo===o.cargo)?console.warn("Responsável já incluído."):(b([...x,o]),ae(""),se(""),ce(""))}else console.warn("Preencha Nome, CPF e Cargo para incluir outro responsável.")};x.filter(o=>{var a;return!["Presidente da Câmara","Prefeito(a)","Chefe RH Câmara","Chefe RH Prefeitura"].includes(o.cargo||"")&&!((a=o.cargo)!=null&&a.startsWith("Ex-"))});const He=o=>{var a;switch(b(n=>n.filter(s=>!(s.cpf===o.cpf&&s.cargo===o.cargo))),(a=o.cargo)!=null&&a.startsWith("Ex-")&&o.id&&S(n=>{const s=new Set(n);return s.delete(o.id),s}),o.cargo){case"Presidente da Câmara":P(n=>({...n,incluido:!1}));break;case"Prefeito(a)":j(n=>({...n,incluido:!1}));break;case"Chefe RH Câmara":w(n=>({...n,incluido:!1}));break;case"Chefe RH Prefeitura":R(n=>({...n,incluido:!1}));break}},ze=()=>{he({nome:"",codigo:""}),xe(""),b([]),F(""),Pe(!1),Re(!1),ae(""),se(""),ce(""),P({nome:"",cpf:"",incluido:!1}),j({nome:"",cpf:"",incluido:!1}),w({nome:"",cpf:"",incluido:!1}),R({nome:"",cpf:"",incluido:!1}),H([]),z([]),O([]),B([]),S(new Set),_(null),pe(!1),ge({title:"Tela Limpa",description:"Todos os campos foram redefinidos."})},Oe=()=>{ze()},Be=()=>{h("/telaInicial")},Ue=()=>{h("/TratamentoLeis")};return e.jsx("div",{className:"analise-theme flex min-h-screen flex-col bg-gray-50",children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(We,{isOpen:r,setIsOpen:I}),e.jsxs("div",{className:`transition-all duration-300 ${r?"ml-64":"ml-0"}`,children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(Qe,{toggleSidebar:$e})}),e.jsx(Ye,{currentPage:"Município e Responsáveis",sidebarOpen:r}),e.jsx("main",{className:"min-h-screen bg-pattern bg-gray-100 py-8 px-4 ",children:e.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-lg shadow-md overflow-hidden ",children:e.jsxs("div",{className:"p-6 ",children:[e.jsx("div",{className:"mt-[-20px] flex justify-end",children:e.jsx(Ke,{onEraseClick:Oe,onBackClick:Be,onNextClick:Ue})}),e.jsx("div",{className:"relative mb-8 text-primary text-center",children:e.jsxs("h1",{className:"text-2xl font-bold text-center mb-4 mt-[-20px]",children:["Município e Responsáveis ",fe&&`(${fe})`]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 mb-6",children:[" ",e.jsxs("div",{children:[e.jsx(p,{htmlFor:"municipio",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Município"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{id:"municipio",placeholder:"Selecione um município",value:T,onChange:o=>F(o.target.value),className:"pl-10 border-gray-300"}),e.jsx(Ve,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",style:{transform:"translateY(4px)"}}),T&&T!==(m==null?void 0:m.nome)&&Se.length>0&&!D&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:Se.map(o=>e.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{he({nome:o.nome,codigo:o.codigo}),F(o.nome)},children:o.nome},o.codigo))}),D&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),G&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:G})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"periodoProcesso",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Período:"}),e.jsx(u,{type:"text",id:"periodoProcesso",placeholder:"Período",value:ke,onChange:o=>xe(o.target.value),className:"w-24 tcmgo-input"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"prefeitoNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Presidente da Câmara Atual"}),e.jsx(u,{id:"presidenteCamaraNome",placeholder:"Nome",value:f.nome,onChange:o=>P({...f,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!f.incluido&&!f.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-5",children:[e.jsx(u,{id:"presidenteCamaraCpf",placeholder:"CPF",value:y(f.cpf),onChange:o=>{const a=$(o.target.value);a.length<=11&&P({...f,cpf:a})},className:"w-32 tcmgo-input",disabled:!f.incluido&&!f.cpf}),e.jsx(Z,{checked:f.incluido,onCheckedChange:o=>L(f,P,"Presidente da Câmara",o)})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-5",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"prefeitoNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Prefeito(a) Atual"}),e.jsx(u,{id:"prefeitoNome",placeholder:"Nome",value:C.nome,onChange:o=>j({...C,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!C.incluido&&!C.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-5",children:[e.jsx(u,{id:"prefeitoCpf",placeholder:"CPF",value:y(C.cpf),onChange:o=>{const a=$(o.target.value);a.length<=11&&j({...C,cpf:a})},className:"w-32 tcmgo-input",disabled:!C.incluido&&!C.cpf}),e.jsx(Z,{checked:C.incluido,onCheckedChange:o=>L(C,j,"Prefeito(a)",o)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-5",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"chefeRHCamaraNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Chefe do RH da Câmara Municipal"}),e.jsx(u,{id:"chefeRHCamaraNome",placeholder:"Nome",value:v.nome,onChange:o=>w({...v,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!v.incluido&&!v.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-5",children:[e.jsx(u,{id:"chefeRHCamaraCpf",placeholder:"CPF",value:y(v.cpf),onChange:o=>{const a=$(o.target.value);a.length<=11&&w({...v,cpf:a})},className:"w-32 tcmgo-input",disabled:!v.incluido&&!v.cpf}),e.jsx(Z,{checked:v.incluido,onCheckedChange:o=>L(v,w,"Chefe RH Câmara",o)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-5",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"chefeRHPrefeituraNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Chefe do RH da Prefeitura"}),e.jsx(u,{id:"chefeRHPrefeituraNome",placeholder:"Nome",value:N.nome,onChange:o=>R({...N,nome:o.target.value}),className:"mb-1 tcmgo-input",disabled:!N.incluido&&!N.nome})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-5",children:[e.jsx(u,{id:"chefeRHPrefeituraCpf",placeholder:"CPF",value:y(N.cpf),onChange:o=>{const a=$(o.target.value);a.length<=11&&R({...N,cpf:a})},className:"w-32 tcmgo-input",disabled:!N.incluido&&!N.cpf}),e.jsx(Z,{checked:N.incluido,onCheckedChange:o=>L(N,R,"Chefe RH Prefeitura",o)})]})]}),e.jsxs("div",{className:"flex flex-wrap mt-4",children:[e.jsxs("div",{className:"flex items-center mr-4 space-x-2",children:[e.jsx(Fe,{id:"incluirExResponsaveis",checked:be,onCheckedChange:o=>Pe(o)}),e.jsx(p,{htmlFor:"incluirExResponsaveis",children:"Incluir Ex-Responsáveis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{id:"incluirOutrosResponsaveis",checked:we,onCheckedChange:o=>Re(o)}),e.jsx(p,{htmlFor:"incluirOutrosResponsaveis",children:"Incluir Outros Responsáveis"})]}),e.jsxs(Ze,{open:Me,onOpenChange:pe,children:[e.jsx(_e,{asChild:!0,className:"ml-auto",children:e.jsx("div",{className:"pt-4 flex items-center text-sm",children:e.jsxs(E,{variant:"outline",size:"sm",className:"text-primary border-primary hover:bg-primary/10",children:[e.jsx(io,{className:"h-4 w-4 mr-1"}),"Visualizar Resposáveis Incluídos"]})})}),e.jsxs(eo,{className:"sm:max-w-[600px] bg-white",children:[e.jsx(oo,{children:e.jsx(ao,{className:"text-center text-lg font-semibold text-gray-800",children:"Responsáveis incluídos"})}),e.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:e.jsx(k,{className:"h-[400px] w-full",children:x.length>0?x.map((o,a)=>e.jsxs("div",{className:"border border-gray-300 p-2 rounded mb-2 flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.nome}),e.jsxs("p",{className:"text-gray-600",children:[o.cargo," - CPF: ",y(o.cpf)]})]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>He(o),className:"text-red-500 hover:text-red-700",children:e.jsx(Je,{className:"h-4 w-4"})})]},`${o.cpf}-${o.cargo}-${a}`)):e.jsx("div",{className:"text-center text-gray-500",children:"Nenhum responsável incluído ainda."})})})]})]})]}),be&&e.jsxs("div",{className:"mt-6 border rounded-md p-4 bg-gray-50",children:[D&&e.jsx("p",{children:"Carregando ex-responsáveis..."}),G&&e.jsxs("p",{className:"text-red-500",children:["Erro ao carregar: ",G]}),!D&&!G&&e.jsxs("div",{className:"mb-4 flex flex-wrap",children:[e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Presidentes da Câmara:"}),e.jsx(k,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{children:Ce.length>0?Ce.map(o=>{const a=U.has(o.id),n=`Ex-${o.cargo}`;return e.jsxs("div",{className:`border border-gray-300 rounded-md p-2 mb-2 flex justify-between items-center text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>a?J(o.id,n):V(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(X,{className:"h-4 w-4"}):e.jsx(M,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]}),e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Prefeitos(as):"}),e.jsx(k,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{children:ve.length>0?ve.map(o=>{const a=U.has(o.id),n=`Ex-${o.cargo}`;return e.jsxs("div",{className:`border border-gray-300 rounded-md p-2 mb-2 flex justify-between items-center text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>a?J(o.id,n):V(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(X,{className:"h-4 w-4"}):e.jsx(M,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]}),e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Chefes RH Câmara:"}),e.jsx(k,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{children:Ne.length>0?Ne.map(o=>{const a=U.has(o.id),n=`Ex-${o.cargo}`;return e.jsxs("div",{className:`border border-gray-300 rounded-md p-2 mb-2 flex justify-between items-center text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>a?J(o.id,n):V(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(X,{className:"h-4 w-4"}):e.jsx(M,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]}),e.jsxs("div",{className:"w-[calc(50%-1rem)] mb-4 mr-4",children:[e.jsx("h4",{className:"font-medium text-gray-600 text-sm mb-1",children:"Ex-Chefes RH Prefeitura:"}),e.jsx(k,{className:"h-40 w-full rounded-md border p-2 bg-white",children:e.jsx("div",{children:je.length>0?je.map(o=>{const a=U.has(o.id),n=`Ex-${o.cargo}`;return e.jsxs("div",{className:`border border-gray-300 rounded-md p-2 mb-2 flex justify-between items-center text-sm ${a?"bg-green-100":""}`,children:[e.jsxs("span",{children:[o.nome," (",o.dataInicio," - ",o.dataFim||"Atual",")"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>a?J(o.id,n):V(o),className:a?"text-red-500 hover:text-red-700":"text-primary hover:text-primary/80",children:a?e.jsx(X,{className:"h-4 w-4"}):e.jsx(M,{className:"h-4 w-4"})})]},o.id)}):e.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum encontrado."})})})]})]})]}),we&&e.jsxs("div",{className:"mt-6 border rounded-md p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Incluir Outros Responsáveis"}),e.jsxs("div",{className:"mb-3 w-[42.5%]",children:[e.jsx(p,{htmlFor:"outroNome",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Nome do Responsável"}),e.jsx(u,{id:"outroNome",placeholder:"Nome",value:oe,onChange:o=>ae(o.target.value)})]}),e.jsxs("div",{className:"flex gap-4 items-center mb-3",children:[e.jsxs("div",{className:"w-32",children:[e.jsx(p,{htmlFor:"outroCpf",className:"text-sm font-medium text-gray-700 mb-1 block",children:"CPF Responsável"}),e.jsx(u,{id:"outroCpf",placeholder:"CPF",value:y(ie),onChange:o=>{const a=$(o.target.value);a.length<=11&&se(a)}})]}),e.jsxs("div",{className:"w-64",children:[e.jsx(p,{htmlFor:"outroCargo",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Cargo"}),e.jsx(u,{id:"outroCargo",placeholder:"Cargo (Ex: Secretário)",value:ne,onChange:o=>ce(o.target.value)})]}),e.jsxs(E,{onClick:De,className:"ml-3 mt-6 bg-secondary hover:bg-secondary/90 text-white",size:"sm",children:[e.jsx(M,{className:"h-4 w-4 mr-1"})," Incluir Responsável"]})]})]})]})})})]})]})})};export{Co as default};
